[
  {
    "title": "Experimenting with a multi-platform app using React",
    "tags": [
      "webdev",
      "native",
      "react",
      "reactnative",
      "ios",
      "mobile",
      "mozilla"
    ],
    "year": "2015",
    "month": "07",
    "day": "22",
    "isDir": false,
    "slug": "react-multiplatform",
    "date": "2015-07-22T12:00:00.000Z",
    "postName": "2015-07-22-react-multiplatform",
    "html": "<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p>TL;DR: I built <a href=\"https://github.com/lmorchard/react-multiplatform/\">a toy app using React for web and native</a> to get a feel for whether this hybrid approach is worth using. I think the answer is &quot;yes&quot; - but mainly for apps whose business logic &amp; data models are more complex than their views.</p>\n<!--more-->\n\n<h2 id=\"write-slightly-more-than-once-run-manywhere\">Write slightly more than once, run manywhere</h2>\n<p>At Mozilla, one of the things we try to champion is the efficiency of writing one web app versus building many separate native apps. In practice, your mileage varies based on goals, priorities, platform capabilities, and a dozen other factors.</p>\n<p><a href=\"https://facebook.github.io/react/\">React</a> and <a href=\"https://facebook.github.io/react-native/\">React Native</a> seem to offer a middle ground: Given the shared conventions and patterns and language, it should be possible to share a lot of code between platforms while still taking advantage of native capabilities.</p>\n<p>So, I figured I&#39;d give it a shot and try measuring the common lines of code as a rough success metric.</p>\n<h2 id=\"great-another-todo-app\">Great, another Todo app</h2>\n<p>I decided to build a Todo app, with lots of inspiration and a little code borrowed from <a href=\"http://todomvc.com/\">TodoMVC</a>.</p>\n<p>A basic Todo app demands just enough user interface and data management to get an initial feel for most app frameworks. Commit to something bigger and you may end up wasting your time. Build something smaller and you won&#39;t have explored deep enough into the framework&#39;s solution space.</p>\n<p>I think I&#39;ve erred on the shallow side, but that just gives me room to improve.</p>\n<h2 id=\"what-about-flux-vs-mvc\">What about Flux vs MVC?</h2>\n<p>It&#39;s said that React provides just the V in MVC (Model-View-Controller). But, there&#39;s also <a href=\"https://facebook.github.io/flux/docs/overview.html\">this Flux notion</a>. It&#39;s billed as an alternative to MVC, and React is intended to be a part of it. That said, I haven&#39;t quite yet wrapped my head around Flux. Luckily, React is focused and useful in isolation. So, I can defer buying into the rest of the conceptual package as I learn.</p>\n<p>In fact, I didn&#39;t even really end up building a proper MVC app. The Controller role got distributed between Views &amp; Models: UI event handlers in Views modify Models directly. Views subscribe to change events from Models to update their own state.</p>\n<p>I expect that when I grok Flux better, it&#39;s this reciprocal Model/View relationship that will get broken up &amp; mediated by a Dispatcher. But, in the spirit of iterative hacking, I forged ahead with my terrible code &amp; design.</p>\n<h2 id=\"building-shared-models\">Building shared Models</h2>\n<p>For the Model layer, I took a look at <a href=\"http://ampersandjs.com/\">Ampersand.js</a>. Based originally on <a href=\"http://backbonejs.org/\">Backbone.js</a> - a library of which I&#39;m a big fan - <a href=\"http://ampersandjs.com/\">Ampersand.js</a> breaks things up into a collection of small modules that work well together. But, like <a href=\"https://facebook.github.io/react/\">React</a>, most of the modules are handy in isolation or alongside substitutions from outside of the <a href=\"http://ampersandjs.com/\">Ampersand.js</a> family.</p>\n<p>For managing a single todo item, I liked the looks of <a href=\"https://github.com/AmpersandJS/ampersand-state\">ampersand-state</a>. With it, you can build JavaScript objects with properties that can be watched for changes. This is what <a href=\"https://github.com/lmorchard/react-multiplatform/blob/master/lib/models/Todo.js\">my todo item model</a> looks like, using <a href=\"https://github.com/tastejs/todomvc/blob/master/examples/ampersand/js/models/todo.js\">TodoMVC code</a> as a starting point:</p>\n<pre><code class=\"language-javascript\">var State = require(&#39;ampersand-state&#39;);\nmodule.exports = State.extend({\n  // Properties this model will store\n  props: {\n    title: { type: &#39;string&#39;, default: &#39;&#39; },\n    completed: { type: &#39;boolean&#39;, default: false }\n  },\n  // session properties are not included when serializing.\n  session: {\n    editing: { type: &#39;boolean&#39;, default: false }\n  },\n  destroy: function () {\n    if (this.collection) {\n      this.collection.remove(this);\n    }\n  }\n});</code></pre>\n<h2 id=\"forking-the-views-by-platform\">Forking the Views by platform</h2>\n<p>This Model code works on both the web and native sides of my app. So far, so good - and pretty straightforward.</p>\n<p>However, getting down to actually rendering this data across platforms reveals where things start to vary. For example, <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/web/TodoItem.js#L34\">the JSX in the <code>render()</code> method of my web view</a> looks like this:</p>\n<pre><code class=\"language-javascript\">return (\n  &lt;li style={itemStyles.container}&gt;\n    &lt;input type=&quot;checkbox&quot;\n      style={itemStyles.completed}\n      onChange={(event) =&gt; this.handleCompletedChange(event.target.checked)}\n      checked={this.state.item.completed} /&gt;\n    {title}\n  &lt;/li&gt;\n);</code></pre>\n<p>Meanwhile, <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/ios/TodoItem.js#L42\">the JSX in the <code>render()</code> method of my iOS view</a> looks like this:</p>\n<pre><code class=\"language-javascript\">return (\n  &lt;View style={styles.todoItem}&gt;\n    &lt;SwitchIOS\n      style={styles.todoCompleted}\n      onValueChange={this.handleCompletedChange}\n      value={this.state.item.completed} /&gt;\n    {title}\n  &lt;/View&gt;\n);</code></pre>\n<p>And, if you take a longer peek at those views, you&#39;ll see some slightly more complex JSX devoted to the <code>{title}</code> placeholders where rendering changes based on whether the item is being edited.</p>\n<p>It&#39;s not radically different; it&#39;s just enough to make things interesting.</p>\n<h2 id=\"code-sharing-with-react-mixins\">Code sharing with React mixins</h2>\n<p>What you might notice about these two divergent views, though, is they both start like this:</p>\n<pre><code class=\"language-javascript\">var TodoItem = module.exports = React.createClass({\n  mixins: [Views.TodoItemCommonMixin],\n  // ...</code></pre>\n<p>It turns out that, thanks to <a href=\"https://facebook.github.io/react/docs/reusable-components.html#mixins\">React mixins</a>, I can write <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/index.js#L35\">the bulk of the View logic</a> in a shared module. Since both sides use Models based on <a href=\"https://github.com/AmpersandJS/ampersand-state\">ampersand-state</a>, this includes subscribing to Model changes:</p>\n<pre><code class=\"language-javascript\">getInitialState() {\n  return { editing: false, item: this.props.item };\n},\ncomponentDidMount() {\n  this.state.item.on(&#39;change&#39;, () =&gt; this.forceUpdate(), this);\n},\ncomponentWillUnmount() {\n  this.state.item.off(null, null, this);\n},\ncomponentWillReceiveProps(props) {\n  this.setState({ item: props.item });\n},\ncomponentDidUpdate(prevProps, prevState) {\n  if (prevState.item !== this.state.item) {\n    prevState.item.off(null, null, this);\n    this.state.item.on(&#39;change&#39;, () =&gt; this.forceUpdate(), this);\n  }\n}</code></pre>\n<p>And, since both sides use Views based on <a href=\"https://facebook.github.io/react/\">React</a>, many UI event handlers can also be shared despite the difference in platform specific JSX and view elements.</p>\n<p>(Of course, I recently learned that <a href=\"https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750\">React mixins are dead</a>, so I&#39;m already behind the times. But, this code works for now. I&#39;ll get around to burning that bridge when I learn more about Flux.)</p>\n<h2 id=\"forking--sharing-model-code-for-persistence\">Forking &amp; sharing Model code for persistence</h2>\n<p>For multiple todo items, <a href=\"https://github.com/AmpersandJS/ampersand-collection\">ampersand-collection</a> is handy. It manages arrays of <a href=\"https://github.com/AmpersandJS/ampersand-state\">ampersand-state</a> objects and emits events when the set changes. This is useful for keeping <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/web/TodoList.js\">list</a> <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/ios/TodoList.js\">views</a> updated.</p>\n<p><a href=\"https://github.com/AmpersandJS/ampersand-collection\">ampersand-collection</a> also offers methods for serializing &amp; deserializing the models it contains. That&#39;s just what I need, because I&#39;d like to make my todo list items persistent between sessions with the app.</p>\n<p>Apropos of that, we have some storage capabilities on each platform: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API\">localStorage</a> for modern browsers, and <a href=\"https://facebook.github.io/react-native/docs/asyncstorage.html\">AsyncStorage</a> for React Native. Both allow you to store small amounts of persistent data on a device. For the purposes of this toy app, these data stores are just about right.</p>\n<p>But, these storage APIs differ. <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/web/TodoCollection.js#L14\">Using localStorage</a> looks like this:</p>\n<pre><code class=\"language-javascript\">readFromStorage: function () {\n  var existingData = localStorage[STORAGE_KEY];\n  if (existingData) {\n    this.set(JSON.parse(existingData));\n  }\n},\nwriteToStorage: function () {\n  localStorage[STORAGE_KEY] = JSON.stringify(this);\n}</code></pre>\n<p>Meanwhile, <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/ios/TodoCollection.js#L9\">using AsyncStorage</a> looks like this:</p>\n<pre><code class=\"language-javascript\">readFromStorage() {\n  AsyncStorage.getItem(STORAGE_KEY).then((existingData) =&gt; {\n    this.set(JSON.parse(existingData));\n  });\n},\nwriteToStorage() {\n  AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(this));\n}</code></pre>\n<p>If you peek at those last two links, though, you might notice they both define classes that start like this:</p>\n<pre><code class=\"language-javascript\">var TodoCollection = module.exports = BaseCollection.extend({</code></pre>\n<p>Since <a href=\"https://github.com/AmpersandJS/ampersand-collection\">ampersand-collection</a> supports class inheritance, the bulk of the logic for these collections can be housed in <a href=\"https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/TodoCollection.js#L8\">a shared superclass</a>. The subclasses just need to implement the platform-specific storage methods. A different mechanism than <a href=\"https://facebook.github.io/react/docs/reusable-components.html#mixins\">React mixins</a>, but for basically the same purpose.</p>\n<h2 id=\"sharing-by-the-numbers\">Sharing by the numbers</h2>\n<p>The main goal of this experiment is to get a feel as to whether a hybrid React approach is worth considering versus building totally separate apps for native and web platforms. The metric I decided to use for this is counting lines of code (LoC), and this is what I found:</p>\n<ul>\n<li><p>Overall, ~30% shared LoC (226 / 748).</p>\n</li>\n<li><p>For Models, ~74% shared LoC (159 / 215).</p>\n</li>\n<li><p>For Views, ~12% shared LoC (67 / 533).</p>\n</li>\n</ul>\n<p>Because I like showing my work, here&#39;s how I came up with those numbers:</p>\n<pre><code class=\"language-bash\"># Total LoC for models = 215\n$ cat lib/models/**/*.js | wc -l\n     215\n\n# ~74% common model code\n$ cat lib/models/*js | wc -l\n     159\n\n# ~12% iOS specific model code\n$ cat lib/models/ios/*js | wc -l\n      25\n\n# ~14% web specific model code\n$ cat lib/models/web/*js | wc -l\n      31\n\n# Total LoC for views = 533\n$ cat lib/views/**/*.js | wc -l\n     533\n\n# ~12% common view code\n$ cat lib/views/*js | wc -l\n      67\n\n# ~44% iOS specific view code\n$ cat lib/views/ios/*js | wc -l\n     235\n\n# ~43% web specific view code\n$ cat lib/views/web/*js | wc -l\n     231</code></pre>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Using React for both web &amp; native looks promising. However, the toy app I&#39;ve built is too simple to present an overwhemingly compelling case.</p>\n<p>What I tried to do here was get a quick feel for the shape of things and where the code multipliers can be found. Your mileage will vary on app features and code refactoring ability.</p>\n<p>In particular, this toy app&#39;s models are very simple. So, even though there&#39;s a lot of sharing, it doesn&#39;t make a big impact on the bottom line. In an app with more complex business logic, that could change favorably.</p>\n<p>On the other hand, Views between platforms will have a greater impact as they get more complex in dealing with divergent UI elements. You could paper over many platform differences with reusable components that normalize APIs &amp; usage patterns - hopefully while not squashing unique advantages of each platform. So far, this app is too simple to really expose those opportunities.</p>\n<p>And, of course, all bets are off once you&#39;ve left React for straight native development. My hunch is that there are qualitative &amp; quantitative benefits to reducing context switching. You can focus development &amp; testing efforts on JavaScript &amp; React as opposed to multiple native &amp; web toolkits (e.g. Objective-C &amp; Swift &amp; Java - oh my!). But, measuring that hunch is beyond the scope of what I tried doing here.</p>\n<p>Hopefully, I&#39;ve raised some interesting features of the terrain. But, I know this is a very shallow look at things and I&#39;m learning as I go along. Feel free to poke holes in this stuff and throw some suggestions at me!</p>\n",
    "body": "<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\nTL;DR: I built [a toy app using React for web and native][react-multiplatform] to get a feel for whether this hybrid approach is worth using. I think the answer is \"yes\" - but mainly for apps whose business logic & data models are more complex than their views.\n\n<!--more-->\n\n## Write slightly more than once, run manywhere\n\nAt Mozilla, one of the things we try to champion is the efficiency of writing one web app versus building many separate native apps. In practice, your mileage varies based on goals, priorities, platform capabilities, and a dozen other factors.\n\n[React][] and [React Native][] seem to offer a middle ground: Given the shared conventions and patterns and language, it should be possible to share a lot of code between platforms while still taking advantage of native capabilities.\n\nSo, I figured I'd give it a shot and try measuring the common lines of code as a rough success metric.\n\n## Great, another Todo app\n\nI decided to build a Todo app, with lots of inspiration and a little code borrowed from [TodoMVC][].\n\nA basic Todo app demands just enough user interface and data management to get an initial feel for most app frameworks. Commit to something bigger and you may end up wasting your time. Build something smaller and you won't have explored deep enough into the framework's solution space.\n\nI think I've erred on the shallow side, but that just gives me room to improve.\n\n## What about Flux vs MVC?\n\nIt's said that React provides just the V in MVC (Model-View-Controller). But, there's also [this Flux notion][flux]. It's billed as an alternative to MVC, and React is intended to be a part of it. That said, I haven't quite yet wrapped my head around Flux. Luckily, React is focused and useful in isolation. So, I can defer buying into the rest of the conceptual package as I learn.\n\nIn fact, I didn't even really end up building a proper MVC app. The Controller role got distributed between Views & Models: UI event handlers in Views modify Models directly. Views subscribe to change events from Models to update their own state.\n\nI expect that when I grok Flux better, it's this reciprocal Model/View relationship that will get broken up & mediated by a Dispatcher. But, in the spirit of iterative hacking, I forged ahead with my terrible code & design.\n\n## Building shared Models\n\nFor the Model layer, I took a look at [Ampersand.js][]. Based originally on [Backbone.js][] - a library of which I'm a big fan - [Ampersand.js][] breaks things up into a collection of small modules that work well together. But, like [React][], most of the modules are handy in isolation or alongside substitutions from outside of the [Ampersand.js][] family.\n\nFor managing a single todo item, I liked the looks of [ampersand-state][]. With it, you can build JavaScript objects with properties that can be watched for changes. This is what [my todo item model][todo-model] looks like, using [TodoMVC code][todo-model-ampersand] as a starting point:\n\n```javascript\nvar State = require('ampersand-state');\nmodule.exports = State.extend({\n  // Properties this model will store\n  props: {\n    title: { type: 'string', default: '' },\n    completed: { type: 'boolean', default: false }\n  },\n  // session properties are not included when serializing.\n  session: {\n    editing: { type: 'boolean', default: false }\n  },\n  destroy: function () {\n    if (this.collection) {\n      this.collection.remove(this);\n    }\n  }\n});\n```\n\n## Forking the Views by platform\n\nThis Model code works on both the web and native sides of my app. So far, so good - and pretty straightforward.\n\nHowever, getting down to actually rendering this data across platforms reveals where things start to vary. For example, [the JSX in the `render()` method of my web view][item-web-render] looks like this:\n\n```javascript\nreturn (\n  <li style={itemStyles.container}>\n    <input type=\"checkbox\"\n      style={itemStyles.completed}\n      onChange={(event) => this.handleCompletedChange(event.target.checked)}\n      checked={this.state.item.completed} />\n    {title}\n  </li>\n);\n```\n\nMeanwhile, [the JSX in the `render()` method of my iOS view][item-ios-render] looks like this:\n\n```javascript\nreturn (\n  <View style={styles.todoItem}>\n    <SwitchIOS\n      style={styles.todoCompleted}\n      onValueChange={this.handleCompletedChange}\n      value={this.state.item.completed} />\n    {title}\n  </View>\n);\n```\n\n[item-web-render]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/web/TodoItem.js#L34\n[item-ios-render]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/ios/TodoItem.js#L42\n\nAnd, if you take a longer peek at those views, you'll see some slightly more complex JSX devoted to the `{title}` placeholders where rendering changes based on whether the item is being edited.\n\nIt's not radically different; it's just enough to make things interesting.\n\n## Code sharing with React mixins\n\nWhat you might notice about these two divergent views, though, is they both start like this:\n\n```javascript\nvar TodoItem = module.exports = React.createClass({\n  mixins: [Views.TodoItemCommonMixin],\n  // ...\n```\n\nIt turns out that, thanks to [React mixins][], I can write [the bulk of the View logic][item-shared-view] in a shared module. Since both sides use Models based on [ampersand-state][], this includes subscribing to Model changes:\n\n[React mixins]: https://facebook.github.io/react/docs/reusable-components.html#mixins\n\n```javascript\ngetInitialState() {\n  return { editing: false, item: this.props.item };\n},\ncomponentDidMount() {\n  this.state.item.on('change', () => this.forceUpdate(), this);\n},\ncomponentWillUnmount() {\n  this.state.item.off(null, null, this);\n},\ncomponentWillReceiveProps(props) {\n  this.setState({ item: props.item });\n},\ncomponentDidUpdate(prevProps, prevState) {\n  if (prevState.item !== this.state.item) {\n    prevState.item.off(null, null, this);\n    this.state.item.on('change', () => this.forceUpdate(), this);\n  }\n}\n```\n\n[item-shared-view]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/index.js#L35\n\nAnd, since both sides use Views based on [React][], many UI event handlers can also be shared despite the difference in platform specific JSX and view elements.\n\n(Of course, I recently learned that [React mixins are dead][dead-mixins], so I'm already behind the times. But, this code works for now. I'll get around to burning that bridge when I learn more about Flux.)\n\n[dead-mixins]: https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750\n\n## Forking & sharing Model code for persistence\n\nFor multiple todo items, [ampersand-collection][] is handy. It manages arrays of [ampersand-state][] objects and emits events when the set changes. This is useful for keeping [list][list-web-view] [views][list-ios-view] updated.\n\n[list-web-view]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/web/TodoList.js\n[list-ios-view]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/views/ios/TodoList.js\n\n[ampersand-collection][] also offers methods for serializing & deserializing the models it contains. That's just what I need, because I'd like to make my todo list items persistent between sessions with the app.\n\n[todo-model]: https://github.com/lmorchard/react-multiplatform/blob/master/lib/models/Todo.js\n[todo-model-ampersand]: https://github.com/tastejs/todomvc/blob/master/examples/ampersand/js/models/todo.js\n\nApropos of that, we have some storage capabilities on each platform: [localStorage][] for modern browsers, and [AsyncStorage][] for React Native. Both allow you to store small amounts of persistent data on a device. For the purposes of this toy app, these data stores are just about right.\n\nBut, these storage APIs differ. [Using localStorage][using-localstorage] looks like this:\n\n```javascript\nreadFromStorage: function () {\n  var existingData = localStorage[STORAGE_KEY];\n  if (existingData) {\n    this.set(JSON.parse(existingData));\n  }\n},\nwriteToStorage: function () {\n  localStorage[STORAGE_KEY] = JSON.stringify(this);\n}\n```\n\nMeanwhile, [using AsyncStorage][using-asyncstorage] looks like this:\n\n```javascript\nreadFromStorage() {\n  AsyncStorage.getItem(STORAGE_KEY).then((existingData) => {\n    this.set(JSON.parse(existingData));\n  });\n},\nwriteToStorage() {\n  AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(this));\n}\n```\n\nIf you peek at those last two links, though, you might notice they both define classes that start like this:\n\n```javascript\nvar TodoCollection = module.exports = BaseCollection.extend({\n```\n\nSince [ampersand-collection][] supports class inheritance, the bulk of the logic for these collections can be housed in [a shared superclass][basecollection]. The subclasses just need to implement the platform-specific storage methods. A different mechanism than [React mixins][], but for basically the same purpose.\n\n[using-localstorage]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/web/TodoCollection.js#L14\n[using-asyncstorage]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/ios/TodoCollection.js#L9\n[basecollection]: https://github.com/lmorchard/react-multiplatform/blob/3fd16fe31473f249d8a54020ef252f524dd17d70/lib/models/TodoCollection.js#L8\n\n[AsyncStorage]: https://facebook.github.io/react-native/docs/asyncstorage.html\n[localstorage]: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API\n\n## Sharing by the numbers\n\nThe main goal of this experiment is to get a feel as to whether a hybrid React approach is worth considering versus building totally separate apps for native and web platforms. The metric I decided to use for this is counting lines of code (LoC), and this is what I found:\n\n* Overall, ~30% shared LoC (226 / 748).\n\n* For Models, ~74% shared LoC (159 / 215).\n\n* For Views, ~12% shared LoC (67 / 533).\n\nBecause I like showing my work, here's how I came up with those numbers:\n\n```bash\n# Total LoC for models = 215\n$ cat lib/models/**/*.js | wc -l\n     215\n\n# ~74% common model code\n$ cat lib/models/*js | wc -l\n     159\n\n# ~12% iOS specific model code\n$ cat lib/models/ios/*js | wc -l\n      25\n\n# ~14% web specific model code\n$ cat lib/models/web/*js | wc -l\n      31\n\n# Total LoC for views = 533\n$ cat lib/views/**/*.js | wc -l\n     533\n\n# ~12% common view code\n$ cat lib/views/*js | wc -l\n      67\n\n# ~44% iOS specific view code\n$ cat lib/views/ios/*js | wc -l\n     235\n\n# ~43% web specific view code\n$ cat lib/views/web/*js | wc -l\n     231\n```\n\n## Conclusion\n\nUsing React for both web & native looks promising. However, the toy app I've built is too simple to present an overwhemingly compelling case.\n\nWhat I tried to do here was get a quick feel for the shape of things and where the code multipliers can be found. Your mileage will vary on app features and code refactoring ability.\n\nIn particular, this toy app's models are very simple. So, even though there's a lot of sharing, it doesn't make a big impact on the bottom line. In an app with more complex business logic, that could change favorably.\n\nOn the other hand, Views between platforms will have a greater impact as they get more complex in dealing with divergent UI elements. You could paper over many platform differences with reusable components that normalize APIs & usage patterns - hopefully while not squashing unique advantages of each platform. So far, this app is too simple to really expose those opportunities.\n\nAnd, of course, all bets are off once you've left React for straight native development. My hunch is that there are qualitative & quantitative benefits to reducing context switching. You can focus development & testing efforts on JavaScript & React as opposed to multiple native & web toolkits (e.g. Objective-C & Swift & Java - oh my!). But, measuring that hunch is beyond the scope of what I tried doing here.\n\nHopefully, I've raised some interesting features of the terrain. But, I know this is a very shallow look at things and I'm learning as I go along. Feel free to poke holes in this stuff and throw some suggestions at me!\n\n[ampersand-subcollection]: https://github.com/AmpersandJS/ampersand-subcollection\n[ampersand-collection]: https://github.com/AmpersandJS/ampersand-collection\n[ampersand-state]: https://github.com/AmpersandJS/ampersand-state\n[ampersand-view]: https://github.com/AmpersandJS/ampersand-view\n[Backbone.js]: http://backbonejs.org/\n[ampersand.js]: http://ampersandjs.com/\n[flux]: https://facebook.github.io/flux/docs/overview.html\n[TodoMVC]: http://todomvc.com/\n[react-multiplatform]: https://github.com/lmorchard/react-multiplatform/\n[react]: https://facebook.github.io/react/\n[feels-like-web]: https://code.facebook.com/posts/1014532261909640/react-native-bringing-modern-web-techniques-to-mobile/\n[rn-devtools]: https://facebook.github.io/react-native/docs/debugging.html#content\n[react-api]: https://facebook.github.io/react/docs/top-level-api.html\n[React Native]: https://facebook.github.io/react-native/\n",
    "parentPath": "../blog.lmorchard.com/posts/archives/2015",
    "path": "2015/07/22/react-multiplatform",
    "summary": "<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p>TL;DR: I built <a href=\"https://github.com/lmorchard/react-multiplatform/\">a toy app using React for web and native</a> to get a feel for whether this hybrid approach is worth using. I think the answer is &quot;yes&quot; - but mainly for apps whose business logic &amp; data models are more complex than their views.</p>\n",
    "prevPostPath": "2015/08/07/web-awesome",
    "nextPostPath": "2015/07/22/the-verge-web-sucks"
  },
  {
    "title": "The Verge's web sucks",
    "tags": [
      "webdev",
      "adtech",
      "advertising",
      "internet",
      "privacy",
      "tracking"
    ],
    "year": "2015",
    "month": "07",
    "day": "22",
    "isDir": false,
    "slug": "the-verge-web-sucks",
    "date": "2015-07-22T12:00:00.000Z",
    "postName": "2015-07-22-the-verge-web-sucks",
    "html": "<p>TL;DR: Did you know that The Verge delivers you to around 20 companies for advertising &amp; tracking purposes? I didn&#39;t. That might foul up your web experience a little bit. Maybe we should try something different.</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<h2 id=\"i-love-the-verge-but-man\">I love The Verge, but man...</h2>\n<p>So, I&#39;ve been a big fan of The Verge, <a href=\"https://twitter.com/lmorchard/statuses/142396733316534272\">almost since day one</a>. It&#39;s a gorgeous site and the content is great.</p>\n<p>They&#39;ve done some amazing things with longform articles like &quot;<a href=\"http://www.theverge.com/2015/6/24/8809723/jerry-seinfeld-tv-show-international-translation\">What&#39;s the deal with translating Seinfeld</a>&quot; and &quot;<a href=\"http://www.theverge.com/2015/4/2/8285139/max-headroom-oral-history-80s-cyberpunk-interview\">Max Headroom: the definitive history of the 1980s digital icon</a>&quot;, and the daily news output is high quality.</p>\n<p>But, I have to say, reading <a href=\"https://twitter.com/reckless/\">Nilay Patel</a>&#39;s &quot;<a href=\"http://www.theverge.com/2015/7/20/9002721/the-mobile-web-sucks\">The Mobile Web Sucks</a>&quot; felt like getting pelted by rocks thrown <a href=\"http://product.voxmedia.com/2015/5/6/8561867/declaring-performance-bankruptcy\">from a bright, shiny glass house</a>.</p>\n<p>Calling out browser makers for the performance of sites like his? That&#39;s a bit much.</p>\n<p>Here&#39;s my thing: I&#39;ve never had an iPhone. I&#39;ve had Palm webOS phones, a parade of Android devices, and now <a href=\"http://www.cnet.com/news/mozilla-overhauls-firefox-smartphone-plan-to-focus-on-quality-not-cost/\">an experimental Boot2Gecko phone on really nice hardware</a>. Some sites have long been a delight on whatever gadget I fetch from my pocket. Others, I&#39;ve watched decay over the years as their mobile web experiences are neglected in favor of those frantically promoted apps.</p>\n<p>The Verge isn&#39;t quite either of those. And, for me as a fan, it&#39;s frustrating.</p>\n<h2 id=\"time-to-open-the-dev-tools\">Time to open the Dev Tools</h2>\n<p>A page view on The Verge is a heavy load. I&#39;ve known this for awhile, but it wasn&#39;t until now that I decided to take a peek at what might be wriggling under this log.</p>\n<p>So, I opened up the Dev Tools in Firefox and gave the page a reload on a cleared cache.</p>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/the-verge-html-size.png\" class=\"fullwidth\"\n  alt=\"HTML size on the article\"/></p>\n<p>That&#39;s fine - 75kb of HTML for the article. But, I also expect there&#39;ll be a font or two and a raft of images.</p>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/more-resources.png\" class=\"fullwidth\"\n  alt=\"Loading more resources...\" /></p>\n<p>We&#39;re up to 20 requests and 1.4MB over ~7 seconds. That&#39;s on the upper end of what I&#39;d advise, but it&#39;s not terrible. I said that The Verge is a gorgeous site - that takes some resources. Hell, this very blog post is going to be bigger than I&#39;d like thanks to the Twitters &amp; Googles &amp; Disqus, and it&#39;s no visual delight either.</p>\n<p>Oh, but wait, it&#39;s not done loading yet. I&#39;m starting to read &amp; scroll, but my browser&#39;s still spinning. I wonder what the final stats will be?</p>\n<h2 id=\"ow-my-data-plan\">Ow, my data plan!</h2>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/the-verge-final-load-stats.png\"\n  class=\"fullwidth\" alt=\"It finally stopped loading\" /></p>\n<p>Holy crap. It took over 30 seconds. In the end, it fetched over 9.5MB across 263 HTTP requests. That&#39;s almost an order of magnitude more data &amp; time than needed for the article itself.</p>\n<p>What the hell is all this stuff?</p>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/resource-breakdown.png\"\n  class=\"fullwidth\" alt=\"It finally stopped loading\" /></p>\n<p>Wow. Devtools performed a second reload of the page to get an overall performance analysis. This time it downloaded 12MB - a little over 7MB in that is JavaScript!</p>\n<p>Just to put this in some rough perspective: Assuming I had a 1GB / month data plan, I could visit sites like The Verge about 3 times per day before I hit my cap. If I&#39;m lucky, some or most of this will get cached between requests so it won&#39;t be <em>quite</em> that bad. In fact, another report tells me that a primed cache yields 8MB transferred - so maybe 4 visits per day.</p>\n<p>That&#39;s assuming caches on mobile are comparable to my laptop, <a href=\"http://www.webperformancetoday.com/2012/07/12/early-findings-mobile-browser-cache-persistence-and-behaviour/\">which is not a safe assumption</a>.</p>\n<p>Still, this isn&#39;t one of the cool longform articles on The Verge with interactive features and whatnot. This is just a straightforward 1600 word rant with a few quotes &amp; images. Oh, and one video. Not entirely different than this blog post.</p>\n<p>What in the world is all this code <em>doing</em>?</p>\n<h2 id=\"shining-a-lightbeam-under-the-log\">Shining a Lightbeam under the log</h2>\n<p>Hmm, I think I <a href=\"https://twitter.com/reckless/status/623234268152598528\">Nilay Patel tweeted a hint</a>:</p>\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/satefan\">@satefan</a> <a href=\"https://twitter.com/verge\">@verge</a> part of the content we deliver is advertising! :)</p>&mdash; nilay patel (@reckless) <a href=\"https://twitter.com/reckless/status/623234268152598528\">July 20, 2015</a></blockquote>\n\n<p>Man, I&#39;d hazard a guess that <em>most</em> of what you just delivered was advertising. That, and spyware.</p>\n<p>In one of the <a href=\"https://wiki.mozilla.org/WeeklyUpdates\">public Monday update calls at Mozilla</a> I heard about this project called <a href=\"https://www.mozilla.org/en-US/lightbeam/\">Lightbeam</a>:</p>\n<blockquote>Lightbeam is a Firefox add-on that uses interactive visualizations to show you the first and third party sites you interact with on the Web.</blockquote>\n\n<p>So, I figured I&#39;d let it take a look at The Verge. This is what it showed:</p>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/im-surrounded.png\"\n  class=\"fullwidth\" id=\"thumbnail\" alt=\"I'm surrounded\" /></p>\n<p>Imagine this is an iceberg as viewed from above. The Verge is the tip above water, the big circle in the middle. The triangles dancing around it are third-party sites lurking under the surface. Lightbeam has a list view, so I switched to get a closer look:</p>\n<p><img src=\"/uploads/2015/the-verge-web-sucks/lightbeam-listview.png\"\n  class=\"fullwidth\" alt=\"Lightbeam list view\" /></p>\n<p>Sweet Jeebus. &quot;You have visited <strong>1 SITE</strong>. You have connected with <strong>47 THIRD PARTY SITES.</strong>&quot;</p>\n<h2 id=\"22-flavors-of-spyware\">22 flavors of spyware</h2>\n<p>Now, to be fair, scrolling through the report I could see that some of these distinct &quot;sites&quot; are clearly alternate domains owned by the same organization. That said, I still found <em>over 20 different companies</em> before I got tired of digging:</p>\n<!-- mosaic here? -->\n\n<ul> <!-- class=\"columns clearfix\"> -->\n<li><a href=\"http://googleadservices.com\">Google</a></li>\n<li><a href=\"http://advertising.amazon.com/\">Amazon</a> - \"Reach millions of customers who find, discover, and buy at Amazon\"</li>\n<li><a href=\"http://skimresources.com\">skimresources.com</a> - \"When links in publishers’ content lead their users to click through and buy from an online retailer, we make sure they’re rewarded!\"</li>\n<li><a href=\"http://sonobi.com\">sonobi.com</a> - \"Sonobi’s suite of buy and sell-side tools allow our customers to identify, deliver, and manage advertising opportunities through performance filters once absent from programmatic channels\"</li>\n<li><a href=\"http://umbel.com\">umbel.com</a> - \"Umbel helps you securely collect first-party customer data and combine all of your existing data from multiple sources to give you a complete view of your customers.\"</li>\n<li><a href=\"http://www.krux.com/\">krux.com</a> - \"Krux helps businesses drive revenue by delivering smarter content, commerce and marketing experiences to people.\"</li>\n<li><a href=\"http://mathtag.com\">mediamath.com</a> - \"MediaMath’s TerminalOne™ platform activates data, automates execution, and optimizes advertising interactions across addressable media—delivering greater performance, transparency, and control to marketers and a better experience to consumers.\"</li>\n<li><a href=\"http://adnxs.com\">adnxs.com</a> - \"Adnxs™ is a portal for Publishers to the AppNexus® online auction exchange used to sell advertising space.\"</li>\n<li><a href=\"http://bidswitch.net\">bidswitch.net</a> - \"BidSwitch provides immediate and seamless real-time access for Supply and Demand Partners across all media types (display, mobile, video, native, etc.).\"</li>\n<li><a href=\"http://scorecardresearch.com\">scorecardresearch.com</a> - \"ScorecardResearch, a service of Full Circle Studies, Inc., is part of the comScore, Inc. market research community, a leading global market research effort that studies and reports on Internet trends and behavior.\"</li>\n<li><a href=\"http://kargo.com\">kargo.com</a> - \"Kargo weaves our content and ad technology into our premium publishers’ mobile and tablet properties, offering advertisers the best brand experiences.\"</li>\n<li><a href=\"http://quantserve.com\">quantcast.com</a> - \"Understand your audience. Find your next customer.\"</li>\n<li><a href=\"http://moatads.com\">moatads.com</a> - \"Moat's proprietary ad search engine has become a ubiquitous tool for the display ad industry. Moat makes it easy to find what and where ads are running for the top brands and sites.\"</li>\n<li><a href=\"http://flashtalking.com\">flashtalking.com</a> - \"Flashtalking is an independent ad serving, measuring and technology company, providing best-in-class digital advertising products, service and support for online advertisers, key media buying and creative agencies.\"</li>\n<li><a href=\"http://www.lotame.com/\">lotame.com</a> - \"Lotame is a data management platform (DMP) that lets marketers, agencies and publishers harness audience data to make smarter marketing, product and business decisions.\"</li>\n<li><a href=\"http://ixicorp.com\">ixicorp.com</a> - \"IXI Services enables its clients to differentiate and target consumer households and target markets based on proprietary measures of wealth, income, spending capacity, credit, share-of-wallet, and share-of-market.\"</li>\n<li><a href=\"http://chartbeat.com\">chartbeat.com</a> - \"We partner with editorial teams to identify their highest quality content -- the pieces that pique and keep reader attention. We partner with advertising teams to plan campaigns around this high-quality content so these ads are seen more often and for longer.\"</li>\n<li><a href=\"http://bombora.com\">bombora.com</a> - \"We are the largest aggregator of B2B intent driven data.\"</li>\n<li><a href=\"http://taboola.com\">taboola.com</a> - \"Taboola recommends editorial and sponsored content across many of the world’s most highly-trafficked sites.\"</li>\n<li><a href=\"http://bluekai.com\">bluekai.com</a> - \"BlueKai is the industry's leading cloud-based big data platform that enables companies to personalize online, offline and mobile marketing campaigns with richer and more actionable information about targeted audiences.\"</li>\n<li><a href=\"http://marketo.com\">marketo.com</a> - \"Marketo has developed the industry’s leading engagement marketing platform, the broadest ecosystem of partners, and the deepest expertise to make this all possible.\"</li>\n<li><a href=\"http://retargeter.com\">retargeter.com</a> - \"ReTargeter optimizes your ad spend with highly targeted, real time digital advertising solutions and the best account management in the industry.\"</li>\n</ul>\n\n<h2 id=\"make-time-to-visit-the-vendor-hall\">Make time to visit the vendor hall!</h2>\n<p>I feel like someone just set up the entire vendor hall from an awful tech conference in my living room. Seriously, could you folks just not pick one or two or ten? Did you hit every booth and say &quot;Yeah, cool, sign us up!&quot; I feel thoroughly spindled &amp; folded &amp; researched, here.</p>\n<p>As a webdev at Mozilla, I&#39;ve been in hour-long meetings where we&#39;ve agonized over whether it&#39;s copacetic to include <em>just one little Google Analytics snippet</em> without notifying users and updating the privacy policy. But, I know we&#39;re crazy in our own very special ways.</p>\n<p>In former lives, I&#39;ve worked at ad agencies and digital marketing companies. I&#39;m no stranger to conversations that revolve around partners &amp; bizdev &amp; analytics &amp; media buys. I can only imagine things have intensified &amp; evolved since I&#39;ve been out of those trenches.</p>\n<p>Still - and maybe this is the Mozilla brain-damage talking - I can&#39;t imagine a sane conversation that resulted in The Verge extending an invitation to over 20 companies to set up shop on my computer with every page visit. I can only imagine this as a steady drip-drop of bizdev decisions and emails to internal webdevs:</p>\n<p>*&quot;Hey, can you add this tracking pixel? These guys do realtime attention heatmapping and it&#39;s brilliant!&quot;*</p>\n<p>*&quot;Paste this snippet into the global template, please? This fourth programmatic ad platform is really going to fill in the gaps for the other three.&quot;*</p>\n<p>*&quot;One more script thing here. We need to capture the affiliate credit for all these links going out to e-commerce sites.*&quot;</p>\n<p>*&quot;Oh hey, we&#39;re going to need this new script to manage the dozen ad platforms we use now.&quot;*</p>\n<p>I&#39;m guessing no one along the way had the power or motivation to say no. I mean, really, what&#39;s the cost in tossing one more straw onto that camel&#39;s back? I know I never looked or complained until now, and I doubt the majority of readers will ever bother.</p>\n<p>We all just kind of get this growing sense of malaise about &quot;the web&quot; as a gestalt of our favorite sites as they get suckier.</p>\n<h2 id=\"how-to-make-the-web-suck\">How to make the web suck</h2>\n<p>So, I haven&#39;t taken the time to dig into the source code of those companies&#39; specific contributions to the article. There are only so many hours in the day, and I have a ranty blog post to finish.</p>\n<p>But, if you want to talk about browser performance - mobile or desktop - don&#39;t you think that maybe, <em>just maybe</em>, some of that <strong>7 megabytes</strong> of JavaScript code might have an impact?</p>\n<p>First, even assuming this code comes from a local cache, <a href=\"http://timkadlec.com/2014/09/js-parse-and-execution-time/\">parsing it into something executable has a cost</a>. Of course, someday, we&#39;ll have <a href=\"https://brendaneich.com/2015/06/from-asm-js-to-webassembly/\">WebAssembly</a> to shift this first stage upstream into webdev build tools. But we don&#39;t have that, yet.</p>\n<p>Then, there&#39;s what that code&#39;s actually doing once it runs. There&#39;s the usual reporting on every scrap of browser fingerprint data. There&#39;s deciding whether and what ads to fetch &amp; inject. I&#39;ve seen scripts that record every pixel of mouse movement and phone home every few seconds.</p>\n<p>Some spawn lots of hidden iframes, each doing something fun. Others run code 10 times per second that trigger little invisible page re-renderings that chew up CPU and make scrolling &amp; orientation changes chug. Some scripts get run multiple times and perform duplicate work. Attack ships on fire off the shoulder of Orion. I watched C-beams glitter in the dark near the Tannhauser gate.</p>\n<p>Wait, where was I?</p>\n<h2 id=\"everybodys-not-doing-it\">Everybody&#39;s (not) doing it!</h2>\n<p>I&#39;ve seen the argument that this is how the web gets funded. Everybody&#39;s doing it. This is the current state of the art. Browsers just need to suck it up &amp; make it happen.</p>\n<p>Some sites are (much) better than others, though, and it doesn&#39;t seem to be directly related to the content. Here&#39;s what I saw when I did a quick check of some daily reads:</p>\n<style type=\"text/css\">\n  img.inline { vertical-align: middle; }\n</style>\n\n<ul>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/forbes.png\"> - <a href=\"http://www.forbes.com/sites/ryanmac/2015/07/20/as-paypal-goes-public-again-ceo-hints-at-working-with-amazon-and-sets-sights-on-acquisitions/\">Forbes</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/huffpo.png\"> - <a href=\"http://www.huffingtonpost.com/entry/first-half-of-2015-was-hottest-january-june-ever-recorded_55ad7b8ce4b0caf721b3a968\">The Huffington Post</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/cnn.png\"> - <a href=\"http://www.cnn.com/2015/07/23/politics/donald-trump-border-visit-texas/index.html\">CNN</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/readwrite.png\"> - <a href=\"http://readwrite.com/2015/07/15/bittorrent-sync-new-api\">Readwrite</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/bbc.png\"> - <a href=\"http://www.bbc.com/news/world-africa-33642158\">BBC</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/ars-technica.png\"> - <a href=\"http://arstechnica.com/gadgets/2015/07/rare-breed-linux-mint-17-2-offers-desktop-familiarity-and-responds-to-user-wants/\">Ars Technica</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/qz.png\"> - <a href=\"http://qz.com/458826/behold-nasas-first-image-in-decades-of-the-whole-earth/\">Quartz</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/npr.png\"> - <a href=\"http://www.npr.org/sections/alltechconsidered/2015/07/20/424630545/with-ad-blocking-use-on-the-rise-what-happens-to-online-publishers\">NPR</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/io9.png\"> - <a href=\"http://io9.com/molybdenum-the-most-important-element-youve-never-hear-1718443869\">io9</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/the-guardian.png\"> - <a href=\"http://www.theguardian.com/commentisfree/2015/jul/20/bernie-sanders-structural-racism-economic-justice\">The Guardian</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/mozilla.png\"> - <a href=\"https://www.mozilla.org/en-US/\">Mozilla</a></li>\n<li><img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/mdn.png\"> - <a href=\"https://developer.mozilla.org/en-US/\">Mozilla Developer Network</a></li>\n</ul>\n<p>If you&#39;ve bought into my thesis that this stuff should take a lot of the blame for poor mobile performance - it&#39;s no surprise that I&#39;ll claim these sites are progressively better experiences as I step down the list.</p>\n<p>I also didn&#39;t dig deeply into each of these. But, it&#39;s pretty clear The Verge blows other sites out of the water in terms of what it demands from a browser. Forbes is a very close second, though, and it sometimes seems to do annoying things like phone home every second or so while I&#39;m on the page.</p>\n<p>Oh, and admittedly I don&#39;t visit the Mozilla home page as a &quot;daily read&quot;, though I do use MDN regularly. I&#39;ve also worked on both, so I have some notion of what they&#39;re (not) doing - and how much we beat ourselves up internally about reaching sub-second page loads. (Man, do we look good now, or what?)</p>\n<h2 id=\"what-are-browsers-for-anyway\">What are browsers for, anyway?</h2>\n<p>Nilay Patel says &quot;what we really need is a more powerful, more robust web.&quot; Personally, I think the web we have right now can be pretty damn powerful &amp; robust. <a href=\"http://tinyrevolution.us/2014/05/09/choosing-a-tow-vehicle-for-your-tiny-house/\">Stop trying to make a sedan tow a house.</a></p>\n<p>But, is it ultimately a good idea to optimize for these icebergs that consist of the tiny bit we came for, perched atop a great big submerged intelligence gathering apparatus assembled on-demand from a consortium of marketing &amp; analytics firms?</p>\n<p>Just what are we building these browsers for? Is this what we want as users? Because, browsers are <em>user agents*. I know the web needs to get funded, somehow. But should the agents operating on our behalf just blindly accept whatever publishers want to send gurgling down the pipes? Maybe our agents *should be asserting themselves</em> to get us a better deal &amp; better performance. This is dangerous talk, I know, and it implies some slippery slopes.</p>\n<p>Apropos of that, it could be worse: Consider things like <a href=\"https://flipboard.com/\">Flipboard</a>, <a href=\"http://instantarticles.fb.com/\">Facebook&#39;s Instant Articles</a>, and <a href=\"https://www.apple.com/news/\">Apple&#39;s News app</a>. These are highly assertive agents that offer great reading experiences.</p>\n<p>In a nutshell, they do it by making publishers less free to crap it all up and users less free to encounter crap. That is, &quot;curation&quot;. As gatekeepers, they force publishers to strip it all down and make their deals with just one middle man. Win-win - except it&#39;s a solution for a self-made problem that introduces new gatekeepers and leaves us with far less choice &amp; control over our agents.</p>\n<h2 id=\"maybe-paying-for-the-web-can-be-better\">Maybe paying for the web can be better?</h2>\n<p>Browsers have typically tried to stay neutral, because <a href=\"http://www.iab.net/mozilla_rothenberg\">asserting an opinion can start some nasty fights</a>. But, if the choice is to watch the web head off into the sunset, what do we have to lose? Maybe browsers should impose a few of the constraints these news apps introduce. We keep things like <a href=\"https://adblockplus.org/\">Adblock Plus</a> at arm&#39;s length for plausible deniability - but everyone I know uses it.</p>\n<p>Meanwhile, there are people pondering how to improve funding for the web. Believe it or not, the <a href=\"https://wiki.mozilla.org/Content_services\">Content Services team</a> at Mozilla is thinking about way more than just &quot;<a href=\"http://www.computerworld.com/article/2847727/mozilla-plunks-ads-into-firefox.html\">plunking ads into Firefox</a>&quot;. Like, what if we actually accepted the fact that ads are a way of funding the web at large, and browsers themselves offered <a href=\"https://ffp4g1ylyit3jdyti1hqcvtb-wpengine.netdna-ssl.com/advancingcontent/files/2015/05/How-data-is-protected-Infographic1.pdf\">built-in mechanisms to support advertising that respect privacy &amp; performance</a>? Yeah, that&#39;s a bit of a change from browsers&#39; traditional neutrality. But, it could be a better deal for publishers <em>and</em> users together.</p>\n<p>Here&#39;s another idea: Almost a year ago, <a href=\"https://air.mozilla.org/subscribe2web/\">I heard the notion of &quot;Subscribe 2 Web&quot; at Mozilla</a>. The gist is that you&#39;re worth about $6.20 per month across publishers via advertising revenues. What if you paid that much into an account yourself every month and used a mechanism built into your browser to distribute that money? Yeah, it&#39;s micropayments, but I find it interesting that these folks came up with a specific dollar amount that doesn&#39;t sound terrible.</p>\n<p>But, if you don&#39;t like that, we have other options. I&#39;m a listener of Tom Merritt&#39;s <a href=\"http://www.dailytechnewsshow.com/\">Daily Tech News Show</a> - and <a href=\"https://www.patreon.com/acedtect\">I support him via Patreon</a>. We&#39;ve also got things like <a href=\"https://flattr.com/\">Flattr</a>. We&#39;ve got a pile of other ideas out there - but, none of them are as convenient as web spyware when users don&#39;t complain or impose a cost. If browsers started getting tough on web spyware, necessity might force some of these options to grow.</p>\n<h2 id=\"wrapping-up\">Wrapping up</h2>\n<p>So, I&#39;m out of steam. Sorry (<a href=\"http://blog.lmorchard.com/2013/02/25/too-long-read-anyway/\">not sorry</a>) for the wall of text, and the complete lack of pictures toward the end.</p>\n<p>Anyway, yeah, there are many things that can make the mobile web suck. Bad CSS layout, heavy UI frameworks, you name it. And, yeah, browsers can get better. They <em>are</em> getting better. There are interesting capabilities on the horizon.</p>\n<p>But, I can&#39;t help thinking if everyone shrank those tracking &amp; advertising icebergs down to some sane magnitude relative to the actual content, that this web might be a better place overall.</p>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n",
    "body": "TL;DR: Did you know that The Verge delivers you to around 20 companies for advertising & tracking purposes? I didn't. That might foul up your web experience a little bit. Maybe we should try something different.\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n## I love The Verge, but man...\n\nSo, I've been a big fan of The Verge, [almost since day one][verge-fan]. It's a gorgeous site and the content is great.\n\nThey've done some amazing things with longform articles like \"[What's the deal with translating Seinfeld][translating-seinfeld]\" and \"[Max Headroom: the definitive history of the 1980s digital icon][max-headroom]\", and the daily news output is high quality.\n\nBut, I have to say, reading [Nilay Patel][]'s \"[The Mobile Web Sucks][mobile-web-sucks]\" felt like getting pelted by rocks thrown [from a bright, shiny glass house][performance-bankruptcy].\n\n[nilay patel]: https://twitter.com/reckless/\n\nCalling out browser makers for the performance of sites like his? That's a bit much.\n\nHere's my thing: I've never had an iPhone. I've had Palm webOS phones, a parade of Android devices, and now [an experimental Boot2Gecko phone on really nice hardware][mozilla-ignite]. Some sites have long been a delight on whatever gadget I fetch from my pocket. Others, I've watched decay over the years as their mobile web experiences are neglected in favor of those frantically promoted apps.\n\n[mozilla-ignite]: http://www.cnet.com/news/mozilla-overhauls-firefox-smartphone-plan-to-focus-on-quality-not-cost/\n\nThe Verge isn't quite either of those. And, for me as a fan, it's frustrating.\n\n## Time to open the Dev Tools\n\nA page view on The Verge is a heavy load. I've known this for awhile, but it wasn't until now that I decided to take a peek at what might be wriggling under this log.\n\nSo, I opened up the Dev Tools in Firefox and gave the page a reload on a cleared cache.\n\n<img src=\"/uploads/2015/the-verge-web-sucks/the-verge-html-size.png\" class=\"fullwidth\"\n  alt=\"HTML size on the article\"/>\n\nThat's fine - 75kb of HTML for the article. But, I also expect there'll be a font or two and a raft of images.\n\n<img src=\"/uploads/2015/the-verge-web-sucks/more-resources.png\" class=\"fullwidth\"\n  alt=\"Loading more resources...\" />\n\nWe're up to 20 requests and 1.4MB over ~7 seconds. That's on the upper end of what I'd advise, but it's not terrible. I said that The Verge is a gorgeous site - that takes some resources. Hell, this very blog post is going to be bigger than I'd like thanks to the Twitters & Googles & Disqus, and it's no visual delight either.\n\nOh, but wait, it's not done loading yet. I'm starting to read & scroll, but my browser's still spinning. I wonder what the final stats will be?\n\n## Ow, my data plan!\n\n<img src=\"/uploads/2015/the-verge-web-sucks/the-verge-final-load-stats.png\"\n  class=\"fullwidth\" alt=\"It finally stopped loading\" />\n\nHoly crap. It took over 30 seconds. In the end, it fetched over 9.5MB across 263 HTTP requests. That's almost an order of magnitude more data & time than needed for the article itself.\n\nWhat the hell is all this stuff?\n\n<img src=\"/uploads/2015/the-verge-web-sucks/resource-breakdown.png\"\n  class=\"fullwidth\" alt=\"It finally stopped loading\" />\n\nWow. Devtools performed a second reload of the page to get an overall performance analysis. This time it downloaded 12MB - a little over 7MB in that is JavaScript!\n\nJust to put this in some rough perspective: Assuming I had a 1GB / month data plan, I could visit sites like The Verge about 3 times per day before I hit my cap. If I'm lucky, some or most of this will get cached between requests so it won't be *quite* that bad. In fact, another report tells me that a primed cache yields 8MB transferred - so maybe 4 visits per day.\n\nThat's assuming caches on mobile are comparable to my laptop, [which is not a safe assumption][mobile-caching].\n\n[mobile-caching]: http://www.webperformancetoday.com/2012/07/12/early-findings-mobile-browser-cache-persistence-and-behaviour/\n\nStill, this isn't one of the cool longform articles on The Verge with interactive features and whatnot. This is just a straightforward 1600 word rant with a few quotes & images. Oh, and one video. Not entirely different than this blog post.\n\nWhat in the world is all this code *doing*?\n\n## Shining a Lightbeam under the log\n\nHmm, I think I [Nilay Patel tweeted a hint](https://twitter.com/reckless/status/623234268152598528):\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/satefan\">@satefan</a> <a href=\"https://twitter.com/verge\">@verge</a> part of the content we deliver is advertising! :)</p>&mdash; nilay patel (@reckless) <a href=\"https://twitter.com/reckless/status/623234268152598528\">July 20, 2015</a></blockquote>\n\nMan, I'd hazard a guess that *most* of what you just delivered was advertising. That, and spyware.\n\nIn one of the [public Monday update calls at Mozilla][weeklyupdates] I heard about this project called [Lightbeam][lightbeam]:\n\n[weeklyupdates]: https://wiki.mozilla.org/WeeklyUpdates\n\n<blockquote>Lightbeam is a Firefox add-on that uses interactive visualizations to show you the first and third party sites you interact with on the Web.</blockquote>\n\nSo, I figured I'd let it take a look at The Verge. This is what it showed:\n\n<img src=\"/uploads/2015/the-verge-web-sucks/im-surrounded.png\"\n  class=\"fullwidth\" id=\"thumbnail\" alt=\"I'm surrounded\" />\n\nImagine this is an iceberg as viewed from above. The Verge is the tip above water, the big circle in the middle. The triangles dancing around it are third-party sites lurking under the surface. Lightbeam has a list view, so I switched to get a closer look:\n\n<img src=\"/uploads/2015/the-verge-web-sucks/lightbeam-listview.png\"\n  class=\"fullwidth\" alt=\"Lightbeam list view\" />\n\nSweet Jeebus. \"You have visited **1 SITE**. You have connected with **47 THIRD PARTY SITES.**\"\n\n## 22 flavors of spyware\n\nNow, to be fair, scrolling through the report I could see that some of these distinct \"sites\" are clearly alternate domains owned by the same organization. That said, I still found *over 20 different companies* before I got tired of digging:\n\n<!-- mosaic here? -->\n\n<ul> <!-- class=\"columns clearfix\"> -->\n<li><a href=\"http://googleadservices.com\">Google</a></li>\n<li><a href=\"http://advertising.amazon.com/\">Amazon</a> - \"Reach millions of customers who find, discover, and buy at Amazon\"</li>\n<li><a href=\"http://skimresources.com\">skimresources.com</a> - \"When links in publishers’ content lead their users to click through and buy from an online retailer, we make sure they’re rewarded!\"</li>\n<li><a href=\"http://sonobi.com\">sonobi.com</a> - \"Sonobi’s suite of buy and sell-side tools allow our customers to identify, deliver, and manage advertising opportunities through performance filters once absent from programmatic channels\"</li>\n<li><a href=\"http://umbel.com\">umbel.com</a> - \"Umbel helps you securely collect first-party customer data and combine all of your existing data from multiple sources to give you a complete view of your customers.\"</li>\n<li><a href=\"http://www.krux.com/\">krux.com</a> - \"Krux helps businesses drive revenue by delivering smarter content, commerce and marketing experiences to people.\"</li>\n<li><a href=\"http://mathtag.com\">mediamath.com</a> - \"MediaMath’s TerminalOne™ platform activates data, automates execution, and optimizes advertising interactions across addressable media—delivering greater performance, transparency, and control to marketers and a better experience to consumers.\"</li>\n<li><a href=\"http://adnxs.com\">adnxs.com</a> - \"Adnxs™ is a portal for Publishers to the AppNexus® online auction exchange used to sell advertising space.\"</li>\n<li><a href=\"http://bidswitch.net\">bidswitch.net</a> - \"BidSwitch provides immediate and seamless real-time access for Supply and Demand Partners across all media types (display, mobile, video, native, etc.).\"</li>\n<li><a href=\"http://scorecardresearch.com\">scorecardresearch.com</a> - \"ScorecardResearch, a service of Full Circle Studies, Inc., is part of the comScore, Inc. market research community, a leading global market research effort that studies and reports on Internet trends and behavior.\"</li>\n<li><a href=\"http://kargo.com\">kargo.com</a> - \"Kargo weaves our content and ad technology into our premium publishers’ mobile and tablet properties, offering advertisers the best brand experiences.\"</li>\n<li><a href=\"http://quantserve.com\">quantcast.com</a> - \"Understand your audience. Find your next customer.\"</li>\n<li><a href=\"http://moatads.com\">moatads.com</a> - \"Moat's proprietary ad search engine has become a ubiquitous tool for the display ad industry. Moat makes it easy to find what and where ads are running for the top brands and sites.\"</li>\n<li><a href=\"http://flashtalking.com\">flashtalking.com</a> - \"Flashtalking is an independent ad serving, measuring and technology company, providing best-in-class digital advertising products, service and support for online advertisers, key media buying and creative agencies.\"</li>\n<li><a href=\"http://www.lotame.com/\">lotame.com</a> - \"Lotame is a data management platform (DMP) that lets marketers, agencies and publishers harness audience data to make smarter marketing, product and business decisions.\"</li>\n<li><a href=\"http://ixicorp.com\">ixicorp.com</a> - \"IXI Services enables its clients to differentiate and target consumer households and target markets based on proprietary measures of wealth, income, spending capacity, credit, share-of-wallet, and share-of-market.\"</li>\n<li><a href=\"http://chartbeat.com\">chartbeat.com</a> - \"We partner with editorial teams to identify their highest quality content -- the pieces that pique and keep reader attention. We partner with advertising teams to plan campaigns around this high-quality content so these ads are seen more often and for longer.\"</li>\n<li><a href=\"http://bombora.com\">bombora.com</a> - \"We are the largest aggregator of B2B intent driven data.\"</li>\n<li><a href=\"http://taboola.com\">taboola.com</a> - \"Taboola recommends editorial and sponsored content across many of the world’s most highly-trafficked sites.\"</li>\n<li><a href=\"http://bluekai.com\">bluekai.com</a> - \"BlueKai is the industry's leading cloud-based big data platform that enables companies to personalize online, offline and mobile marketing campaigns with richer and more actionable information about targeted audiences.\"</li>\n<li><a href=\"http://marketo.com\">marketo.com</a> - \"Marketo has developed the industry’s leading engagement marketing platform, the broadest ecosystem of partners, and the deepest expertise to make this all possible.\"</li>\n<li><a href=\"http://retargeter.com\">retargeter.com</a> - \"ReTargeter optimizes your ad spend with highly targeted, real time digital advertising solutions and the best account management in the industry.\"</li>\n</ul>\n\n## Make time to visit the vendor hall!\n\nI feel like someone just set up the entire vendor hall from an awful tech conference in my living room. Seriously, could you folks just not pick one or two or ten? Did you hit every booth and say \"Yeah, cool, sign us up!\" I feel thoroughly spindled & folded & researched, here.\n\nAs a webdev at Mozilla, I've been in hour-long meetings where we've agonized over whether it's copacetic to include *just one little Google Analytics snippet* without notifying users and updating the privacy policy. But, I know we're crazy in our own very special ways.\n\nIn former lives, I've worked at ad agencies and digital marketing companies. I'm no stranger to conversations that revolve around partners & bizdev & analytics & media buys. I can only imagine things have intensified & evolved since I've been out of those trenches.\n\nStill - and maybe this is the Mozilla brain-damage talking - I can't imagine a sane conversation that resulted in The Verge extending an invitation to over 20 companies to set up shop on my computer with every page visit. I can only imagine this as a steady drip-drop of bizdev decisions and emails to internal webdevs:\n\n*\"Hey, can you add this tracking pixel? These guys do realtime attention heatmapping and it's brilliant!\"*\n\n*\"Paste this snippet into the global template, please? This fourth programmatic ad platform is really going to fill in the gaps for the other three.\"*\n\n*\"One more script thing here. We need to capture the affiliate credit for all these links going out to e-commerce sites.*\"\n\n*\"Oh hey, we're going to need this new script to manage the dozen ad platforms we use now.\"*\n\nI'm guessing no one along the way had the power or motivation to say no. I mean, really, what's the cost in tossing one more straw onto that camel's back? I know I never looked or complained until now, and I doubt the majority of readers will ever bother.\n\nWe all just kind of get this growing sense of malaise about \"the web\" as a gestalt of our favorite sites as they get suckier.\n\n## How to make the web suck\n\nSo, I haven't taken the time to dig into the source code of those companies' specific contributions to the article. There are only so many hours in the day, and I have a ranty blog post to finish.\n\nBut, if you want to talk about browser performance - mobile or desktop - don't you think that maybe, *just maybe*, some of that **7 megabytes** of JavaScript code might have an impact?\n\nFirst, even assuming this code comes from a local cache, [parsing it into something executable has a cost][js-parsing]. Of course, someday, we'll have [WebAssembly][] to shift this first stage upstream into webdev build tools. But we don't have that, yet.\n\n[js-parsing]: http://timkadlec.com/2014/09/js-parse-and-execution-time/\n[WebAssembly]: https://brendaneich.com/2015/06/from-asm-js-to-webassembly/\n\nThen, there's what that code's actually doing once it runs. There's the usual reporting on every scrap of browser fingerprint data. There's deciding whether and what ads to fetch & inject. I've seen scripts that record every pixel of mouse movement and phone home every few seconds.\n\nSome spawn lots of hidden iframes, each doing something fun. Others run code 10 times per second that trigger little invisible page re-renderings that chew up CPU and make scrolling & orientation changes chug. Some scripts get run multiple times and perform duplicate work. Attack ships on fire off the shoulder of Orion. I watched C-beams glitter in the dark near the Tannhauser gate.\n\nWait, where was I?\n\n## Everybody's (not) doing it!\n\nI've seen the argument that this is how the web gets funded. Everybody's doing it. This is the current state of the art. Browsers just need to suck it up & make it happen.\n\nSome sites are (much) better than others, though, and it doesn't seem to be directly related to the content. Here's what I saw when I did a quick check of some daily reads:\n\n<style type=\"text/css\">\n  img.inline { vertical-align: middle; }\n</style>\n\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/forbes.png\"> - [Forbes](http://www.forbes.com/sites/ryanmac/2015/07/20/as-paypal-goes-public-again-ceo-hints-at-working-with-amazon-and-sets-sights-on-acquisitions/)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/huffpo.png\"> - [The Huffington Post](http://www.huffingtonpost.com/entry/first-half-of-2015-was-hottest-january-june-ever-recorded_55ad7b8ce4b0caf721b3a968)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/cnn.png\"> - [CNN](http://www.cnn.com/2015/07/23/politics/donald-trump-border-visit-texas/index.html)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/readwrite.png\"> - [Readwrite](http://readwrite.com/2015/07/15/bittorrent-sync-new-api)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/bbc.png\"> - [BBC](http://www.bbc.com/news/world-africa-33642158)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/ars-technica.png\"> - [Ars Technica](http://arstechnica.com/gadgets/2015/07/rare-breed-linux-mint-17-2-offers-desktop-familiarity-and-responds-to-user-wants/)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/qz.png\"> - [Quartz](http://qz.com/458826/behold-nasas-first-image-in-decades-of-the-whole-earth/)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/npr.png\"> - [NPR](http://www.npr.org/sections/alltechconsidered/2015/07/20/424630545/with-ad-blocking-use-on-the-rise-what-happens-to-online-publishers)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/io9.png\"> - [io9](http://io9.com/molybdenum-the-most-important-element-youve-never-hear-1718443869)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/the-guardian.png\"> - [The Guardian](http://www.theguardian.com/commentisfree/2015/jul/20/bernie-sanders-structural-racism-economic-justice)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/mozilla.png\"> - [Mozilla](https://www.mozilla.org/en-US/)\n* <img class=\"inline\" src=\"/uploads/2015/the-verge-web-sucks/mdn.png\"> - [Mozilla Developer Network](https://developer.mozilla.org/en-US/)\n\nIf you've bought into my thesis that this stuff should take a lot of the blame for poor mobile performance - it's no surprise that I'll claim these sites are progressively better experiences as I step down the list.\n\nI also didn't dig deeply into each of these. But, it's pretty clear The Verge blows other sites out of the water in terms of what it demands from a browser. Forbes is a very close second, though, and it sometimes seems to do annoying things like phone home every second or so while I'm on the page.\n\nOh, and admittedly I don't visit the Mozilla home page as a \"daily read\", though I do use MDN regularly. I've also worked on both, so I have some notion of what they're (not) doing - and how much we beat ourselves up internally about reaching sub-second page loads. (Man, do we look good now, or what?)\n\n## What are browsers for, anyway?\n\nNilay Patel says \"what we really need is a more powerful, more robust web.\" Personally, I think the web we have right now can be pretty damn powerful & robust. [Stop trying to make a sedan tow a house.][tiny-house-tow]\n\n[tiny-house-tow]: http://tinyrevolution.us/2014/05/09/choosing-a-tow-vehicle-for-your-tiny-house/\n\nBut, is it ultimately a good idea to optimize for these icebergs that consist of the tiny bit we came for, perched atop a great big submerged intelligence gathering apparatus assembled on-demand from a consortium of marketing & analytics firms?\n\nJust what are we building these browsers for? Is this what we want as users? Because, browsers are *user agents*. I know the web needs to get funded, somehow. But should the agents operating on our behalf just blindly accept whatever publishers want to send gurgling down the pipes? Maybe our agents *should be asserting themselves* to get us a better deal & better performance. This is dangerous talk, I know, and it implies some slippery slopes.\n\nApropos of that, it could be worse: Consider things like [Flipboard][], [Facebook's Instant Articles][], and [Apple's News app][]. These are highly assertive agents that offer great reading experiences.\n\nIn a nutshell, they do it by making publishers less free to crap it all up and users less free to encounter crap. That is, \"curation\". As gatekeepers, they force publishers to strip it all down and make their deals with just one middle man. Win-win - except it's a solution for a self-made problem that introduces new gatekeepers and leaves us with far less choice & control over our agents.\n\n## Maybe paying for the web can be better?\n\nBrowsers have typically tried to stay neutral, because [asserting an opinion can start some nasty fights][party-cookies]. But, if the choice is to watch the web head off into the sunset, what do we have to lose? Maybe browsers should impose a few of the constraints these news apps introduce. We keep things like [Adblock Plus][] at arm's length for plausible deniability - but everyone I know uses it.\n\nMeanwhile, there are people pondering how to improve funding for the web. Believe it or not, the [Content Services team][content-services] at Mozilla is thinking about way more than just \"[plunking ads into Firefox][plunk-ads]\". Like, what if we actually accepted the fact that ads are a way of funding the web at large, and browsers themselves offered [built-in mechanisms to support advertising that respect privacy & performance][tiles-flow]? Yeah, that's a bit of a change from browsers' traditional neutrality. But, it could be a better deal for publishers *and* users together.\n\nHere's another idea: Almost a year ago, [I heard the notion of \"Subscribe 2 Web\" at Mozilla][s2w]. The gist is that you're worth about $6.20 per month across publishers via advertising revenues. What if you paid that much into an account yourself every month and used a mechanism built into your browser to distribute that money? Yeah, it's micropayments, but I find it interesting that these folks came up with a specific dollar amount that doesn't sound terrible.\n\nBut, if you don't like that, we have other options. I'm a listener of Tom Merritt's [Daily Tech News Show][dtns] - and [I support him via Patreon][dtns-patreon]. We've also got things like [Flattr][]. We've got a pile of other ideas out there - but, none of them are as convenient as web spyware when users don't complain or impose a cost. If browsers started getting tough on web spyware, necessity might force some of these options to grow.\n\n## Wrapping up\n\nSo, I'm out of steam. Sorry ([not sorry](http://blog.lmorchard.com/2013/02/25/too-long-read-anyway/)) for the wall of text, and the complete lack of pictures toward the end.\n\nAnyway, yeah, there are many things that can make the mobile web suck. Bad CSS layout, heavy UI frameworks, you name it. And, yeah, browsers can get better. They *are* getting better. There are interesting capabilities on the horizon.\n\nBut, I can't help thinking if everyone shrank those tracking & advertising icebergs down to some sane magnitude relative to the actual content, that this web might be a better place overall.\n\n[plunk-ads]: http://www.computerworld.com/article/2847727/mozilla-plunks-ads-into-firefox.html\n[flipboard]: https://flipboard.com/\n[s2w]: https://air.mozilla.org/subscribe2web/\n[flattr]: https://flattr.com/\n[dtns]: http://www.dailytechnewsshow.com/\n[dtns-patreon]: https://www.patreon.com/acedtect\n[tiles-flow]: https://ffp4g1ylyit3jdyti1hqcvtb-wpengine.netdna-ssl.com/advancingcontent/files/2015/05/How-data-is-protected-Infographic1.pdf\n[content-services]: https://wiki.mozilla.org/Content_services\n[tiles]: https://blog.mozilla.org/advancingcontent/2015/05/21/providing-a-valuable-platform-for-advertisers-content-publishers-and-users/\n[Adblock Plus]: https://adblockplus.org/\n[party-cookies]: http://www.iab.net/mozilla_rothenberg\n[Facebook's Instant Articles]: http://instantarticles.fb.com/\n[Apple's News app]: https://www.apple.com/news/\n[lightbeam]: https://www.mozilla.org/en-US/lightbeam/\n[performance-bankruptcy]: http://product.voxmedia.com/2015/5/6/8561867/declaring-performance-bankruptcy\n[mobile-web-sucks]: http://www.theverge.com/2015/7/20/9002721/the-mobile-web-sucks\n[translating-seinfeld]: http://www.theverge.com/2015/6/24/8809723/jerry-seinfeld-tv-show-international-translation\n[max-headroom]: http://www.theverge.com/2015/4/2/8285139/max-headroom-oral-history-80s-cyberpunk-interview\n[verge-fan]: https://twitter.com/lmorchard/statuses/142396733316534272\n\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n",
    "parentPath": "../blog.lmorchard.com/posts/archives/2015",
    "path": "2015/07/22/the-verge-web-sucks",
    "thumbnail": "/blog.lmorchard.com/uploads/2015/the-verge-web-sucks/im-surrounded.png",
    "summary": "<p>TL;DR: Did you know that The Verge delivers you to around 20 companies for advertising &amp; tracking purposes? I didn&apos;t. That might foul up your web experience a little bit. Maybe we should try something different.</p>\n",
    "prevPostPath": "2015/07/22/react-multiplatform",
    "nextPostPath": "2015/04/15/goodbye-puck"
  }
]