<!DOCTYPE html>
    <html>
      <head>
        <title>Playing with a node.js app project layout - blog.lmorchard.com</title>
        <meta property="og:type" content="article" />
        <meta property="og:site_name" content="blog.lmorchard.com" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="author" content="Les Orchard" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
        />
        <link
          rel="shortcut icon"
          href="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1?s=16"
        />

        <script
          defer
          data-domain="blog.lmorchard.com"
          src="https://analytics.lmorchard.com/js/plausible.js"
        ></script>

        <link
          rel="stylesheet"
          type="text/css"
          href="/blog.lmorchard.com/index.css"
        />
        <script type="module" src="/blog.lmorchard.com/index.js"></script>

        <link
          href="https://lmorchard.github.io/blog.lmorchard.com/index.rss"
          rel="alternate"
          title="blog.lmorchard.com"
          type="application/rss+xml"
        />

        <link
                href="/blog.lmorchard.com/index.rss"
                rel="alternate"
                title="blog.lmorchard.com"
                type="application/rss+xml"
              />
        <meta property="og:title" content="Playing with a node.js app project layout" />
        <meta
          property="og:url"
          content="https://lmorchard.github.io/blog.lmorchard.com/2014/10/23/node-project-layout/"
        />
        
        <meta property="og:description" content="I&#39;m pleased with this project layout for a node.js-based web client /
server app." />
      </head>
      <body>
        <header class="content-grid">
          <div class="masthead">
            <img src="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1.jpg?s=128" />
            <div class="title">
              <h1>
                <a href="/blog.lmorchard.com/" title="blog.lmorchard.com">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewBox="0 0 250 20"
                  >
                    <text
                      lengthAdjust="spacing"
                      fill="currentColor"
                      y="16"
                      textLength="240"
                      x="5"
                    >
                      blog.lmorchard.com
                    </text>
                  </svg>
                </a>
              </h1>
              <h2>
                <rotating-tagline
                  random
                  initial="1"
                  period="7000"
                  src="/blog.lmorchard.com/taglines.json"
                >
                  <a href="/blog.lmorchard.com/" title="It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="100%"
                      height="100%"
                      viewBox="0 0 250 20"
                    >
                      <text
                        class="tagline"
                        lengthAdjust="spacing"
                        fill="currentColor"
                        y="16"
                        textLength="240"
                        x="5"
                      >
                        It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.
                      </text>
                    </svg>
                  </a>
                </rotating-tagline>
              </h2>
            </div>
          </div>
          <nav class="main-nav">
            <div id="search"></div>
            <ul>
              <li>
                <a href="http://lmorchard.com/"
                  ><span class="fa fa-info-circle"></span> about me</a
                >
              </li>
              <li>
                <a href="/blog.lmorchard.com/archives.html"
                  ><span class="fa fa-archive"></span> archives</a
                >
              </li>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
              <li class="theme-selector">
                <theme-selector title="Enable dark theme">
                  <label>
                    <input type="checkbox" />
                    <span class="slider"></span>
                  </label>
                </theme-selector>
              </li>
            </ul>
          </nav>
        </header>

        <section class="main"><article
        data-pagefind-body
        class="content content-grid post tag-nodejstag-webdevtag-javascripttag-gulptag-heroku"
      >
        <header>
          <time
            title="2014-10-23T12:00:00-07:00"
            pubdate="2014-10-23T12:00:00-07:00"
          >
            <span class="prevpost">
              <a
                title="Random thoughts for 2014 Oct 27"
                href="/blog.lmorchard.com/2014/10/27/thoughts/"
                >&nbsp;<span class="fa fa-long-arrow-left"></span>&nbsp;</a
              >
            </span>
            <span class="postdate">
              <a href="/blog.lmorchard.com/2014/"
                >2014</a
              >
              &#8226;
              <a href="/blog.lmorchard.com/2014/10/"
                >October</a
              >
              &#8226;
              <span>23</span>
            </span>
            <span class="nextpost">
              <a
                title="Random thoughts for 2014 Oct 23"
                href="/blog.lmorchard.com/2014/10/23/thoughts/"
                >&nbsp;<span class="fa fa-long-arrow-right"></span>&nbsp;</a
              >
            </span>
          </time>
          <h1 class="title">Playing with a node.js app project layout</h1>
          <ul class="tags">
              <li><a href="/blog.lmorchard.com/tag/nodejs/">nodejs</a></li><li><a href="/blog.lmorchard.com/tag/webdev/">webdev</a></li><li><a href="/blog.lmorchard.com/tag/javascript/">javascript</a></li><li><a href="/blog.lmorchard.com/tag/gulp/">gulp</a></li><li><a href="/blog.lmorchard.com/tag/heroku/">heroku</a></li>
            </ul>
        </header>

        <p>I'm pleased with <a href="https://github.com/lmorchard/toothub/tree/913c4d326ea5a424087899a103301323d46d8086">this project layout</a> for a node.js-based web client /
server app.</p>
<!--more-->



<pre><code class="language-bash">➜  toothub git:(master) ✗ tree
├── Procfile
├── README.md
├── app.json
├── bin
│&nbsp;&nbsp; └── toothub
├── config.json-dist
├── htdocs
│&nbsp;&nbsp; ├── css
│&nbsp;&nbsp; │&nbsp;&nbsp; └── main.styl
│&nbsp;&nbsp; └── index.html
├── lib
│&nbsp;&nbsp; ├── cli
│&nbsp;&nbsp; │&nbsp;&nbsp; ├── index.js
│&nbsp;&nbsp; │&nbsp;&nbsp; └── server.js
│&nbsp;&nbsp; ├── client
│&nbsp;&nbsp; │&nbsp;&nbsp; └── index.js
│&nbsp;&nbsp; ├── models
│&nbsp;&nbsp; │&nbsp;&nbsp; ├── Item.js
│&nbsp;&nbsp; │&nbsp;&nbsp; └── index.js
│&nbsp;&nbsp; └── server
│&nbsp;&nbsp;     ├── index.js
│&nbsp;&nbsp;     └── static.js
├── package.json
└── test
    └── test-index.js
</code></pre>
<p><a href="http://browserify.org/">Browserify</a> lets me share a lot of code between client &amp; server, using the same
conventions.  Though, I have to be careful not to pile too much into the
client-side JS bundle. It's really easy to inflate that.</p>
<p>The <a href="https://www.npmjs.org/package/require-dir">require-dir</a> module lets me do <a href="https://github.com/lmorchard/feeder2/tree/9d02e216e4d4e47351a69eece8bece67d2fed550/lib/cli">some lazy things</a> to break up my
code into more submodules - at least on the server side. It's a little thing,
but I really like it. I first saw it over in <a href="http://viget.com/extend/gulp-browserify-starter-faq">this Gulp + Browserify starter
kit</a>.</p>
<p>Thanks to the <a href="https://blog.heroku.com/archives/2014/8/7/heroku-button">Heroku Button</a>, this thing is cake to get running
somewhere <em>out there</em>. Free Heroku is like the Raspberry PI of the cloud. I'm
starting to think that anyone who's into indiewebish self-hosting concepts
should really be taking a look at this.</p>
<p>I've also been really into <a href="http://gulpjs.com/">Gulp</a> recently, but so far I don't need it here.
I'm gratuitously wasting memory and cycles by processing resources on the fly
through the app server rather than generating as static assets. Maybe I'll
change my mind on that after I've tinkered for awhile.</p>
<p>Anyway, now I guess I should actually start making this thing do stuff.</p>
<!-- vim: set wrap wm=5 syntax=mkd textwidth=78: -->

        <section class="comments" id="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
              var disqus_needs_loading = true;
              var disqus_url = "https://lmorchard.github.io/blog.lmorchard.com/2014/10/23/node-project-layout/";
            </script>
            <noscript
              >Please enable JavaScript to view the
              <a href="http://disqus.com/?ref_noscript"
                >comments powered by Disqus.</a
              ></noscript
            >
            <a href="http://disqus.com" class="dsq-brlink"
              >blog comments powered by
              <span class="logo-disqus">Disqus</span></a
            >
          </section>
      </article>

      <section class="posts-nav content-grid">
        <span class="prev-post">
            <span
              ><a href="/blog.lmorchard.com/2014/10/27/thoughts/"
                >Random thoughts for 2014 Oct 27</a
              ></span
            >
            <span
              ><span class="fa fa-long-arrow-left"></span>&nbsp;Previous</span
            >
          </span>
        <span class="next-post">
            <span
              ><a href="/blog.lmorchard.com/2014/10/23/thoughts/"
                >Random thoughts for 2014 Oct 23</a
              ></span
            >
            <span>Next&nbsp;<span class="fa fa-long-arrow-right"></span></span>
          </span>
      </section></section>

        <footer class="content-grid">
          <div class="left">
            © 2024 Les Orchard &lt;<a href="mailto:me@lmorchard.com"
              >me@lmorchard.com</a
            >&gt;
          </div>
          <img id="growup" src="/blog.lmorchard.com/uploads/growup.jpg" />
          <nav class="right">
            <ul>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
            </ul>
          </nav>
        </footer>
      </body>
    </html>