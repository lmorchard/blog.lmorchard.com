import{D as i,M as x,Q as v,R as f,x as s}from"./chunk-XC7EGGVM.js";var h={};function B(c,t){let e=2166136261;for(let o=0;o<t;o++)e^=c[o].uid,e=Math.imul(e,16777619),e>>>=0;return h[e]||d(c,t,e)}var u=0;function d(c,t,e){let o={},r=0;u||(u=f());for(let n=0;n<u;n++){let p=n<t?c[n]:i.EMPTY.source;o[r++]=p.source,o[r++]=p.style}let a=new v(o);return h[e]=a,a}var l=class{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){let o=x.get().createCanvas();o.width=t,o.height=e;let r=o.getContext("2d");return{canvas:o,context:r}}getOptimalCanvasAndContext(t,e,o=1){t=Math.ceil(t*o-1e-6),e=Math.ceil(e*o-1e-6),t=s(t),e=s(e);let r=(t<<17)+(e<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let a=this._canvasPool[r].pop();return a||(a=this._createCanvasAndContext(t,e)),a}returnCanvasAndContext(t){let e=t.canvas,{width:o,height:r}=e,a=(o<<17)+(r<<1);t.context.clearRect(0,0,o,r),this._canvasPool[a].push(t)}clear(){this._canvasPool={}}},b=new l;export{B as a,b};
//# sourceMappingURL=chunk-UB6KUSLE.js.map
