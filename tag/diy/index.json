[
  {
    "title": "SIO2Pi = Atari 800 + Raspberry Pi",
    "tags": [
      "diy",
      "hardware",
      "retro",
      "atari",
      "atari800",
      "raspi"
    ],
    "year": "2018",
    "month": "03",
    "day": "01",
    "isDir": true,
    "slug": "sio2pi",
    "date": "2018-03-01T12:00:00.000Z",
    "postName": "2018-03-01-sio2pi",
    "html": "<p><strong>TL;DR</strong>: The first computer I programmed was an Atari 800. I&#39;m using a Raspberry Pi Zero W and a simple serial voltage conversion circuit to load disk images from the internet onto my Atari 800.</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p><a href=\"https://blog.lmorchard.com/2003/06/13/newly-digital/\">I’ve written before about my first contact with computers</a>. But, man, I wrote that back in 2003. Long enough to make the itself post a retro artifact. The passage of time is weird.</p>\n<p>If you don&#39;t care to follow me down memory lane so much, go ahead and <a href=\"#hacking-the-sio-port\">skip on down to where I start building the gadget</a>.</p>\n<h2 id=\"atari-was-my-first-love\">Atari was my first love</h2>\n<p>To recap: I was a problematic kid - hyperactive and easily bored. I recall literally climbing the walls by way of the classroom curtains. At some point, the principal decided I needed a challenge. He plonked me down in front of an Atari 800 and a stack of books.</p>\n<p>I burned through those books and fell in love with computers. Typed in programs &amp; games. Found out how old I’d be in The Year 2000 - which, back then, was The Future. I learned how programming worked. Computers expanded to fill my head, gave outlet to my spastic energy. </p>\n<p>The problem was that I only had one hour per day with the machine at school. We didn’t have a computer at home. That didn’t keep me from picking up every computer book I could get my hands on at <a href=\"http://www.scholastic.com/bookfairs/\">the book fair</a> when it came through, though. I’d read through the programs and try to figure out how they worked while I waited until I could get some time at a keyboard to type them in.</p>\n<p><img src=\"image_0.jpg\" alt=\"Some of the programming books I still have from when I was a kid\"></p>\n<p>I even remember playing with a <a href=\"https://en.wikipedia.org/wiki/Lite-Brite\">Lite Brite</a> and trying to work out how to translate those pictures to Atari graphics. That frustrated me, of course, because <a href=\"https://jenn.glitch.me/a-post-of-utmost-hexellence/\">those old-school Lite Brites had a hexagonal layout of pegs rather than a square grid</a> that could directly translate to pixels.</p>\n<h2 id=\"but-then-commodore\">But, then, Commodore</h2>\n<p>That Christmas - or maybe the next - I got a Commodore 64 under the tree. My story with computers accelerated, because I had the thing all to myself in my bedroom. I left Atari behind, learned about the <a href=\"https://en.wikipedia.org/wiki/MOS_Technology_SID\">SID</a> chip but never explored the <a href=\"https://en.wikipedia.org/wiki/POKEY\">POKEY</a>.</p>\n<p><img src=\"image_1.jpg\" alt=\"Here&#39;s me opening a C64 for Christmas\"></p>\n<h2 id=\"the-computer-lab-in-my-office\">The computer lab in my office</h2>\n<p>Decades later, I hit up eBay for an Atari 800. I found one at a decent price - complete with an <a href=\"http://www.atarimuseum.com/computers/8bits/xl/xlperipherals/atari1050.html\">Atari 1050</a> floppy, <a href=\"http://www.atarimuseum.com/computers/8BITS/XL/xlperipherals/1010.html\">1010 cassette drive</a>, and a pile of disks and tapes and cartridges. I played with it a little, but mostly it sat as <a href=\"https://www.flickr.com/photos/deusx/8445963080/\">an office decoration</a> for a few years.</p>\n<p>This year, I decided to do something with all my old machines. I’ve got a small collection in my home office: Commodore 64, Amiga 1200, Apple IIe, and Atari 800 - all personal touchstones. But, as it happens, floppies and cassettes and rubber belts decay. I discovered that some of this stuff stopped working over the years.</p>\n<p><img src=\"image_2.jpg\" alt=\"I have a table in my office set up with C64, Atari 800, and Apple IIe\"></p>\n<h2 id=\"hacking-the-sio-port\">Hacking the SIO port</h2>\n<p>The core machines still work, though. And, thanks to the internet and folks generous with their time &amp; efforts, enormous archives of software for these systems can be accessed in seconds. But, how do you get this software into these archaic systems?</p>\n<p>I thought bridging the gap would be hard. But, a bit of cheap modern kit can twiddle the signals on an old-school input/output port such that an antique thinks it’s talking to something of its own vintage. Single-board computers and microcontrollers are capable enough to pretend to be almost anything to these old machines.</p>\n<img class=\"inset wide right\" alt=\"Pinout of Atari AIO port with legend\" src=\"image_3.gif\" />\n\n<p>That brings me to the <a href=\"https://en.wikipedia.org/wiki/Atari_SIO\">SIO port</a> on the Atari 800. Where most 80s computers had a handful of parallel &amp; serial ports of proprietary &amp; standard flavors - the Atari 8-bit computers had just this one port for talking to disks, cassettes, printers, modems, or whatever.  If that sounds familiar, the <a href=\"https://en.wikipedia.org/wiki/Atari_SIO\">SIO port</a> could be considered a predecessor to our modern USB port. Oddly enough, <a href=\"https://en.wikipedia.org/wiki/Joseph_C._Decuir\">Joseph C. Decuir</a> worked on both technologies, so I think the similarity is more than coincidental.</p>\n<p>In my idle googling on how to get new data piped into my old Atari, I found this 2013 post on AtariAge entitled &quot;<a href=\"http://atariage.com/forums/topic/209010-sio2pi-raspberry-pi-as-a-floppy/\">SIO2PI -&gt; Raspberry Pi as a floppy</a>&quot; by <a href=\"http://atariage.com/forums/user/29824-themontezuma/\">TheMontezuma</a>. </p>\n<p>In that post is a simple circuit: It used a logic level voltage converter, a diode, a Raspberry Pi, and some wires. I didn’t <em>really</em> know all that much about voltage levels and serial ports before this, but this seems handy for all kinds of things and well within my ability to build.</p>\n<p><img src=\"image_4.jpg\" alt=\"Rough schematic of connecting a Raspberry Pi to the SIO port\"></p>\n<p>Of course, there’s something ludicrous about using a Raspberry Pi for this. <a href=\"https://github.com/retropie/retropie-setup/wiki/Atari-800-and-5200\">That little thing can emulate an entire Atari 800 on its own</a>. You could hollow out the guts of the old computer, drop in the Pi, and with some clever wiring you’d probably never know the difference from the outside. <a href=\"https://makezine.com/2013/03/18/raspberry-pi-gives-amiga-a-new-life/\">Some people actually do that with classic computers like the Amiga</a>. </p>\n<p>But, I really wanted to get this particular machine up and running. And, overpowered as it might be for the task, a Raspberry Pi Zero W is also hilariously inexpensive.</p>\n<h2 id=\"building-the-sio2pi\">Building the SIO2Pi</h2>\n<p>So, I went shopping and picked up some parts:</p>\n<ul>\n<li><p><a href=\"http://a.co/j79Bk4z\">CanaKit Raspberry Pi Zero W (Wireless) Starter Kit with Official Case</a></p>\n</li>\n<li><p><a href=\"http://a.co/0Uo3bnl\">Logic Level Converter Bi-directional Shifter Module for Arduino</a></p>\n</li>\n<li><p><a href=\"http://a.co/4arTjGe\">Rectifier Diode Assorted Kit</a></p>\n</li>\n<li><p><a href=\"http://a.co/70wjtGE\">Breadboard jumpers in ribbon cable form</a></p>\n</li>\n<li><p><a href=\"http://a.co/70wjtGE\">Mini breadboards</a></p>\n</li>\n</ul>\n<p>I had a spare SIO cable that I cut in half for the project. I could have tried getting <a href=\"https://www.thingiverse.com/thing:1831769\">a new SIO connector 3D printed</a> - and I still might - but I knew this cable already worked. And, I was impatient. My first prototype came together on a little breadboard.</p>\n<p><img src=\"image_5.jpg\" alt=\"First SIO2Pi prototype on a breadboard\"></p>\n<p><img src=\"image_6.jpg\" alt=\"The prototype connected to my Atari 800\"></p>\n<p>My first attempt at using the thing was a failure. But, I did more reading into <a href=\"https://www.raspberrypi.org/documentation/configuration/uart.md\">how to configure the Raspberry Pi’s serial UART</a>. Two needful things came up:</p>\n<ul>\n<li><p>Disabling the out-of-box Bluetooth module</p>\n</li>\n<li><p>Disabling the service running a console on the serial port</p>\n</li>\n</ul>\n<p>So, heads up if you try this - make sure to properly set up the Pi&#39;s UART for use with the circuit. Things will either not work at all - or have strange corruption issues as a Linux login console tries to output along with floppy disk data.</p>\n<h2 id=\"loading-disks-with-the-sio2pi\">Loading disks with the SIO2Pi</h2>\n<p>After that, <a href=\"https://github.com/TheMontezuma/SIO2BSD\">sio2bsd</a> started working and my little rig piped images of Atari floppy disks downloaded from <a href=\"http://ftp.pigwa.net/\">ftp.pigwa.net</a> into my old computer as if they were the real thing.</p>\n<iframe class=\"lazyload\" width=\"560\" height=\"315\" data-src=\"https://www.youtube.com/embed/9j6Yy0ZjAK4?rel=0\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>\n\n<p><img src=\"image_7.jpg\" alt=\"Voice of Silence music disk loaded up\"></p>\n<p>Oh and since we&#39;re living in The Future <a href=\"https://archive.org/details/a8b_Voice_of_Silence_1996_Taquart_pl\">and the Internet Archive is an awesome place</a> - you can try emulating what I loaded for real, right in your browser. I&#39;ve had these songs stuck in my head for like a week.</p>\n<iframe class=\"lazyload\" data-src=\"https://archive.org/embed/a8b_Voice_of_Silence_1996_Taquart_pl\" width=\"560\" height=\"384\" frameborder=\"0\" webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\" allowfullscreen></iframe>\n\n<p>I’ve only spent a couple of hours with this stuff so far, so I’d totally welcome some suggestions for more things to check out. I knew there were games, but I was never aware of a demoscene or music packs on the Atari 8-bit computers. I’m also starting to learn a bit about the differences between members of the old Atari 8-bit family - insofar as not everything runs on the Atari 800.</p>\n<p>But, I&#39;ve also got an <a href=\"http://www.atarimuseum.com/computers/8bits/1200xl/1200xl.html\">Atari 1200XL</a> and an <a href=\"http://www.atarimuseum.com/computers/8bits/xe/65xe/65xe.html\">Atari 65XE</a> in the basement that I might try playing with next. I did lay hands on a 1200XL as a kid, but I was already onto Commodore by the time the 65XE arrived. It&#39;ll be interesting to see what runs on those things.</p>\n<h2 id=\"the-sio2pi-is-a-modem-too\">The SIO2Pi is a &quot;modem&quot; too!</h2>\n<p>Then, I discovered that I could run <a href=\"https://github.com/FozzTexx/tcpser\">tcpser</a> on the Raspberry PI - and suddenly my pretend disk drive was a pretend modem. I could &quot;dial out&quot; to the internet and explore <a href=\"http://bbs.retrobattlestations.com/\">a neo-retro world of BBSes</a> I’d never had a chance to experience back in the day on an Atari.</p>\n<p><img src=\"image_8.jpg\" alt=\"Loading BOB Term\"></p>\n<p><img src=\"image_9.jpg\" alt=\"&quot;Calling&quot; Level 29 BBS from my Atari 800\"></p>\n<h2 id=\"kitten-proofing-the-sio2pi\">Kitten-proofing the SIO2Pi</h2>\n<p>The little breadboard rig worked pretty well. But, the next morning, I found most of the wires pulled free thanks to a curious kitten. So, I decided to clean things up and make them more permanent with a <a href=\"https://www.adafruit.com/product/3203\">Perma Proto Bonnet Mini Kit</a>, a <a href=\"https://www.adafruit.com/product/2104\">16-pin IDC breakout helper</a>, and <a href=\"http://a.co/4IZlqkb\">some 30AWG wire</a> from Adafruit.</p>\n<p><img src=\"image_10.jpg\" alt=\"Next prototype of SIO2Pi soldered together on a Perma Proto Bonnet\"></p>\n<p>Even though there are only 5 pins needed between the Pi and the SIO port, soldering up all the pins to headers means I never have to remember what gets plugged into where. It&#39;s also good soldering practice. There are also 3 unused pins on the header - because SIO is 13 pins but the IDC breakout was convenient enough to use as-is and just ignore the extra connections.</p>\n<p>I managed to solder all the SIO cable wires onto header pins as a makeshift male connector to the SIO2Pi Bonnet. It ended up being a mess, often melting the plastic frame of the header, and I had to redo it at least once. But, it works. I’m also considering adding a female header to the other end of the SIO cable I chopped in half, if only to make it easier to join the two halves back into a working cable if I ever need it.</p>\n<p><img src=\"image_11.jpg\" alt=\"Amateurish job of soldering cable wires to header pins\"></p>\n<p>The finished product sits nicely on top of the Atari 800.</p>\n<p><img src=\"image_12.jpg\" alt=\"The SIO2Pi sitting atop the Atari 800\"></p>\n<p>The wires might be too thick, but I’m considering some <a href=\"http://a.co/4ptrVtJ\">IEC ribbon cable connectors</a> to crimp one onto the end of these wires and replace my rough soldering job. That might be cleaner and fit more naturally into how this sits on my desk, without bending all the wires awkwardly.</p>\n<img alt=\"The whole Atari 800 and SIO2Pi setup sitting on my table\" src=\"image_13.jpg\" id=\"thumbnail\" />\n\n<h2 id=\"next-steps\">Next steps</h2>\n<p>This setup works well enough. The main drawback is that I have to ssh into the Raspberry Pi and run sio2bsd manually to make it available for loading. And, if I want to switch to using it as a modem from a term program, I have to kill sio2bsd and start up tcpser.</p>\n<p><strong>Adding a display or web interface:</strong> The Raspberry Pi isn’t hooked up to a monitor - and I don’t really want to devote one to it. I could add some kind of small touchscreen or text display. It would also be nice to have a web interface I could hit from my phone. Maybe use that to select disk images and switch into terminal mode, do all the process management of sio2bsd and tcpser in the background with node.js. So, there’s a project for the future.</p>\n<p><strong>Using an ESP8266:</strong> I&#39;m toying with the idea of exploring whether an ESP8266 - or some other small board - would be up to snuff for this project. <a href=\"https://blog.lmorchard.com/2018/02/08/pumpkin/\">I had fun using one to build my wifi pumpkin</a>, so it could be fun for this too. That would take me learning a lot more about the SIO data protocols, though. Luckily, I have <a href=\"https://github.com/TheMontezuma/SIO2BSD\">the source code for sio2bsd</a>, so I have a starting point. But, the key to this SIO2Pi project was that I basically just glued things together and they worked without me entirely understanding the parts.</p>\n<p><strong>Calling more BBSes &amp; writing my own stuff:</strong> Beyond just digging into old software, I’m not sure where I’m going with this stuff next. I’ll probably keep calling some BBSes. I’ve also got a kind of masochistic notion to fetch some old computer magazines and try some of the type-in programs for old time’s sake. Maybe I’ll poke around with exploring the hardware and writing my own games. I haven&#39;t tried it, but it seems like this rig should be able to <em>save</em> to disk images, too.</p>\n<p><strong>A better case:</strong> I could also explore 3D printing a case that combines all this stuff into a tidy little module with an SIO socket (or two for daisy chaining) rather than using a butchered old cable. I&#39;ve also read about folks embedding this kind of hardware directly into the old computer - but I like this stuff to be easily reversible &amp; non-destructive, so I probably won&#39;t try that.</p>\n<p>Or, you know, maybe I’ll move on from this <a href=\"https://blog.lmorchard.com/2006/05/26/confessions-of-a-serial-enthusiast/\">serial enthusiasm</a> and let it hang out in my office for a few more years. Either way, it’s been a quick &amp; fun project to revive this old machine and get a look a some new-to-me software that I never had a chance to see back in the day.</p>\n",
    "body": "**TL;DR**: The first computer I programmed was an Atari 800. I'm using a Raspberry Pi Zero W and a simple serial voltage conversion circuit to load disk images from the internet onto my Atari 800.\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n[I’ve written before about my first contact with computers](https://blog.lmorchard.com/2003/06/13/newly-digital/). But, man, I wrote that back in 2003. Long enough to make the itself post a retro artifact. The passage of time is weird.\n\nIf you don't care to follow me down memory lane so much, go ahead and [skip on down to where I start building the gadget](#hacking-the-sio-port).\n\n## Atari was my first love\n\nTo recap: I was a problematic kid - hyperactive and easily bored. I recall literally climbing the walls by way of the classroom curtains. At some point, the principal decided I needed a challenge. He plonked me down in front of an Atari 800 and a stack of books.\n\nI burned through those books and fell in love with computers. Typed in programs & games. Found out how old I’d be in The Year 2000 - which, back then, was The Future. I learned how programming worked. Computers expanded to fill my head, gave outlet to my spastic energy. \n\nThe problem was that I only had one hour per day with the machine at school. We didn’t have a computer at home. That didn’t keep me from picking up every computer book I could get my hands on at [the book fair](http://www.scholastic.com/bookfairs/) when it came through, though. I’d read through the programs and try to figure out how they worked while I waited until I could get some time at a keyboard to type them in.\n\n![Some of the programming books I still have from when I was a kid](image_0.jpg)\n\nI even remember playing with a [Lite Brite](https://en.wikipedia.org/wiki/Lite-Brite) and trying to work out how to translate those pictures to Atari graphics. That frustrated me, of course, because [those old-school Lite Brites had a hexagonal layout of pegs rather than a square grid](https://jenn.glitch.me/a-post-of-utmost-hexellence/) that could directly translate to pixels.\n\n## But, then, Commodore\n\nThat Christmas - or maybe the next - I got a Commodore 64 under the tree. My story with computers accelerated, because I had the thing all to myself in my bedroom. I left Atari behind, learned about the [SID](https://en.wikipedia.org/wiki/MOS_Technology_SID) chip but never explored the [POKEY](https://en.wikipedia.org/wiki/POKEY).\n\n![Here's me opening a C64 for Christmas](image_1.jpg)\n\n## The computer lab in my office\n\nDecades later, I hit up eBay for an Atari 800. I found one at a decent price - complete with an [Atari 1050](http://www.atarimuseum.com/computers/8bits/xl/xlperipherals/atari1050.html) floppy, [1010 cassette drive](http://www.atarimuseum.com/computers/8BITS/XL/xlperipherals/1010.html), and a pile of disks and tapes and cartridges. I played with it a little, but mostly it sat as [an office decoration](https://www.flickr.com/photos/deusx/8445963080/) for a few years.\n\nThis year, I decided to do something with all my old machines. I’ve got a small collection in my home office: Commodore 64, Amiga 1200, Apple IIe, and Atari 800 - all personal touchstones. But, as it happens, floppies and cassettes and rubber belts decay. I discovered that some of this stuff stopped working over the years.\n\n![I have a table in my office set up with C64, Atari 800, and Apple IIe](image_2.jpg)\n\n## Hacking the SIO port\n\nThe core machines still work, though. And, thanks to the internet and folks generous with their time & efforts, enormous archives of software for these systems can be accessed in seconds. But, how do you get this software into these archaic systems?\n\nI thought bridging the gap would be hard. But, a bit of cheap modern kit can twiddle the signals on an old-school input/output port such that an antique thinks it’s talking to something of its own vintage. Single-board computers and microcontrollers are capable enough to pretend to be almost anything to these old machines.\n\n<img class=\"inset wide right\" alt=\"Pinout of Atari AIO port with legend\" src=\"image_3.gif\" />\n\nThat brings me to the [SIO port](https://en.wikipedia.org/wiki/Atari_SIO) on the Atari 800. Where most 80s computers had a handful of parallel & serial ports of proprietary & standard flavors - the Atari 8-bit computers had just this one port for talking to disks, cassettes, printers, modems, or whatever.  If that sounds familiar, the [SIO port](https://en.wikipedia.org/wiki/Atari_SIO) could be considered a predecessor to our modern USB port. Oddly enough, [Joseph C. Decuir](https://en.wikipedia.org/wiki/Joseph_C._Decuir) worked on both technologies, so I think the similarity is more than coincidental.\n\nIn my idle googling on how to get new data piped into my old Atari, I found this 2013 post on AtariAge entitled \"[SIO2PI -> Raspberry Pi as a floppy](http://atariage.com/forums/topic/209010-sio2pi-raspberry-pi-as-a-floppy/)\" by [TheMontezuma](http://atariage.com/forums/user/29824-themontezuma/). \n\nIn that post is a simple circuit: It used a logic level voltage converter, a diode, a Raspberry Pi, and some wires. I didn’t *really* know all that much about voltage levels and serial ports before this, but this seems handy for all kinds of things and well within my ability to build.\n\n![Rough schematic of connecting a Raspberry Pi to the SIO port](image_4.jpg)\n\nOf course, there’s something ludicrous about using a Raspberry Pi for this. [That little thing can emulate an entire Atari 800 on its own](https://github.com/retropie/retropie-setup/wiki/Atari-800-and-5200). You could hollow out the guts of the old computer, drop in the Pi, and with some clever wiring you’d probably never know the difference from the outside. [Some people actually do that with classic computers like the Amiga](https://makezine.com/2013/03/18/raspberry-pi-gives-amiga-a-new-life/). \n\nBut, I really wanted to get this particular machine up and running. And, overpowered as it might be for the task, a Raspberry Pi Zero W is also hilariously inexpensive.\n\n## Building the SIO2Pi\n\nSo, I went shopping and picked up some parts:\n\n* [CanaKit Raspberry Pi Zero W (Wireless) Starter Kit with Official Case](http://a.co/j79Bk4z)\n\n* [Logic Level Converter Bi-directional Shifter Module for Arduino](http://a.co/0Uo3bnl)\n\n* [Rectifier Diode Assorted Kit](http://a.co/4arTjGe)\n\n* [Breadboard jumpers in ribbon cable form](http://a.co/70wjtGE)\n\n* [Mini breadboards](http://a.co/70wjtGE)\n\nI had a spare SIO cable that I cut in half for the project. I could have tried getting [a new SIO connector 3D printed](https://www.thingiverse.com/thing:1831769) - and I still might - but I knew this cable already worked. And, I was impatient. My first prototype came together on a little breadboard.\n\n![First SIO2Pi prototype on a breadboard](image_5.jpg)\n\n![The prototype connected to my Atari 800](image_6.jpg)\n\nMy first attempt at using the thing was a failure. But, I did more reading into [how to configure the Raspberry Pi’s serial UART](https://www.raspberrypi.org/documentation/configuration/uart.md). Two needful things came up:\n\n* Disabling the out-of-box Bluetooth module\n\n* Disabling the service running a console on the serial port\n\nSo, heads up if you try this - make sure to properly set up the Pi's UART for use with the circuit. Things will either not work at all - or have strange corruption issues as a Linux login console tries to output along with floppy disk data.\n\n## Loading disks with the SIO2Pi\n\nAfter that, [sio2bsd](https://github.com/TheMontezuma/SIO2BSD) started working and my little rig piped images of Atari floppy disks downloaded from [ftp.pigwa.net](http://ftp.pigwa.net/) into my old computer as if they were the real thing.\n\n<iframe class=\"lazyload\" width=\"560\" height=\"315\" data-src=\"https://www.youtube.com/embed/9j6Yy0ZjAK4?rel=0\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>\n\n![Voice of Silence music disk loaded up](image_7.jpg)\n\nOh and since we're living in The Future [and the Internet Archive is an awesome place](https://archive.org/details/a8b_Voice_of_Silence_1996_Taquart_pl) - you can try emulating what I loaded for real, right in your browser. I've had these songs stuck in my head for like a week.\n\n<iframe class=\"lazyload\" data-src=\"https://archive.org/embed/a8b_Voice_of_Silence_1996_Taquart_pl\" width=\"560\" height=\"384\" frameborder=\"0\" webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\" allowfullscreen></iframe>\n\nI’ve only spent a couple of hours with this stuff so far, so I’d totally welcome some suggestions for more things to check out. I knew there were games, but I was never aware of a demoscene or music packs on the Atari 8-bit computers. I’m also starting to learn a bit about the differences between members of the old Atari 8-bit family - insofar as not everything runs on the Atari 800.\n\nBut, I've also got an [Atari 1200XL](http://www.atarimuseum.com/computers/8bits/1200xl/1200xl.html) and an [Atari 65XE](http://www.atarimuseum.com/computers/8bits/xe/65xe/65xe.html) in the basement that I might try playing with next. I did lay hands on a 1200XL as a kid, but I was already onto Commodore by the time the 65XE arrived. It'll be interesting to see what runs on those things.\n\n## The SIO2Pi is a \"modem\" too!\n\nThen, I discovered that I could run [tcpser](https://github.com/FozzTexx/tcpser) on the Raspberry PI - and suddenly my pretend disk drive was a pretend modem. I could \"dial out\" to the internet and explore [a neo-retro world of BBSes](http://bbs.retrobattlestations.com/) I’d never had a chance to experience back in the day on an Atari.\n\n![Loading BOB Term](image_8.jpg)\n\n![\"Calling\" Level 29 BBS from my Atari 800](image_9.jpg)\n\n## Kitten-proofing the SIO2Pi\n\nThe little breadboard rig worked pretty well. But, the next morning, I found most of the wires pulled free thanks to a curious kitten. So, I decided to clean things up and make them more permanent with a [Perma Proto Bonnet Mini Kit](https://www.adafruit.com/product/3203), a [16-pin IDC breakout helper](https://www.adafruit.com/product/2104), and [some 30AWG wire](http://a.co/4IZlqkb) from Adafruit.\n\n![Next prototype of SIO2Pi soldered together on a Perma Proto Bonnet](image_10.jpg)\n\nEven though there are only 5 pins needed between the Pi and the SIO port, soldering up all the pins to headers means I never have to remember what gets plugged into where. It's also good soldering practice. There are also 3 unused pins on the header - because SIO is 13 pins but the IDC breakout was convenient enough to use as-is and just ignore the extra connections.\n\nI managed to solder all the SIO cable wires onto header pins as a makeshift male connector to the SIO2Pi Bonnet. It ended up being a mess, often melting the plastic frame of the header, and I had to redo it at least once. But, it works. I’m also considering adding a female header to the other end of the SIO cable I chopped in half, if only to make it easier to join the two halves back into a working cable if I ever need it.\n\n![Amateurish job of soldering cable wires to header pins](image_11.jpg)\n\nThe finished product sits nicely on top of the Atari 800.\n\n![The SIO2Pi sitting atop the Atari 800](image_12.jpg)\n\nThe wires might be too thick, but I’m considering some [IEC ribbon cable connectors](http://a.co/4ptrVtJ) to crimp one onto the end of these wires and replace my rough soldering job. That might be cleaner and fit more naturally into how this sits on my desk, without bending all the wires awkwardly.\n\n<img alt=\"The whole Atari 800 and SIO2Pi setup sitting on my table\" src=\"image_13.jpg\" id=\"thumbnail\" />\n\n## Next steps\n\nThis setup works well enough. The main drawback is that I have to ssh into the Raspberry Pi and run sio2bsd manually to make it available for loading. And, if I want to switch to using it as a modem from a term program, I have to kill sio2bsd and start up tcpser.\n\n**Adding a display or web interface:** The Raspberry Pi isn’t hooked up to a monitor - and I don’t really want to devote one to it. I could add some kind of small touchscreen or text display. It would also be nice to have a web interface I could hit from my phone. Maybe use that to select disk images and switch into terminal mode, do all the process management of sio2bsd and tcpser in the background with node.js. So, there’s a project for the future.\n\n**Using an ESP8266:** I'm toying with the idea of exploring whether an ESP8266 - or some other small board - would be up to snuff for this project. [I had fun using one to build my wifi pumpkin](https://blog.lmorchard.com/2018/02/08/pumpkin/), so it could be fun for this too. That would take me learning a lot more about the SIO data protocols, though. Luckily, I have [the source code for sio2bsd](https://github.com/TheMontezuma/SIO2BSD), so I have a starting point. But, the key to this SIO2Pi project was that I basically just glued things together and they worked without me entirely understanding the parts.\n\n**Calling more BBSes & writing my own stuff:** Beyond just digging into old software, I’m not sure where I’m going with this stuff next. I’ll probably keep calling some BBSes. I’ve also got a kind of masochistic notion to fetch some old computer magazines and try some of the type-in programs for old time’s sake. Maybe I’ll poke around with exploring the hardware and writing my own games. I haven't tried it, but it seems like this rig should be able to *save* to disk images, too.\n\n**A better case:** I could also explore 3D printing a case that combines all this stuff into a tidy little module with an SIO socket (or two for daisy chaining) rather than using a butchered old cable. I've also read about folks embedding this kind of hardware directly into the old computer - but I like this stuff to be easily reversible & non-destructive, so I probably won't try that.\n\nOr, you know, maybe I’ll move on from this [serial enthusiasm](https://blog.lmorchard.com/2006/05/26/confessions-of-a-serial-enthusiast/) and let it hang out in my office for a few more years. Either way, it’s been a quick & fun project to revive this old machine and get a look a some new-to-me software that I never had a chance to see back in the day.\n\n[modeline]: # ( vim: set wrap linebreak nolist wrapmargin=5 syntax=markdown textwidth=78 formatoptions-=t: )\n[modeline]: # ( vim: set wrap linebreak nolist wrapmargin=5 syntax=markdown textwidth=78 formatoptions-=t: )\n",
    "parentPath": "../blog.lmorchard.com/posts/2018-03-01-sio2pi",
    "path": "2018/03/01/sio2pi",
    "thumbnail": "/blog.lmorchard.com/2018/03/01/sio2pi/image_13.jpg",
    "summary": "<p><strong>TL;DR</strong>: The first computer I programmed was an Atari 800. I&apos;m using a Raspberry Pi Zero W and a simple serial voltage conversion circuit to load disk images from the internet onto my Atari 800.</p>\n",
    "prevPostPath": "2020/05/24/easy-blog-oven",
    "nextPostPath": "2018/03/01/themesrfun"
  },
  {
    "title": "I Made a WiFi Pumpkin",
    "tags": [
      "diy",
      "hardware",
      "halloween",
      "esp8266",
      "iot"
    ],
    "year": "2018",
    "month": "02",
    "day": "08",
    "isDir": true,
    "slug": "pumpkin",
    "date": "2018-02-08T12:00:00.000Z",
    "postName": "2018-02-08-pumpkin",
    "html": "<p><strong>TL;DR</strong>: I made a wifi pumpkin using an ESP8266 with LED matrix eyes and mouth.\nI added a web-based remote control for my phone using websockets. It was fun!</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p>A few years ago, <a href=\"https://twitter.com/lmorchard/status/651958618800177152\">I decided</a> to use some LED matrices to make animated\neyes for a jack-o&#39;-lantern. Not terribly original, but it sounded fun.</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Considering getting some LED matrices to make animated eyes &amp; mouth for a jack-o-lantern. Seems like it could be a fun project or a disaster</p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/651958618800177152?ref_src=twsrc%5Etfw\">October 8, 2015</a></blockquote>\n\n<h2 id=\"v10-2015\">v1.0 (2015)</h2>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/21954391310/in/datetaken/\" title=\"LED matrix on a Raspberry PI\"><img class=\"inset wide left\" src=\"raspi.jpg\" alt=\"LED matrix on a Raspberry PI\"></a></p>\n<p>My first thought was to use a Raspberry Pi.  It was easy to get an LED matrix\nworking in Python. And, I had a notion to build some kind of remote control\nover wifi. But, it felt like overkill to stuff a whole Linux computer\ninto a gourd. (<a href=\"http://strangehorizons.com/non-fiction/articles/installing-linux-on-a-dead-badger-users-notes/\">A dead badger might work</a>, but this was not that kind\nof project.)</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/21994112010/in/datetaken/\" title=\"LED eyes for Pumpkin\"><img class=\"inset wide left\" src=\"arduino.jpg\" alt=\"LED eyes for Pumpkin\"></a></p>\n<p>That&#39;s when I remembered the Arduino Uno I had stashed in a drawer.  I found\n<a href=\"https://mjanyst.weebly.com/arduino-pumpkin-eyes.html\">this guy&#39;s project</a>, which confirmed I wasn&#39;t the first to try\nthis. But it was nice to start from <a href=\"https://github.com/michaltj/LedEyes/blob/master/LedEyes.ino\">someone else&#39;s code</a>. </p>\n<p>I had a brief go at scripting some animations, which resulted\nin an <a href=\"https://github.com/lmorchard/arduino-sketches/blob/master/googly_eyes/googly_eyes.ino\">over-engineered little sketch</a> that helped me \nexercise my rusty C skills.</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/22453913015/in/datetaken/\" title=\"NES pad eyes for Pumpkin\"><img class=\"inset wide left\" src=\"nespad1.jpg\" alt=\"NES pad eyes for Pumpkin\"></a></p>\n<p>From there, I discovered an <a href=\"https://github.com/joshmarinacci/nespad-arduino\">NESPad library</a> that made <a href=\"https://github.com/lmorchard/arduino-sketches/blob/master/nespad_eyes/nespad_eyes.ino\">hooking up a\ncontroller</a> simple. It&#39;s just <a href=\"https://www.allaboutcircuits.com/projects/nes-controller-interface-with-an-arduino-uno/\">a serial interface\npowered by a shift register</a> - pre-teen me would have been impressed that I\nfinally learned how so many buttons worked with so few pins.</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/22463866250/in/datetaken/\" title=\"Pumpkin, candy, NES pad\"><img class=\"inset wide left\" src=\"orig-real-pumpkin-3.jpg\" /></a></p>\n<p>When Halloween arrived, I hustled to get it done before dusk: I carved some\nquick square holes for eyes, nose, and mouth - let&#39;s say it&#39;s an 8-bit thing. </p>\n<p>I bundled up the electronics with plastic wrap and crammed the mess into\nthe pumpkin. I strapped the LED matrices in with picture\nwire. The results weren&#39;t too bad in the dark. \nTrick-or-treaters seemed entertained by my cyborg pumpkin buddy as I handed out\ncandy!</p>\n<p>Not long after Halloween, the gourd went downhill fast. Pumpkins are\nnot a good choice of long-term project enclosure. I put it off as long as I could, but\nfinally I had to put on some gloves to rescue my parts from the slimy\nmess. Those parts went in a box and went untouched for the next year. \n<br style=\"clear:both\"></p>\n<h2 id=\"v20-2016\">v2.0 (2016)</h2>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30331621951/in/datetaken/\" title=\"Pumpkin 2.0\"><img class=\"inset wide right\" src=\"pumpkin2-1.jpg\" /></a></p>\n<p>As Halloween approached again, I wanted to give the project another go. I\nfound a foam pumpkin at Target that seemed realistic. A little time at\n<a href=\"https://www.i3detroit.org/\">the local maker space</a> with my Swiss Army knife, and I had a freshly carved\nsynthetic jack-&#39;o-lantern. </p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30380916606/in/datetaken/\" title=\"Pumpkin 2.0\"><img class=\"inset wide right\" src=\"pumpkin2-2.jpg\" /></a></p>\n<p>Rather than glue things together, I just used some gaffer tape inside to hold\nthe eyes in place. I&#39;d planned to add some more LED matrices to give it a mouth,\nbut never quite got around to it. The little guy seems a bit creepy with just a\npair of eyes, though.</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30380883136/in/datetaken/\" title=\"Pumpkin 2.0 NES connection\"><img class=\"inset wide right\" src=\"nes-connection.jpg\" alt=\"Pumpkin 2.0 NES connection\"></a></p>\n<p>With a house move in the works, my ambition ran out fast that year. I\ndidn&#39;t make any code changes, but I did have to do some reverse engineering.</p>\n<p>Because, of course, I hadn&#39;t left myself good notes and some of the wires had\ncome undone over the past year.  My poor NES controller was looking sad with\nwires just kind of crammed into it.  But, it still worked.</p>\n<p>I refreshed the thing just enough to make it live to see another day. We\ndidn&#39;t hand out candy that year, though, so the thing just decorated my office\nfor awhile. <br style=\"clear:both\"></p>\n<h2 id=\"v30-2017\">v3.0 (2017)</h2>\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37852469272/in/datetaken/\" title=\"Pumpkin meets hot glue\"><img class=\"inset wide right\" src=\"hot-glue.jpg\" alt=\"Pumpkin meets hot glue\"></a>\n-->\n\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031281868/in/datetaken/\" title=\"20171022_203806\"><img id=\"thumbnail\" class=\"inset wide left\" src=\"pumpkin.jpg\" alt=\"20171022_203806\"></a></p>\n<p>Another Halloween and I felt an urge to get more ambitious: I’d picked up that\nArduino at a Maker Faire back in 2011, pretty far from state of the art these \ndays. </p>\n<p>I’d been reading about the <a href=\"https://www.espressif.com/en/products/hardware/esp8266ex/overview\">ESP8266</a> -\na cheap and tiny WiFi module that had been repurposed for\nmore tinkery things.  In fact, I read that you could even flash unmodified\nArduino sketches onto the thing.</p>\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031428708/in/datetaken/\" title=\"Creepy pumpkin eyes\"><img class=\"inset wide left\" src=\"creepy.jpg\" alt=\"Creepy pumpkin eyes\"></a>\n-->\n\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626526390/in/datetaken/\" title=\"20171019_233614\"><img class=\"inset wide left\" src=\"interior.jpg\" alt=\"20171019_233614\"></a></p>\n<p>So, I ordered <a href=\"http://a.co/8zPcmQ5\">an ESP8266 dev board</a> and four more <a href=\"http://a.co/3Mc3qZZ\">8x8 LED\nmatrices</a> for a mouth.\nIt took me an hour to <a href=\"https://github.com/lmorchard/arduino-sketches/blob/master/nodemcu/nespad_eyes/nespad_eyes.ino\">port my old Arduino sketch over</a>,\nincluding the time to set up the dev stack. The eyes came alive on\nthe new hardware in very short order. Another hour and I had the\nmouth animating.</p>\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37852235042/in/datetaken/\" title=\"20171017_005235\"><img class=\"inset wide left\" src=\"mouth.jpg\" alt=\"20171017_005235\"></a>\n-->\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37173755914/in/datetaken/\" title=\"20171021_230802\"><img class=\"inset wide left\" src=\"missing-column.jpg\" alt=\"20171021_230802\"></a>\n-->\n\n<p>A bit more carving, and I was ready to install the mouth. I switched\nfrom gaffer tape to hot glue to make things more permanent. Alas, somehow I\ndamaged a column of LEDs in the process. But, oh well: I just gave it fangs.</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626516700/in/datetaken/\" title=\"20171019_233504\"><img class=\"inset wide left\" src=\"plugs.jpg\" alt=\"20171019_233504\"></a></p>\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626520570/in/datetaken/\" title=\"20171019_233530\"><img class=\"inset wide wide left\" src=\"plugged-in.jpg\" alt=\"20171019_233530\"></a>\n-->\n\n<p>To tidy the whole thing up, I bought extension cables for USB power and the NES\ngamepad. I hacked those up and hot glued them into the back of the pumpkin. </p>\n<p>When I was done, I had no cables trailing out from the inside of the thing. And, I could\nstop shoving bare wires into the end of an NES pad. And, if I wanted to go\ncompletely wireless, I could drop a USB power bank into the top and just\nconnect it from inside.\n<br style=\"clear:both\"></p>\n<h2 id=\"v40-2017\">v4.0 (2017)</h2>\n<p>But, speaking of completely wireless: Back at the start, I&#39;d\nconsidered using a Raspberry Pi.  Given a USB wifi adapter, I could have\nwritten a little web app to use as a remote control for the pumpkin. I still\nwanted to make that happen.</p>\n<p>I knew this ESP8266 thing was handy, but I didn&#39;t realize just how handy until I did some more research. I found an interesting set of libraries to glue together:</p>\n<ul>\n<li><a href=\"https://github.com/esp8266/Arduino\">ESP8266 Arduino core</a> - this let me port my sketch over mostly unmodified</li>\n<li><a href=\"http://esp8266.github.io/Arduino/versions/2.0.0/doc/filesystem.html\">SPIFFS</a> - offers an onboard filesystem in flash memory</li>\n<li><a href=\"https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WebServer\">ESP8266WebServer</a> - an embedded webserver that <a href=\"https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WebServer/examples/FSBrowser\">serves up static files from SPIFFS</a> and lets me handle some URL routes with C code</li>\n<li><a href=\"https://github.com/Links2004/arduinoWebSockets\">arduinoWebsockets</a> - websockets server and client libraries</li>\n<li><a href=\"https://github.com/tzapu/WiFiManager\">WiFiManager</a> - code to fire up an temporary Access Point with a captive web portal to bootstrap wifi configuration - great for a device with no screen or keyboard</li>\n</ul>\n<p>Long story short, I used all the above to produce this masterpiece:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031282388/in/datetaken/\" title=\"Screenshot_20171023-004211\"><img class=\"fullwidth\" src=\"controls.jpg\" alt=\"Screenshot_20171023-004211\"></a></p>\n<p>What you&#39;re looking at is the wifi remote control for my pumpkin. The big yellow square is a virtual touchpad - dragging my finger across it moves the eyeballs. Tapping &quot;Blink&quot; makes the eyes blink, while &quot;Talk&quot; makes the mouth open &amp; close.</p>\n<p>It&#39;s a little web page loaded up from the onboard file system. It connects back to a websocket server that <a href=\"https://github.com/lmorchard/arduino-sketches/blob/master/nodemcu/nespad_eyes/nespad_eyes.ino#L324\">accepts a bunch of little commands</a> - which, oddly enough, map directly to NES pad buttons so I could be lazy and just reuse all the same code paths.</p>\n<p>Building this went way easier than I expected. Sure, it&#39;s embarassing code that anyone sensible would shred in a code review. But, it was fun hacking and works pretty much like I hoped it would. In particular, I was surprised at how responsive it ended up being. Without any optimization, it follows my taps and drags without noticible lag.</p>\n<p>So, for another year, I sat next to an animated glowing pumpkin while I handed\nout candy. But this time, I played amateur ventriloquist and had the thing\ntalking to kids while I prodded at my cell phone. Pretty awkward and nerdy, but\nI think some folks appreciated it. They humored me, at least.</p>\n<h2 id=\"v50-whats-next\">v5.0? What&#39;s next?</h2>\n<p>A few months later, this project is lying fallow. It’s on display in my office, where I can watch the semi-random idle gibbering whenever I like. And though I haven&#39;t gotten back to any ESP8266 tinkering since October, I&#39;m still kind of musing over what I could hack together next.</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37885815451/in/datetaken/\" title=\"20171023_144656\"><img class=\"fullwidth\" src=\"in-office.jpg\" alt=\"20171023_144656\"></a></p>\n<p>It feels weird to say it, but this project might be done: this pumpkin seems pretty close to my original idea. </p>\n<p>I’ve mused about maybe building some sort of voice assistant into it: talk to the pumpkin, control things around the house, hear about the weather, order it to fire candy into kids’ bags with tiny trebuchets - who knows?</p>\n<p>I could upgrade from LED matrices to <a href=\"https://learn.adafruit.com/animated-electronic-eyes-using-teensy-3-1/overview\">full-blown OLED screens</a>. Though, if I did that, I&#39;ve got a notion to build myself a replica of 790 from Lexx. I&#39;d probably regret it, but he seems more my kind of personal assistant than current offerings like Alexa or Siri:</p>\n<div style=\"position: relative; padding-bottom: 56.25%;\">\n  <iframe class=\"lazyload\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" src=\"\" data-src=\"https://www.youtube.com/embed/s8d1mfLa5Vk\" frameborder=\"0\" gesture=\"media\" allow=\"encrypted-media\" allowfullscreen></iframe>\n</div>\n\n<p>I&#39;ve also been thinking bigger: Like, what if I turned my <em>house</em> into an animated character? Combine some <a href=\"https://www.itead.cc/sonoff-wifi-wireless-switch.html\">ESP8266&#39;s with AC relays</a> and orchestrate strings of holiday lights into something animated? I could be <em>that</em> guy on the block!</p>\n<p>Anyway, let me know what you think!</p>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<!-- vim: set wrap linebreak nolist wrapmargin=0 textwidth=0 syntax=markdown formatoptions-=t: -->\n",
    "body": "**TL;DR**: I made a wifi pumpkin using an ESP8266 with LED matrix eyes and mouth.\nI added a web-based remote control for my phone using websockets. It was fun!\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\nA few years ago, [I decided][pumpkintweet] to use some LED matrices to make animated\neyes for a jack-o'-lantern. Not terribly original, but it sounded fun.\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Considering getting some LED matrices to make animated eyes &amp; mouth for a jack-o-lantern. Seems like it could be a fun project or a disaster</p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/651958618800177152?ref_src=twsrc%5Etfw\">October 8, 2015</a></blockquote>\n\n[pumpkintweet]: https://twitter.com/lmorchard/status/651958618800177152\n\n## v1.0 (2015)\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/21954391310/in/datetaken/\" title=\"LED matrix on a Raspberry PI\"><img class=\"inset wide left\" src=\"raspi.jpg\" alt=\"LED matrix on a Raspberry PI\"></a>\n\nMy first thought was to use a Raspberry Pi.  It was easy to get an LED matrix\nworking in Python. And, I had a notion to build some kind of remote control\nover wifi. But, it felt like overkill to stuff a whole Linux computer\ninto a gourd. ([A dead badger might work][badger], but this was not that kind\nof project.)\n\n[badger]: http://strangehorizons.com/non-fiction/articles/installing-linux-on-a-dead-badger-users-notes/\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/21994112010/in/datetaken/\" title=\"LED eyes for Pumpkin\"><img class=\"inset wide left\" src=\"arduino.jpg\" alt=\"LED eyes for Pumpkin\"></a>\n\nThat's when I remembered the Arduino Uno I had stashed in a drawer.  I found\n[this guy's project][otherpump], which confirmed I wasn't the first to try\nthis. But it was nice to start from [someone else's code][workingcode]. \n\n[workingcode]: https://github.com/michaltj/LedEyes/blob/master/LedEyes.ino\n[otherpump]:  https://mjanyst.weebly.com/arduino-pumpkin-eyes.html\n\nI had a brief go at scripting some animations, which resulted\nin an [over-engineered little sketch][overengineered] that helped me \nexercise my rusty C skills.\n\n[overengineered]: https://github.com/lmorchard/arduino-sketches/blob/master/googly_eyes/googly_eyes.ino\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/22453913015/in/datetaken/\" title=\"NES pad eyes for Pumpkin\"><img class=\"inset wide left\" src=\"nespad1.jpg\" alt=\"NES pad eyes for Pumpkin\"></a>\n\nFrom there, I discovered an [NESPad library][] that made [hooking up a\ncontroller][hookingup] simple. It's just [a serial interface\npowered by a shift register][neshow] - pre-teen me would have been impressed that I\nfinally learned how so many buttons worked with so few pins.\n\n[neshow]: https://www.allaboutcircuits.com/projects/nes-controller-interface-with-an-arduino-uno/\n[hookingup]: https://github.com/lmorchard/arduino-sketches/blob/master/nespad_eyes/nespad_eyes.ino\n[nespad library]: https://github.com/joshmarinacci/nespad-arduino \n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/22463866250/in/datetaken/\" title=\"Pumpkin, candy, NES pad\"><img class=\"inset wide left\" src=\"orig-real-pumpkin-3.jpg\" /></a>\n\nWhen Halloween arrived, I hustled to get it done before dusk: I carved some\nquick square holes for eyes, nose, and mouth - let's say it's an 8-bit thing. \n\nI bundled up the electronics with plastic wrap and crammed the mess into\nthe pumpkin. I strapped the LED matrices in with picture\nwire. The results weren't too bad in the dark. \nTrick-or-treaters seemed entertained by my cyborg pumpkin buddy as I handed out\ncandy!\n\nNot long after Halloween, the gourd went downhill fast. Pumpkins are\nnot a good choice of long-term project enclosure. I put it off as long as I could, but\nfinally I had to put on some gloves to rescue my parts from the slimy\nmess. Those parts went in a box and went untouched for the next year. \n<br style=\"clear:both\">\n\n## v2.0 (2016)\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30331621951/in/datetaken/\" title=\"Pumpkin 2.0\"><img class=\"inset wide right\" src=\"pumpkin2-1.jpg\" /></a>\n\nAs Halloween approached again, I wanted to give the project another go. I\nfound a foam pumpkin at Target that seemed realistic. A little time at\n[the local maker space][i3] with my Swiss Army knife, and I had a freshly carved\nsynthetic jack-'o-lantern. \n\n[i3]: https://www.i3detroit.org/\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30380916606/in/datetaken/\" title=\"Pumpkin 2.0\"><img class=\"inset wide right\" src=\"pumpkin2-2.jpg\" /></a>\n\nRather than glue things together, I just used some gaffer tape inside to hold\nthe eyes in place. I'd planned to add some more LED matrices to give it a mouth,\nbut never quite got around to it. The little guy seems a bit creepy with just a\npair of eyes, though.\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/30380883136/in/datetaken/\" title=\"Pumpkin 2.0 NES connection\"><img class=\"inset wide right\" src=\"nes-connection.jpg\" alt=\"Pumpkin 2.0 NES connection\"></a>\n\nWith a house move in the works, my ambition ran out fast that year. I\ndidn't make any code changes, but I did have to do some reverse engineering.\n\nBecause, of course, I hadn't left myself good notes and some of the wires had\ncome undone over the past year.  My poor NES controller was looking sad with\nwires just kind of crammed into it.  But, it still worked.\n\nI refreshed the thing just enough to make it live to see another day. We\ndidn't hand out candy that year, though, so the thing just decorated my office\nfor awhile. <br style=\"clear:both\">\n\n## v3.0 (2017)\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37852469272/in/datetaken/\" title=\"Pumpkin meets hot glue\"><img class=\"inset wide right\" src=\"hot-glue.jpg\" alt=\"Pumpkin meets hot glue\"></a>\n-->\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031281868/in/datetaken/\" title=\"20171022_203806\"><img id=\"thumbnail\" class=\"inset wide left\" src=\"pumpkin.jpg\" alt=\"20171022_203806\"></a>\n\nAnother Halloween and I felt an urge to get more ambitious: I’d picked up that\nArduino at a Maker Faire back in 2011, pretty far from state of the art these \ndays. \n\nI’d been reading about the [ESP8266][] -\na cheap and tiny WiFi module that had been repurposed for\nmore tinkery things.  In fact, I read that you could even flash unmodified\nArduino sketches onto the thing.\n\n[esp8266]: https://www.espressif.com/en/products/hardware/esp8266ex/overview\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031428708/in/datetaken/\" title=\"Creepy pumpkin eyes\"><img class=\"inset wide left\" src=\"creepy.jpg\" alt=\"Creepy pumpkin eyes\"></a>\n-->\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626526390/in/datetaken/\" title=\"20171019_233614\"><img class=\"inset wide left\" src=\"interior.jpg\" alt=\"20171019_233614\"></a>\n\nSo, I ordered [an ESP8266 dev board][nodemcu] and four more [8x8 LED\nmatrices][matrix] for a mouth.\nIt took me an hour to [port my old Arduino sketch over][ported],\nincluding the time to set up the dev stack. The eyes came alive on\nthe new hardware in very short order. Another hour and I had the\nmouth animating.\n\n[nodemcu]: http://a.co/8zPcmQ5 \n[matrix]: http://a.co/3Mc3qZZ\n[ported]: https://github.com/lmorchard/arduino-sketches/blob/master/nodemcu/nespad_eyes/nespad_eyes.ino\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37852235042/in/datetaken/\" title=\"20171017_005235\"><img class=\"inset wide left\" src=\"mouth.jpg\" alt=\"20171017_005235\"></a>\n-->\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37173755914/in/datetaken/\" title=\"20171021_230802\"><img class=\"inset wide left\" src=\"missing-column.jpg\" alt=\"20171021_230802\"></a>\n-->\n\nA bit more carving, and I was ready to install the mouth. I switched\nfrom gaffer tape to hot glue to make things more permanent. Alas, somehow I\ndamaged a column of LEDs in the process. But, oh well: I just gave it fangs.\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626516700/in/datetaken/\" title=\"20171019_233504\"><img class=\"inset wide left\" src=\"plugs.jpg\" alt=\"20171019_233504\"></a>\n\n<!--\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37626520570/in/datetaken/\" title=\"20171019_233530\"><img class=\"inset wide wide left\" src=\"plugged-in.jpg\" alt=\"20171019_233530\"></a>\n-->\n\nTo tidy the whole thing up, I bought extension cables for USB power and the NES\ngamepad. I hacked those up and hot glued them into the back of the pumpkin. \n\nWhen I was done, I had no cables trailing out from the inside of the thing. And, I could\nstop shoving bare wires into the end of an NES pad. And, if I wanted to go\ncompletely wireless, I could drop a USB power bank into the top and just\nconnect it from inside.\n<br style=\"clear:both\">\n\n## v4.0 (2017)\n\nBut, speaking of completely wireless: Back at the start, I'd\nconsidered using a Raspberry Pi.  Given a USB wifi adapter, I could have\nwritten a little web app to use as a remote control for the pumpkin. I still\nwanted to make that happen.\n\nI knew this ESP8266 thing was handy, but I didn't realize just how handy until I did some more research. I found an interesting set of libraries to glue together:\n\n* [ESP8266 Arduino core][espcore] - this let me port my sketch over mostly unmodified\n* [SPIFFS][] - offers an onboard filesystem in flash memory\n* [ESP8266WebServer][] - an embedded webserver that [serves up static files from SPIFFS][servestatic] and lets me handle some URL routes with C code\n* [arduinoWebsockets][] - websockets server and client libraries\n* [WiFiManager][] - code to fire up an temporary Access Point with a captive web portal to bootstrap wifi configuration - great for a device with no screen or keyboard\n\n[espcore]: https://github.com/esp8266/Arduino\n[SPIFFS]:http://esp8266.github.io/Arduino/versions/2.0.0/doc/filesystem.html \n[servestatic]: https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WebServer/examples/FSBrowser \n[arduinoWebsockets]: https://github.com/Links2004/arduinoWebSockets\n[ESP8266WebServer]: https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WebServer\n[WiFiManager]: https://github.com/tzapu/WiFiManager\n\nLong story short, I used all the above to produce this masterpiece:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/24031282388/in/datetaken/\" title=\"Screenshot_20171023-004211\"><img class=\"fullwidth\" src=\"controls.jpg\" alt=\"Screenshot_20171023-004211\"></a>\n\nWhat you're looking at is the wifi remote control for my pumpkin. The big yellow square is a virtual touchpad - dragging my finger across it moves the eyeballs. Tapping \"Blink\" makes the eyes blink, while \"Talk\" makes the mouth open & close.\n\nIt's a little web page loaded up from the onboard file system. It connects back to a websocket server that [accepts a bunch of little commands][wscmds] - which, oddly enough, map directly to NES pad buttons so I could be lazy and just reuse all the same code paths.\n\n[wscmds]: https://github.com/lmorchard/arduino-sketches/blob/master/nodemcu/nespad_eyes/nespad_eyes.ino#L324 \n\nBuilding this went way easier than I expected. Sure, it's embarassing code that anyone sensible would shred in a code review. But, it was fun hacking and works pretty much like I hoped it would. In particular, I was surprised at how responsive it ended up being. Without any optimization, it follows my taps and drags without noticible lag.\n\nSo, for another year, I sat next to an animated glowing pumpkin while I handed\nout candy. But this time, I played amateur ventriloquist and had the thing\ntalking to kids while I prodded at my cell phone. Pretty awkward and nerdy, but\nI think some folks appreciated it. They humored me, at least.\n\n## v5.0? What's next?\n\nA few months later, this project is lying fallow. It’s on display in my office, where I can watch the semi-random idle gibbering whenever I like. And though I haven't gotten back to any ESP8266 tinkering since October, I'm still kind of musing over what I could hack together next.\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/37885815451/in/datetaken/\" title=\"20171023_144656\"><img class=\"fullwidth\" src=\"in-office.jpg\" alt=\"20171023_144656\"></a>\n\nIt feels weird to say it, but this project might be done: this pumpkin seems pretty close to my original idea. \n\nI’ve mused about maybe building some sort of voice assistant into it: talk to the pumpkin, control things around the house, hear about the weather, order it to fire candy into kids’ bags with tiny trebuchets - who knows?\n\nI could upgrade from LED matrices to [full-blown OLED screens][oled]. Though, if I did that, I've got a notion to build myself a replica of 790 from Lexx. I'd probably regret it, but he seems more my kind of personal assistant than current offerings like Alexa or Siri:\n\n<div style=\"position: relative; padding-bottom: 56.25%;\">\n  <iframe class=\"lazyload\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" src=\"\" data-src=\"https://www.youtube.com/embed/s8d1mfLa5Vk\" frameborder=\"0\" gesture=\"media\" allow=\"encrypted-media\" allowfullscreen></iframe>\n</div>\n\n[oled]: https://learn.adafruit.com/animated-electronic-eyes-using-teensy-3-1/overview\n\nI've also been thinking bigger: Like, what if I turned my *house* into an animated character? Combine some [ESP8266's with AC relays][sonoff] and orchestrate strings of holiday lights into something animated? I could be *that* guy on the block!\n\nAnyway, let me know what you think!\n\n[sonoff]: https://www.itead.cc/sonoff-wifi-wireless-switch.html\n\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<!-- vim: set wrap linebreak nolist wrapmargin=0 textwidth=0 syntax=markdown formatoptions-=t: -->\n",
    "parentPath": "../blog.lmorchard.com/posts/2018-02-08-pumpkin",
    "path": "2018/02/08/pumpkin",
    "thumbnail": "/blog.lmorchard.com/2018/02/08/pumpkin/pumpkin.jpg",
    "summary": "<p><strong>TL;DR</strong>: I made a wifi pumpkin using an ESP8266 with LED matrix eyes and mouth.\nI added a web-based remote control for my phone using websockets. It was fun!</p>\n",
    "prevPostPath": "2018/03/01/themesrfun",
    "nextPostPath": "2017/06/01/backyard-pond"
  },
  {
    "title": "Upgrading my Couch PC monitor, v1.2",
    "tags": [
      "diy",
      "hacks",
      "lcd",
      "pc",
      "tech",
      "gaming"
    ],
    "thumbnail": "/blog.lmorchard.com/uploads/2017/diy-monitor-v12/monitor-thumb.jpg",
    "year": "2017",
    "month": "01",
    "day": "09",
    "isDir": false,
    "slug": "diy-monitor-v12",
    "date": "2017-01-09T12:00:00.000Z",
    "postName": "2017-01-09-diy-monitor-v12",
    "html": "<p><strong>TL;DR</strong>: My DIY couch PC monitor has been upgraded for a third time.</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<h2 id=\"the-story-so-far\">The story so far...</h2>\n<p>Almost 3 years ago, <a href=\"http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch\">I decided to build a gaming PC that I could use from the couch</a> while a) hanging out with my wife and b) not monopolizing the living room TV.</p>\n<p>The PC was simple: <a href=\"http://amzn.to/2iy5G2b\">it&#39;s just a cube</a> behind the couch. Mouse &amp; keyboard &amp; headphones are also easy—USB cables come in long lengths and Bluetooth is a thing.</p>\n<p>No, the hard part was the monitor. I had been gaming on a 2012 15&quot; MacBook Pro—which was physically convenient but lacking in performance. A gaming PC solves the latter, but no one seems to sell 15&quot; standalone monitors equivalent to my laptop screen. That was when I discovered <a href=\"http://www.instructables.com/id/Laptop-to-Desktop-Conversion/\">an Instructable article</a> about how to turn an old laptop into a desktop panel. <a href=\"https://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch/#Laptop_decapitation\">That gave me ideas</a>.</p>\n<h2 id=\"version-10---artisanal-acrylic\">Version 1.0 - Artisanal Acrylic</h2>\n<p>Turns out, there are <a href=\"http://www.ebay.com/usr/chinatobby2011\">vendors on eBay</a> who offer complete kits for hooking a laptop display panel up to a PC. They just don&#39;t come with any kind of enclosure like your typical computer monitor. So, <a href=\"http://blog.lmorchard.com/2013/02/10/building-my-couch-computing-station/\">I ordered one of those kits and tried handcrafting a case</a>. It turned out crude yet functional:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/8439217201/in/photolist-5m6a-dRKcfR-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRk8-7aTRTz-7aXEAw-dSvv2a-dSvurt-jC3LLU-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"First fully assembled power-on of my DIY monitor\"><img src=\"/uploads/2017/diy-monitor-v12/8439217201_6eea54c3e5_z.jpg\" width=\"800\" height=\"600\" alt=\"First fully assembled power-on of my DIY monitor\"></a></p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/8447859933/in/photolist-5m6a-dRKcfR-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRk8-7aTRTz-7aXEAw-dSvv2a-dSvurt-jC3LLU-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"Rear view #2 of DIY monitor and IKEA DAVE\"><img src=\"/uploads/2017/diy-monitor-v12/8447859933_c1bf2c05aa_z.jpg\" width=\"800\" height=\"600\" alt=\"Rear view #2 of DIY monitor and IKEA DAVE\"></a></p>\n<h2 id=\"version-11---custom-picture-frame\">Version 1.1 - Custom Picture Frame</h2>\n<p>I used that first version for a year in my living room. It was ugly &amp; heavy &amp; awkward. Happily, I fell upon <a href=\"http://www.instructables.com/id/How-to-Make-a-Raspberry-Pi-Media-Panel-fka-Digita/?ALLSTEPS\">this Instructables article</a> that pointed me to <a href=\"http://www.americanframe.com/\">American Frame</a>. They&#39;ll produce a rectangular picture frame in just about any custom size you&#39;d like—height, width, <em>and</em> depth.</p>\n<p>So, I ordered a nice matte black metal frame close to the size of my display panel. I ended up with this:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/12222356524/in/photolist-dRKcfR-7aTRk8-dSvv2a-dSvurt-jC3LLU-5m6a-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRTz-7aXEAw-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"Updated Couch PC monitor\"><img src=\"/uploads/2017/diy-monitor-v12/12222356524_fcbd4cf0b4_z.jpg\" width=\"600\" height=\"800\" alt=\"Updated Couch PC monitor\"></a></p>\n<p>Sleeker and lighter. The back of the picture frame was just <a href=\"https://en.wikipedia.org/wiki/Foamcore\">foamcore</a> and I used double-sided tape on the monitor arm and all the electronics. Luckily, the panel and all were light enough for these hacks. But, it kind of fell apart across two house moves.</p>\n<h2 id=\"version-12---mic-stands--laser-cutters-ftw\">Version 1.2 - Mic Stands &amp; Laser Cutters FTW</h2>\n<p>I decided I wanted to minimize things. The Ikea Dave laptop stand seemed a bit much, especially when I needed to move it around—or hide it when company came over.</p>\n<p>Last year, I (finally) got a membership at <a href=\"https://www.i3detroit.org/\">i3Detroit</a>. I skilled up on laser cutters and <a href=\"https://blog.lmorchard.com/2016/08/29/gamechord/\">made a DIY keypad that I showed off at the Detroit Maker Faire</a>. Things that, you know, <a href=\"https://groups.google.com/d/topic/i3detroit-public/Qv1P91ySqWo/discussion\">I should have done years ago at the start of this whole DIY monitor project</a>—rather than cutting things by hand and with a Dremel.</p>\n<p>Anyway, I discovered that there&#39;s a such thing as <a href=\"http://amzn.to/2jccG5D\">a VESA mount</a> for <a href=\"http://amzn.to/2jcc93M\">microphone stands</a>. I bought those and threw in an <a href=\"http://amzn.to/2j1YpeM\">adapter</a> &amp; a <a href=\"http://amzn.to/2j1VYZq\">gooseneck</a>—all of which let me strip my rig down like so:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/32182700386/in/datetaken/\" title=\"20170109_221645\"><img src=\"/uploads/2017/diy-monitor-v12/32182700386_4320d2a1d0_z.jpg\" width=\"450\" height=\"800\" alt=\"20170109_221645\"></a></p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/31845156280/in/datetaken/\" title=\"20170109_221722\"><img src=\"/uploads/2017/diy-monitor-v12/31845156280_d16551c8df_z.jpg\" width=\"450\" height=\"800\" alt=\"20170109_221722\"></a></p>\n<p>By this point, the double-sided tape and the foamcore just weren&#39;t up to the task. I decided that I needed to use my laser cutter skills and spare stock of acrylic sheets to build a new mounting solution.</p>\n<p>I came up with this in <a href=\"https://inkscape.org/en/\">Inkscape</a>:</p>\n<p><a href=\"/uploads/2017/diy-monitor-v12/monitor-back-2.svg\"><img class=\"fullwidth\" src=\"/uploads/2017/diy-monitor-v12/path3848.png\"></a></p>\n<p>This is a flattened image (linked to <a href=\"/uploads/2017/diy-monitor-v12/monitor-back-2.svg\">the original SVG</a>) of what turned out to be two 2.5mm and two 1.5mm sheets behind the laptop display panel. This layout has places to bolt in all of the electronic components of the monitor—driver board, button panel, and power supply. It&#39;s also got a proper 75/100 VESA mount that accepts <a href=\"http://amzn.to/2iYwbAU\">10mm thumbscrew bolts</a> through the mic stand plate.</p>\n<p>The main thing that worked out better than I expected is this: <img src=\"/uploads/2017/diy-monitor-v12/nuts.png\" style=\"width: 1.5em\"></p>\n<p>The two 1.5mm layers have rectangular cut-outs. Each of those trap a 3mm thick hexogonal M4 nut and act as wrenches. The 2.5mm layers have holes for bolts. With a little Dremel work, I have a set of M4 bolts that are trimmed so as to prevent grinding into the display panel behind the acrylic layers.</p>\n<p>After a trip to <a href=\"https://www.i3detroit.org/\">i3Detroit</a> yesterday, I ended up with this:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/32080951661/in/datetaken/\" title=\"20170108_214638\"><img src=\"/uploads/2017/diy-monitor-v12/32080951661_c92bb3f74c_z.jpg\" width=\"800\" height=\"450\" alt=\"20170108_214638\"></a></p>\n<p>I improvised attaching the power supply with bolted-down velcro straps. And, alas, the &quot;roof&quot; I made for the driver board didn&#39;t quite work—I need longer bolts &amp; spacers. But, the 75/100 VESA mounting holes worked great!</p>\n<p>The whole thing is now decidedly heavier than with the old foamcore—but it&#39;s still lighter than v1.0 and any other comparable monitor I&#39;ve seen. It&#39;s also much sturdier: I can turn &amp; adjust it however I like with the gooseneck without the constant threat of duct tape tearing and falling apart. And, of course, the mic stand raises &amp; lowers easily.</p>\n<p>But, when I <em>do</em> want to take it apart, it&#39;s totally doable without worry. Cables unplug, thumbscrews unscrew, the mic stand breaks down—and the whole thing can hide under the couch in pieces.</p>\n<h2 id=\"next-steps\">Next steps?</h2>\n<p>Enclosure upgrades notwithstanding, this is a 3-year-old 17&quot; 1080p monitor. I&#39;m starting to feel the itch for a 4k panel since <a href=\"https://www.instagram.com/p/BOlqtGyh7Ln\">I upgraded my video card</a>. But, there&#39;s apparently still no one who sells such a thing as a readymade product.</p>\n<p>Meanwhile, on eBay, there are vendors offering <a href=\"http://www.ebay.com/itm/HDMI-DVI-DP-Board-17-3-3840x2160-UHD-4K-Wideview-100-NTSC-LCD-B173ZAN01-0-/192056466946?hash=item2cb7751e02\">4k versions of the kit</a> that started me off on this whole adventure. I&#39;m tempted to order one of those and use what I&#39;ve learned so far to build the next revision of my monitor in a picture frame with a laser-cut VESA mount back panel.</p>\n<p>Maybe I&#39;ll retire this 1080p monitor for use with my CHIP <a href=\"https://getchip.com/pages/chip\">Pico-8 console kit</a> for a snazzy all-in-one barcade project. In any case, I&#39;m just happy my lovely wife continues to tolerate this experiment of mine in living room couch gaming.</p>\n<script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n\n<!-- vim: set wrap linebreak nolist wrapmargin=0 textwidth=0 syntax=markdown formatoptions-=t textwidth=78: -->\n",
    "body": "**TL;DR**: My DIY couch PC monitor has been upgraded for a third time.\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n## The story so far...\n\nAlmost 3 years ago, [I decided to build a gaming PC that I could use from the couch][couchgaming] while a) hanging out with my wife and b) not monopolizing the living room TV.\n\nThe PC was simple: [it's just a cube][fractalnode] behind the couch. Mouse & keyboard & headphones are also easy—USB cables come in long lengths and Bluetooth is a thing.\n\nNo, the hard part was the monitor. I had been gaming on a 2012 15\" MacBook Pro—which was physically convenient but lacking in performance. A gaming PC solves the latter, but no one seems to sell 15\" standalone monitors equivalent to my laptop screen. That was when I discovered [an Instructable article][instructablepanel] about how to turn an old laptop into a desktop panel. [That gave me ideas][laptopdecapitation].\n\n## Version 1.0 - Artisanal Acrylic\n\nTurns out, there are [vendors on eBay][monitorvendors] who offer complete kits for hooking a laptop display panel up to a PC. They just don't come with any kind of enclosure like your typical computer monitor. So, [I ordered one of those kits and tried handcrafting a case][buildingv1]. It turned out crude yet functional:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/8439217201/in/photolist-5m6a-dRKcfR-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRk8-7aTRTz-7aXEAw-dSvv2a-dSvurt-jC3LLU-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"First fully assembled power-on of my DIY monitor\"><img src=\"/uploads/2017/diy-monitor-v12/8439217201_6eea54c3e5_z.jpg\" width=\"800\" height=\"600\" alt=\"First fully assembled power-on of my DIY monitor\"></a>\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/8447859933/in/photolist-5m6a-dRKcfR-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRk8-7aTRTz-7aXEAw-dSvv2a-dSvurt-jC3LLU-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"Rear view #2 of DIY monitor and IKEA DAVE\"><img src=\"/uploads/2017/diy-monitor-v12/8447859933_c1bf2c05aa_z.jpg\" width=\"800\" height=\"600\" alt=\"Rear view #2 of DIY monitor and IKEA DAVE\"></a>\n\n## Version 1.1 - Custom Picture Frame\n\nI used that first version for a year in my living room. It was ugly & heavy & awkward. Happily, I fell upon [this Instructables article][instructableframe] that pointed me to [American Frame][]. They'll produce a rectangular picture frame in just about any custom size you'd like—height, width, *and* depth.\n\nSo, I ordered a nice matte black metal frame close to the size of my display panel. I ended up with this:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/12222356524/in/photolist-dRKcfR-7aTRk8-dSvv2a-dSvurt-jC3LLU-5m6a-58SNWo-e3Nbyu-7FS8wi-7FS8pc-e3NbtC-e3Nb3W-4P3uQw-3RZHaZ-RQPr4-RNZRY-RQPwv-7aTRTz-7aXEAw-dSmDqf-5m5D-5EBhpP-7HvphU-cVUcz-cVXdK-5EFzQf-cVV14\" title=\"Updated Couch PC monitor\"><img src=\"/uploads/2017/diy-monitor-v12/12222356524_fcbd4cf0b4_z.jpg\" width=\"600\" height=\"800\" alt=\"Updated Couch PC monitor\"></a>\n\nSleeker and lighter. The back of the picture frame was just [foamcore][] and I used double-sided tape on the monitor arm and all the electronics. Luckily, the panel and all were light enough for these hacks. But, it kind of fell apart across two house moves.\n\n## Version 1.2 - Mic Stands & Laser Cutters FTW\n\nI decided I wanted to minimize things. The Ikea Dave laptop stand seemed a bit much, especially when I needed to move it around—or hide it when company came over.\n\nLast year, I (finally) got a membership at [i3Detroit][]. I skilled up on laser cutters and [made a DIY keypad that I showed off at the Detroit Maker Faire][gamechord]. Things that, you know, [I should have done years ago at the start of this whole DIY monitor project][i3early]—rather than cutting things by hand and with a Dremel.\n\nAnyway, I discovered that there's a such thing as [a VESA mount][micvesa] for [microphone stands][micstand]. I bought those and threw in an [adapter][micadapter] & a [gooseneck][gooseneck]—all of which let me strip my rig down like so:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/32182700386/in/datetaken/\" title=\"20170109_221645\"><img src=\"/uploads/2017/diy-monitor-v12/32182700386_4320d2a1d0_z.jpg\" width=\"450\" height=\"800\" alt=\"20170109_221645\"></a>\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/31845156280/in/datetaken/\" title=\"20170109_221722\"><img src=\"/uploads/2017/diy-monitor-v12/31845156280_d16551c8df_z.jpg\" width=\"450\" height=\"800\" alt=\"20170109_221722\"></a>\n\nBy this point, the double-sided tape and the foamcore just weren't up to the task. I decided that I needed to use my laser cutter skills and spare stock of acrylic sheets to build a new mounting solution.\n\nI came up with this in [Inkscape][]:\n\n[<img class=\"fullwidth\" src=\"/uploads/2017/diy-monitor-v12/path3848.png\">][backdesign]\n\nThis is a flattened image (linked to [the original SVG][backdesign]) of what turned out to be two 2.5mm and two 1.5mm sheets behind the laptop display panel. This layout has places to bolt in all of the electronic components of the monitor—driver board, button panel, and power supply. It's also got a proper 75/100 VESA mount that accepts [10mm thumbscrew bolts][thumbscrews] through the mic stand plate.\n\nThe main thing that worked out better than I expected is this: <img src=\"/uploads/2017/diy-monitor-v12/nuts.png\" style=\"width: 1.5em\">\n\nThe two 1.5mm layers have rectangular cut-outs. Each of those trap a 3mm thick hexogonal M4 nut and act as wrenches. The 2.5mm layers have holes for bolts. With a little Dremel work, I have a set of M4 bolts that are trimmed so as to prevent grinding into the display panel behind the acrylic layers.\n\nAfter a trip to [i3Detroit][] yesterday, I ended up with this:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/32080951661/in/datetaken/\" title=\"20170108_214638\"><img src=\"/uploads/2017/diy-monitor-v12/32080951661_c92bb3f74c_z.jpg\" width=\"800\" height=\"450\" alt=\"20170108_214638\"></a>\n\nI improvised attaching the power supply with bolted-down velcro straps. And, alas, the \"roof\" I made for the driver board didn't quite work—I need longer bolts & spacers. But, the 75/100 VESA mounting holes worked great!\n\nThe whole thing is now decidedly heavier than with the old foamcore—but it's still lighter than v1.0 and any other comparable monitor I've seen. It's also much sturdier: I can turn & adjust it however I like with the gooseneck without the constant threat of duct tape tearing and falling apart. And, of course, the mic stand raises & lowers easily.\n\nBut, when I *do* want to take it apart, it's totally doable without worry. Cables unplug, thumbscrews unscrew, the mic stand breaks down—and the whole thing can hide under the couch in pieces.\n\n## Next steps?\n\nEnclosure upgrades notwithstanding, this is a 3-year-old 17\" 1080p monitor. I'm starting to feel the itch for a 4k panel since [I upgraded my video card][videocard]. But, there's apparently still no one who sells such a thing as a readymade product.\n\nMeanwhile, on eBay, there are vendors offering [4k versions of the kit][4kkit] that started me off on this whole adventure. I'm tempted to order one of those and use what I've learned so far to build the next revision of my monitor in a picture frame with a laser-cut VESA mount back panel.\n\nMaybe I'll retire this 1080p monitor for use with my CHIP [Pico-8 console kit][chipconsole] for a snazzy all-in-one barcade project. In any case, I'm just happy my lovely wife continues to tolerate this experiment of mine in living room couch gaming.\n\n<script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n\n[thumbscrews]: http://amzn.to/2iYwbAU\n[laptopdecapitation]: https://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch/#Laptop_decapitation\n[chipconsole]: https://getchip.com/pages/chip\n[4kkit]: http://www.ebay.com/itm/HDMI-DVI-DP-Board-17-3-3840x2160-UHD-4K-Wideview-100-NTSC-LCD-B173ZAN01-0-/192056466946?hash=item2cb7751e02\n[videocard]: https://www.instagram.com/p/BOlqtGyh7Ln\n[i3detroit]: https://www.i3detroit.org/\n[backdesign]: /uploads/2017/diy-monitor-v12/monitor-back-2.svg\n[inkscape]: https://inkscape.org/en/\n[gooseneck]: http://amzn.to/2j1VYZq\n[micadapter]: http://amzn.to/2j1YpeM\n[lapdesk]: http://amzn.to/2jntfL6\n[micstand]: http://amzn.to/2jcc93M\n[micvesa]: http://amzn.to/2jccG5D\n[i3early]: https://groups.google.com/d/topic/i3detroit-public/Qv1P91ySqWo/discussion\n[gamechord]: https://blog.lmorchard.com/2016/08/29/gamechord/\n[foamcore]: https://en.wikipedia.org/wiki/Foamcore\n[monitorvendors]: http://www.ebay.com/usr/chinatobby2011\n[american frame]: http://www.americanframe.com/\n[instructablepanel]: http://www.instructables.com/id/Laptop-to-Desktop-Conversion/\n[instructableframe]: http://www.instructables.com/id/How-to-Make-a-Raspberry-Pi-Media-Panel-fka-Digita/?ALLSTEPS\n[fractalnode]: http://amzn.to/2iy5G2b\n[couchgaming]: http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch\n[buildingv1]: http://blog.lmorchard.com/2013/02/10/building-my-couch-computing-station/\n\n<!-- vim: set wrap linebreak nolist wrapmargin=0 textwidth=0 syntax=markdown formatoptions-=t textwidth=78: -->\n",
    "parentPath": "../blog.lmorchard.com/posts",
    "path": "2017/01/09/diy-monitor-v12",
    "summary": "<p><strong>TL;DR</strong>: My DIY couch PC monitor has been upgraded for a third time.</p>\n",
    "prevPostPath": "2017/01/31/pages-and-pens",
    "nextPostPath": "2016/11/11/heartbroken"
  },
  {
    "title": "Making of the GameChord",
    "tags": [
      "diy",
      "keyboards",
      "hardware",
      "teensy",
      "microcontrollers",
      "electronics"
    ],
    "thumbnail": "/blog.lmorchard.com/uploads/2016/gamechord/thumbnail.jpg",
    "year": "2016",
    "month": "08",
    "day": "29",
    "isDir": false,
    "slug": "gamechord",
    "date": "2016-08-29T12:00:00.000Z",
    "postName": "2016-08-29-gamechord",
    "html": "<p><strong>TL;DR</strong>: I made a USB keypad that&#39;s good for gaming and typing entirely with\none hand.</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p>So, remember back in February when I said that <a href=\"http://blog.lmorchard.com/2016/02/06/keyboard-hacking/\">keyboard hacking seems like\nfun</a>?  Well, I\nfinished this GameChord thing back in July after about 5 months of occasional\nwork. But, I&#39;ve been too busy <a href=\"https://twitter.com/lmorchard/status/770771394816729088\">drinking booze\nand playing video games</a> \nto get my butt in a chair and write about it.</p>\n<p>Let&#39;s see if I can fix that now...</p>\n<h2 id=\"the-design\">The design</h2>\n<p><a href=\"http://www.keyboard-layout-editor.com/##@_name=gamechord&amp;author=lmorchard;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@_r:35&amp;rx:2.5&amp;ry:3.5&amp;y:-1&amp;x:1;&amp;=a&amp;=b&amp;=c\"><img class=\"inset left\"\nsrc=\"/uploads/2016/gamechord/keyboard-layout.png\"></a></p>\n<p>I started doodling with key layouts and <a href=\"http://www.keyboard-layout-editor.com/##@_name=gamechord&amp;author=lmorchard;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@_r:35&amp;rx:2.5&amp;ry:3.5&amp;y:-1&amp;x:1;&amp;=a&amp;=b&amp;=c\">came up with\nthis</a>. Only 18 switches, but enough for gaming. At the\ntime, I was putting a lot of hours into Elite\nDangerous, so this felt promising as a spaceship control pad.<br><a href=\"https://www.flickr.com/photos/deusx/24872268889/\"><img class=\"inset right\" src=\"/uploads/2016/gamechord/paper-planning.jpg\"></a></p>\n<p><a href=\"https://www.flickr.com/photos/deusx/24781232904/in/datetaken-public/\"><img class=\"inset right\" src=\"/uploads/2016/gamechord/cats-happen.jpg\"></a></p>\n<p>Over on <a href=\"http://builder.swillkb.com/\">builder.swillkb.com</a>, I plonked in the JSON from <a href=\"http://www.keyboard-layout-editor.com/##@_name=gamechord&amp;author=lmorchard;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@=1&amp;=2&amp;=3&amp;=4&amp;=5;&amp;@_r:35&amp;rx:2.5&amp;ry:3.5&amp;y:-1&amp;x:1;&amp;=a&amp;=b&amp;=c\">Keyboard\nLayout Editor</a> and came up with some SVG files that printed\nup nicely.</p>\n<p>That gave me a paper mockup of a mounting plate for key switches. I had some\nclear keycaps, so I dropped them onto the paper to get a sense for how it\nwould feel under my hand.</p>\n<p>Of course, cats happen - so those keycaps didn&#39;t stay put for very long. But,\nthat&#39;s okay. Nothing wandered off too far, and I got what I needed from\nthe mess on my desk.</p>\n<h2 id=\"making-the-case\">Making the case</h2>\n<p>Back when <a href=\"http://blog.lmorchard.com/2016/02/06/keyboard-hacking/\">I first started thinking about building a\nkeyboard</a>, I\nassumed I&#39;d send off whatever design files I came up with to a place\nlike <a href=\"https://www.ponoko.com/\">Ponoko</a> and get the mounting plate made for me.</p>\n<p>Prices at those places were just a bit higher than I liked, though. I also\nsuspected things wouldn&#39;t work with my first attempt. I wanted to be able\nto iterate without it taking days or weeks to learn from my mistakes\nand refine.</p>\n<p>That&#39;s when I remembered <a href=\"https://i3detroit.org\">i3Detroit</a> was just down the road. I&#39;d been\nmeaning to get over there for a couple of years: Among other things, the space\nhas <a href=\"https://www.i3detroit.org/wiki/Category:Laser_Cutter\">nice laser cutters</a> that I really wish I&#39;d used <a href=\"http://blog.lmorchard.com/2013/02/10/building-my-couch-computing-station/\">back when\nI butchered some plastic to make a terrible PC monitor case</a>. </p>\n<p>A month or so later, I&#39;d gotten through the new member onboarding process\nand a few training sessions with the laser cutter. I had some\nacrylic sheets still on hand, so I gave my design a shot:</p>\n<p><a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/25839524664/\" title=\"Cutting a keyboard mounting plate on a laser cutter\"><img src=\"https://c1.staticflickr.com/2/1506/25839524664_3250860a23_c.jpg\" width=\"800\" height=\"450\" alt=\"Cutting a keyboard mounting plate on a laser cutter\"></a></p>\n<p>Pretty sure I had the power too high and the speed too low for the run\nin this video. But, the result was not too bad for a first attempt.  I had a\nfew dozen Cherry MX Clear switches to play with, so I snapped them into the\nplate and put on the keycaps I&#39;d used in the paper mockup earlier:</p>\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/clear-keycaps.jpg\">\n\n<p>Still lots of work ahead, but I was feeling pretty accomplished after taking\nthis little glamour shot. I even took it into an <a href=\"https://i3detroit.org\">i3Detroit</a> member meeting\nfor show &amp; tell.</p>\n<h2 id=\"re-making-the-case\">Re-making the case</h2>\n<p>At this point, I&#39;d already heard the term &quot;kerf&quot;. Like a saw blade, the laser\nhas a width that destroys material while cutting. You want that on the\n<em>inside</em> edge of something like a key switch mounting hole, in order to keep\nthe dimensions correct. Unlike a blade, the laser is a cylindrical\nbeam that passes through a lens to form <a href=\"http://www.buildlog.net/blog/2013/05/why-are-my-laser-cut-edges-not-straight/\">something like an\nhourglass</a>. So, the\nkerf&#39;s shape depends on the lens focal length and the conical section that\nintersects with the material.</p>\n<p>Well, I didn&#39;t account for the kerf well enough in my first plate. All the key\nswitches were wobbly. Some would just fall out if I flipped\nthe thing over. Time for some of those iterations I\nfigured I&#39;d have to end up doing.</p>\n<img class=\"inset wide right\" src=\"/uploads/2016/gamechord/kerf-is-real.jpg\">\n\n<p>I know the saying is &quot;measure twice, cut once&quot; - but in this case it was\neasier to measure by cutting! I tried mounting holes with a sampling of kerf\nwidths until I found one that matched the key switch tolerances. Not so snug\nthat it cracked the plate, but not so loose that it wiggled or fell out. </p>\n<p>Once I found a good laser focus and figured out the kerf, I\nattacked another sheet of acrylic with the laser to produce another\niteration of the case.</p>\n<p><a href=\"https://www.flickr.com/photos/deusx/26975072884/\"><img class=\"fullwidth\" src=\"/uploads/2016/gamechord/glamour-shot.jpg\"></a></p>\n<p>Two changes you might notice: I added slots to glue in some socket\nheaders, so I could unplug or replace the Teensy without soldering. I also found some\n<a href=\"http://dro.ps/b/x3g0KCy\">relegendable keycaps</a> on Massdrop - they have little removable covers that\ntake 14mm paper squares. I figured that would come in handy for crazy\nkey layouts I might come up with.</p>\n<h2 id=\"wiring-up-the-key-matrix\">Wiring up the key matrix</h2>\n<p>I haven&#39;t learned how to design circuit boards yet, so I figured I&#39;d just\nhandwire this <a href=\"https://www.youtube.com/watch?v=MrokZ1afnVg\">like I saw in the video</a>. Only 18 switches, so\nhow bad could it be?\nTurns out, it&#39;s rather annoying. Interesting exercise with my terrible old\nRadio Shack soldering iron. </p>\n<img class=\"inset wide left\" src=\"/uploads/2016/gamechord/matrix-wired-up.jpg\">\n\n\n<p>I think I&#39;d much rather get over that PCB fabrication hurdle for when I try\nscaling this up to a 60% keyboard like my HHKB.</p>\n<p>The technique here involves first building up rows of diodes across the\nright-hand pin of every key switch. The diodes serve to prevent <a href=\"https://deskthority.net/wiki/Rollover,_blocking_and_ghosting\">ghosting when\nmultiple keys are pressed</a>. </p>\n<p>Then, I stripped sections of wires to\nrun as columns down the left-hand pin of the switches. </p>\n<p>The remaining\ninsulation ensures the column wires don&#39;t short against the row diodes.</p>\n<h2 id=\"wiring-up-the-teensy\">Wiring up the Teensy</h2>\n<img class=\"inset wide left\" src=\"/uploads/2016/gamechord/teensy-wired-up.jpg\">\n\n<p>This matrix gives me 4 rows (counting the thumb switches) and 5 columns - or 9\nI/O pins to scan 18 switches.</p>\n<p>Except for <a href=\"https://geekhack.org/index.php?topic=72804.0\">magical PD6</a> - which is hardwired to an onboard LED - just\nabout every pin is fair game on the Teensy for rows or columns. </p>\n<p>So, I tried to pick a set that would be easiest to route wires. Since this\ncase is transparent, I wanted to keep things visually interesting with\ndifferent colored wires and a neat shape to the runs.</p>\n<p>Of course, I botched things a bit and marred the acrylic by splashing\nsolder and slipping with the iron a few times. But, maybe no one will really\nnotice.</p>\n<p>If I had to do this over again - and I <em>still</em> hadn&#39;t learned how to make a\nPCB - I&#39;d probably try using something thinner like <a href=\"https://www.adafruit.com/product/1446\">30AWG repair\nwire</a>. That seems like it would thread through the spaces much\nbetter, which would be even more important for a board with many more\nswitches. </p>\n<h2 style=\"clear: both\">Programming the Teensy</h2>\n\n<p>I based <a href=\"https://github.com/lmorchard/gamechord\">the GameChord firmware</a> on the great <a href=\"https://github.com/tmk/tmk_keyboard\">tmk\nfirmware</a> that seems popular on mech keyboard forums.</p>\n<p>Building <a href=\"https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/matrix.c\">the matrix</a> was easy: The firmware scans through rows (DF0, DF1,\nDF4, and DF5) by pulling each low in turn. The columns (DB4, DB5, DB6, DF7,\nand DF6) are set as &quot;active low&quot; pins - which means keys pressed in the\ncurrent scan row get connected to ground and read as signals. So,\nI wrote the functions to manipulate &amp; read the appropriate row &amp; column pins,\nrespectively. </p>\n<p>It was almost <em>too</em> easy:</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Holy crap. My attempt at setting up firmware for my newly wired DIY keypad worked first time. How does this happen. <a href=\"https://t.co/xWESzku4Lp\">https://t.co/xWESzku4Lp</a></p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/746518856328372225\">June 25, 2016</a></blockquote>\n\n<p>From there, I built <a href=\"https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_plain.c\">a dead simple key map</a> with just enough\nkeys to play <a href=\"https://playoverwatch.com/en-us/\">Overwatch</a>:</p>\n<pre><code class=\"language-c\">#include &quot;keymap_common.h&quot;\n\nconst uint8_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n    KEYMAP( ESC,   1,    2,    3,    T, \\\n            TAB,   Q,    W,    E,    R, \\\n           LSFT,   A,    S,    D,    F, \\\n             NO,  NO, LCTL,  SPC,    C),\n};\nconst uint16_t PROGMEM fn_actions[] = {};</code></pre>\n<p>I got it all working and had myself a nice evening of pushing carts and taking\nobjectives.</p>\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/test-run-on-gaming-station.jpg\">\n\n<h2 id=\"going-crazy-with-chording\">Going crazy with chording</h2>\n<p>I had all these <a href=\"http://dro.ps/b/x3g0KCy\">relegendable keycaps</a> and this crazy flexible <a href=\"https://github.com/tmk/tmk_keyboard\">tmk\nfirmware</a> - so I decided to try implementing <a href=\"https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_halfqwerty.c\">a complex and fully impractical\nkeymap based on chords with the thumb keys</a>.</p>\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/finished-key-legends.jpg\">\n\n<p>Given two thumb keys in combination, I can get 4 layers out of the other 15\nkeys - for a total of 60 keys. The firmware also <a href=\"https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_halfqwerty.c#L43\">lets me distinguish\nbetween keys held or just tapped</a>, which gives me a few more layers or\nmodifier keys.</p>\n<p>Long story short, I can get most of the functionality of a regular keyboard\nout of just one hand. All I have to do is just get used to putting my left\nhand through some very awkward and uncomfortable contortions until I get up to\nfull typing speed!</p>\n<p><a href=\"http://blog.lmorchard.com/2016/02/05/steam-controller/\">As I&#39;ve written before</a>, I do really like odd input devices.\nBut, this got old fast. This isn&#39;t so much a practical peripheral as a thing I\ndid because I could. It gave me an excuse to explore the firmware more\nand to use Inkscape to design some legends for my nifty keycaps.</p>\n<h2 id=\"showing-it-off\">Showing it off</h2>\n<p>And just to wrap things up, this happened:</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">I even have a project out in the <a href=\"https://twitter.com/i3Detroit\">@i3Detroit</a> tent at <a href=\"https://twitter.com/hashtag/MakerFaireDetroit?src=hash\">#MakerFaireDetroit</a> ! <a href=\"https://t.co/v0goD3DCBk\">pic.twitter.com/v0goD3DCBk</a></p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/759400946514427904\">July 30, 2016</a></blockquote>\n\n<p>This was the first summer I went to <a href=\"http://www.makerfairedetroit.com/\">Maker Faire Detroit</a> as a Maker. I\nhelped for a bit at the <a href=\"https://i3detroit.org\">i3Detroit</a> tent, mainly just standing and smiling\nat the front table as folks walked in. But, I had my little keyboard out there\non a table, with a project card and everything.</p>\n<p>It and I were only there for a handful of hours, but it&#39;s pretty satisfying to\nhave actually gotten this thing done!</p>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "body": "**TL;DR**: I made a USB keypad that's good for gaming and typing entirely with\none hand.\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\nSo, remember back in February when I said that [keyboard hacking seems like\nfun][keyboardhacking]?  Well, I\nfinished this GameChord thing back in July after about 5 months of occasional\nwork. But, I've been too busy [drinking booze\nand playing video games](https://twitter.com/lmorchard/status/770771394816729088) \nto get my butt in a chair and write about it.\n\nLet's see if I can fix that now...\n\n[keyboardhacking]: http://blog.lmorchard.com/2016/02/06/keyboard-hacking/\n\n## The design\n\n[<img class=\"inset left\"\nsrc=\"/uploads/2016/gamechord/keyboard-layout.png\">][layoutpermalink]\n\nI started doodling with key layouts and [came up with\nthis][layoutpermalink]. Only 18 switches, but enough for gaming. At the\ntime, I was putting a lot of hours into Elite\nDangerous, so this felt promising as a spaceship control pad.  \n[<img class=\"inset right\" src=\"/uploads/2016/gamechord/paper-planning.jpg\">](https://www.flickr.com/photos/deusx/24872268889/)\n\n[<img class=\"inset right\" src=\"/uploads/2016/gamechord/cats-happen.jpg\">](https://www.flickr.com/photos/deusx/24781232904/in/datetaken-public/)\n\nOver on [builder.swillkb.com][builder], I plonked in the JSON from [Keyboard\nLayout Editor][layoutpermalink] and came up with some SVG files that printed\nup nicely.\n\nThat gave me a paper mockup of a mounting plate for key switches. I had some\nclear keycaps, so I dropped them onto the paper to get a sense for how it\nwould feel under my hand.\n\nOf course, cats happen - so those keycaps didn't stay put for very long. But,\nthat's okay. Nothing wandered off too far, and I got what I needed from\nthe mess on my desk.\n\n[builder]: http://builder.swillkb.com/\n\n## Making the case\n\nBack when [I first started thinking about building a\nkeyboard][keyboardhacking], I\nassumed I'd send off whatever design files I came up with to a place\nlike [Ponoko](https://www.ponoko.com/) and get the mounting plate made for me.\n\nPrices at those places were just a bit higher than I liked, though. I also\nsuspected things wouldn't work with my first attempt. I wanted to be able\nto iterate without it taking days or weeks to learn from my mistakes\nand refine.\n\nThat's when I remembered [i3Detroit][] was just down the road. I'd been\nmeaning to get over there for a couple of years: Among other things, the space\nhas [nice laser cutters][lasercutters] that I really wish I'd used [back when\nI butchered some plastic to make a terrible PC monitor case][monitorcase]. \n\n[lasercutters]: https://www.i3detroit.org/wiki/Category:Laser_Cutter\n[monitorcase]: http://blog.lmorchard.com/2013/02/10/building-my-couch-computing-station/\n[i3Detroit]: https://i3detroit.org\n\nA month or so later, I'd gotten through the new member onboarding process\nand a few training sessions with the laser cutter. I had some\nacrylic sheets still on hand, so I gave my design a shot:\n\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/deusx/25839524664/\" title=\"Cutting a keyboard mounting plate on a laser cutter\"><img src=\"https://c1.staticflickr.com/2/1506/25839524664_3250860a23_c.jpg\" width=\"800\" height=\"450\" alt=\"Cutting a keyboard mounting plate on a laser cutter\"></a>\n\nPretty sure I had the power too high and the speed too low for the run\nin this video. But, the result was not too bad for a first attempt.  I had a\nfew dozen Cherry MX Clear switches to play with, so I snapped them into the\nplate and put on the keycaps I'd used in the paper mockup earlier:\n\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/clear-keycaps.jpg\">\n\nStill lots of work ahead, but I was feeling pretty accomplished after taking\nthis little glamour shot. I even took it into an [i3Detroit][] member meeting\nfor show & tell.\n\n## Re-making the case\n\nAt this point, I'd already heard the term \"kerf\". Like a saw blade, the laser\nhas a width that destroys material while cutting. You want that on the\n*inside* edge of something like a key switch mounting hole, in order to keep\nthe dimensions correct. Unlike a blade, the laser is a cylindrical\nbeam that passes through a lens to form [something like an\nhourglass][beamshape]. So, the\nkerf's shape depends on the lens focal length and the conical section that\nintersects with the material.\n\n[beamshape]: http://www.buildlog.net/blog/2013/05/why-are-my-laser-cut-edges-not-straight/\n\nWell, I didn't account for the kerf well enough in my first plate. All the key\nswitches were wobbly. Some would just fall out if I flipped\nthe thing over. Time for some of those iterations I\nfigured I'd have to end up doing.\n\n<img class=\"inset wide right\" src=\"/uploads/2016/gamechord/kerf-is-real.jpg\">\n\nI know the saying is \"measure twice, cut once\" - but in this case it was\neasier to measure by cutting! I tried mounting holes with a sampling of kerf\nwidths until I found one that matched the key switch tolerances. Not so snug\nthat it cracked the plate, but not so loose that it wiggled or fell out. \n\nOnce I found a good laser focus and figured out the kerf, I\nattacked another sheet of acrylic with the laser to produce another\niteration of the case.\n\n[<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/glamour-shot.jpg\">](https://www.flickr.com/photos/deusx/26975072884/)\n\nTwo changes you might notice: I added slots to glue in some socket\nheaders, so I could unplug or replace the Teensy without soldering. I also found some\n[relegendable keycaps][] on Massdrop - they have little removable covers that\ntake 14mm paper squares. I figured that would come in handy for crazy\nkey layouts I might come up with.\n\n[relegendable keycaps]: http://dro.ps/b/x3g0KCy\n\n## Wiring up the key matrix\n\nI haven't learned how to design circuit boards yet, so I figured I'd just\nhandwire this [like I saw in the video][handwirevideo]. Only 18 switches, so\nhow bad could it be?\nTurns out, it's rather annoying. Interesting exercise with my terrible old\nRadio Shack soldering iron. \n\n<img class=\"inset wide left\" src=\"/uploads/2016/gamechord/matrix-wired-up.jpg\">\n\n\nI think I'd much rather get over that PCB fabrication hurdle for when I try\nscaling this up to a 60% keyboard like my HHKB.\n\nThe technique here involves first building up rows of diodes across the\nright-hand pin of every key switch. The diodes serve to prevent [ghosting when\nmultiple keys are pressed][ghosting]. \n\nThen, I stripped sections of wires to\nrun as columns down the left-hand pin of the switches. \n\nThe remaining\ninsulation ensures the column wires don't short against the row diodes.\n\n[handwirevideo]: https://www.youtube.com/watch?v=MrokZ1afnVg\n[ghosting]: https://deskthority.net/wiki/Rollover,_blocking_and_ghosting\n\n## Wiring up the Teensy\n\n<img class=\"inset wide left\" src=\"/uploads/2016/gamechord/teensy-wired-up.jpg\">\n\nThis matrix gives me 4 rows (counting the thumb switches) and 5 columns - or 9\nI/O pins to scan 18 switches.\n\nExcept for [magical PD6][pd6] - which is hardwired to an onboard LED - just\nabout every pin is fair game on the Teensy for rows or columns. \n\nSo, I tried to pick a set that would be easiest to route wires. Since this\ncase is transparent, I wanted to keep things visually interesting with\ndifferent colored wires and a neat shape to the runs.\n\nOf course, I botched things a bit and marred the acrylic by splashing\nsolder and slipping with the iron a few times. But, maybe no one will really\nnotice.\n\nIf I had to do this over again - and I *still* hadn't learned how to make a\nPCB - I'd probably try using something thinner like [30AWG repair\nwire][30awg]. That seems like it would thread through the spaces much\nbetter, which would be even more important for a board with many more\nswitches. \n\n[30awg]: https://www.adafruit.com/product/1446\n\n[pd6]: https://geekhack.org/index.php?topic=72804.0\n\n<h2 style=\"clear: both\">Programming the Teensy</h2>\n\nI based [the GameChord firmware][gamechordfirmware] on the great [tmk\nfirmware][] that seems popular on mech keyboard forums.\n\nBuilding [the matrix][] was easy: The firmware scans through rows (DF0, DF1,\nDF4, and DF5) by pulling each low in turn. The columns (DB4, DB5, DB6, DF7,\nand DF6) are set as \"active low\" pins - which means keys pressed in the\ncurrent scan row get connected to ground and read as signals. So,\nI wrote the functions to manipulate & read the appropriate row & column pins,\nrespectively. \n\nIt was almost *too* easy:\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Holy crap. My attempt at setting up firmware for my newly wired DIY keypad worked first time. How does this happen. <a href=\"https://t.co/xWESzku4Lp\">https://t.co/xWESzku4Lp</a></p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/746518856328372225\">June 25, 2016</a></blockquote>\n\nFrom there, I built [a dead simple key map][plainmap] with just enough\nkeys to play [Overwatch][]:\n\n```c\n#include \"keymap_common.h\"\n\nconst uint8_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n    KEYMAP( ESC,   1,    2,    3,    T, \\\n            TAB,   Q,    W,    E,    R, \\\n           LSFT,   A,    S,    D,    F, \\\n             NO,  NO, LCTL,  SPC,    C),\n};\nconst uint16_t PROGMEM fn_actions[] = {};\n```\n\nI got it all working and had myself a nice evening of pushing carts and taking\nobjectives.\n\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/test-run-on-gaming-station.jpg\">\n\n[the matrix]: https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/matrix.c\n[plainmap]: https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_plain.c\n[gamechordfirmware]: https://github.com/lmorchard/gamechord\n[tmk firmware]: https://github.com/tmk/tmk_keyboard\n[overwatch]: https://playoverwatch.com/en-us/\n\n## Going crazy with chording\n\nI had all these [relegendable keycaps][] and this crazy flexible [tmk\nfirmware][] - so I decided to try implementing [a complex and fully impractical\nkeymap based on chords with the thumb keys][halfqwerty].\n\n[halfqwerty]: https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_halfqwerty.c\n\n<img class=\"fullwidth\" src=\"/uploads/2016/gamechord/finished-key-legends.jpg\">\n\nGiven two thumb keys in combination, I can get 4 layers out of the other 15\nkeys - for a total of 60 keys. The firmware also [lets me distinguish\nbetween keys held or just tapped][taps], which gives me a few more layers or\nmodifier keys.\n\n[taps]: https://github.com/lmorchard/gamechord/blob/863295d2cbdbc7052a25e989a77c3448796e67a6/keymap_halfqwerty.c#L43\n\nLong story short, I can get most of the functionality of a regular keyboard\nout of just one hand. All I have to do is just get used to putting my left\nhand through some very awkward and uncomfortable contortions until I get up to\nfull typing speed!\n\n[As I've written before][steamcontroller], I do really like odd input devices.\nBut, this got old fast. This isn't so much a practical peripheral as a thing I\ndid because I could. It gave me an excuse to explore the firmware more\nand to use Inkscape to design some legends for my nifty keycaps.\n\n[steamcontroller]: http://blog.lmorchard.com/2016/02/05/steam-controller/\n\n## Showing it off\n\nAnd just to wrap things up, this happened:\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">I even have a project out in the <a href=\"https://twitter.com/i3Detroit\">@i3Detroit</a> tent at <a href=\"https://twitter.com/hashtag/MakerFaireDetroit?src=hash\">#MakerFaireDetroit</a> ! <a href=\"https://t.co/v0goD3DCBk\">pic.twitter.com/v0goD3DCBk</a></p>&mdash; Les Orchard (@lmorchard) <a href=\"https://twitter.com/lmorchard/status/759400946514427904\">July 30, 2016</a></blockquote>\n\nThis was the first summer I went to [Maker Faire Detroit][] as a Maker. I\nhelped for a bit at the [i3Detroit][] tent, mainly just standing and smiling\nat the front table as folks walked in. But, I had my little keyboard out there\non a table, with a project card and everything.\n\nIt and I were only there for a handful of hours, but it's pretty satisfying to\nhave actually gotten this thing done!\n\n[maker faire detroit]: http://www.makerfairedetroit.com/\n[laservideo]: https://www.flickr.com/photos/deusx/25839524664/\n[layoutpermalink]: http://www.keyboard-layout-editor.com/##@_name=gamechord&author=lmorchard;&@=1&=2&=3&=4&=5;&@=1&=2&=3&=4&=5;&@=1&=2&=3&=4&=5;&@_r:35&rx:2.5&ry:3.5&y:-1&x:1;&=a&=b&=c\n\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "parentPath": "../blog.lmorchard.com/posts",
    "path": "2016/08/29/gamechord",
    "summary": "<p><strong>TL;DR</strong>: I made a USB keypad that&apos;s good for gaming and typing entirely with\none hand.</p>\n",
    "prevPostPath": "2016/08/31/yak-shaving-habits",
    "nextPostPath": "2016/04/17/spreadsheets-in-space"
  },
  {
    "title": "Building a USB controller for an IBM Model M",
    "tags": [
      "modelm",
      "diy",
      "keyboards",
      "hardware",
      "teensy",
      "microcontrollers",
      "electronics"
    ],
    "year": "2016",
    "month": "02",
    "day": "21",
    "isDir": false,
    "slug": "modelm-controller",
    "date": "2016-02-21T12:00:00.000Z",
    "postName": "2016-02-21-modelm-controller",
    "html": "<p><strong>TL;DR</strong>: I wired up a Teensy 2.0++ to an IBM Model M keyboard,\nwhich gave it a USB interface and custom firmware that can remap keys and do\nother interesting things.</p>\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\n<p>In my <a href=\"http://blog.lmorchard.com/2016/02/06/keyboard-hacking/\">previous post</a>, I wrote about my initial forays into\nkeyboard hacking. I got my hands on a few IBM Model M keyboards, and built a\nPS/2-to-USB converter with a <a href=\"https://www.pjrc.com/store/teensy.html\">Teensy 2.0</a> so I could use it with my\nMacBook Pro after remapping some keys via the <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK keyboard firmware</a>.</p>\n<p>That was a pretty rewarding little hack. But, then, I found <a href=\"https://github.com/antonizoon/archivis.me/wiki/IBM-Model-M-USB-Controller\">Lawrence Wu&#39;s\nnotes</a> on replacing the original controller inside the IBM\nModel M.  In a nutshell, it turns out you can find ribbon connectors that work\nwith the Model M membrane layers and fit on a breadboard. That makes it easy\nto build - and reversible if I decide to return the keyboard to its original\nstate.</p>\n<h2 id=\"initial-prototype\">Initial Prototype</h2>\n<p>So, I ordered a few of the <a href=\"http://www.mouser.com/ProductDetail/TE-Connectivity/6-520315-6/?qs=sGAEpiMZZMvYKGyZxp8jxkA16bSpREuh\">16-pin ribbon connectors from Mouser</a>\nand a <a href=\"https://www.pjrc.com/store/teensypp.html\">Teensy 2.0++</a>. My first stab at wiring things up was\npretty simple:</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24987051026/in/photolist-E52aJA-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz-Dzg18k\" title=\"Original prototype for replacement IBM Model M keyboard controller\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24987051026_0d0b1ac2a9_z.jpg\" alt=\"Original prototype for replacement IBM Model M keyboard controller\"></a></p>\n<p>The <a href=\"https://www.pjrc.com/store/teensypp.html\">Teensy 2.0++</a> has 20 pins per side, and I needed 16 for the\nfirst ribbon. So, it was convenient to just plonk both onto the breadboard and\ntake advantage of the built-in conductors. That&#39;s also why I upgraded from a\n<a href=\"https://www.pjrc.com/store/teensy.html\">Teensy 2.0</a>: I needed more pins. The second ribbon needed\n8 pins, so I cut some lengths of <a href=\"http://amzn.to/1oCuCJ1\">hook-up wire</a> to keep things neat\nand ran the connections over.</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24684318539/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"5.5mm nut driver needed for opening IBM Model M keyboards\"><img class=\"inset wide right\" src=\"/uploads/2016/modelm-controller/24684318539_4dde739235_n.jpg\" alt=\"5.5mm nut driver needed for opening IBM Model M keyboards\"></a></p>\n<h2 id=\"driving-me-nuts\">Driving Me Nuts</h2>\n<p>Then, I wanted to get inside the keyboard to start tinkering. As it turns out,\nopening up an IBM Model M is annoying: None of the tools I had on hand could\ndo it. </p>\n<p>The case is assembled using screws with 5.5mm nut heads, rather than\nsomething like a Phillips-head screw. And, the screws are down in deep wells\ntoo narrow to fit any of the socket wrench heads I had on hand.</p>\n<p>So, I had to order <a href=\"http://amzn.to/1RgjN8k\">a 5.5mm nut driver</a> with a very slim head.\nReading <a href=\"http://www.amazon.com/Dynamite-2803-Nut-Driver-5-5mm/product-reviews/B000BQ4XP6/ref=cm_cr_dp_see_all_summary?ie=UTF8&amp;showViewpoints=1&amp;sortBy=helpful\">the reviews</a>, I can see I&#39;m not alone in this.</p>\n<p>While that made its way to my house, I&#39;d read that <a href=\"https://deskthority.net/workshop-f7/model-m-disassembly-t1960.html#p34013\">some folks used a lighter\nand a pen</a> to form a makeshift nut driver. That was a terrible\nidea, but it worked. In hindsight, I really should have just waited for the\ndriver to show up. But, I was determined to get the thing open while I had\ntime to play with it.</p>\n<h2 id=\"the-original-controller\">The Original Controller</h2>\n<p>And, once open, this is the board I found inside:</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/25046846995/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"IBM Model M original controller board\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/25046846995_c8dab2484c_z.jpg\" alt=\"IBM Model M original controller board\"></a></p>\n<p>I should have taken a picture of it in place, but oh well. The board has a\ngrounding strap that was screwed down to the steel plate under the keys.\nBeyond that, it just fit into plastic brackets in the case and wasn&#39;t\notherwise fastened down. And, in a weird coincidence, the board was almost the\nexact same dimensions as my breadboard. Maybe these things are standard sizes?</p>\n<h2 id=\"mapping-the-membranes\">Mapping the Membranes</h2>\n<p>With the keyboard membrane ribbons free from the original board, I hooked them up to\nmy prototype. From there, I wanted to start making the keys send the right\nsignals. There are three parts to this:</p>\n<ol>\n<li>Mapping Teensy pins to a 16 x 8 switch matrix</li>\n<li>Mapping the 16 x 8 switch matrix to physical key locations</li>\n<li>Mapping physical key locations to USB key codes</li>\n</ol>\n<p>To accomplish #1, <a href=\"https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/matrix.c#L163\">I set up pins in the firmware</a>. The way this works is\nthat the rows are set to input and the columns are set to output. By pulsing a\ncurrent for each column in turn and reading the rows, you can build up a\nmatrix of switch state where the circuit is completed. This is called\n<a href=\"https://www.massdrop.com/article/introduction-to-keyboard-programming\">scanning the keyboard</a>. There are problems in this process - <a href=\"http://blog.komar.be/how-to-make-a-keyboard-the-matrix/\">like\nghosting</a> - but I&#39;ll skip describing them for now.</p>\n<p>To double check that I had my matrix working, I threw together an initial\nkeymap and set every key to emit &quot;1&quot;.  I tapped each key and saw a &quot;1&quot; in my\nnotepad. Hooray, it worked! At least, electrically speaking.</p>\n<p>For step #2, I started googling for IBM Model M membrane matrix maps. Surely\nsomeone had done this before! Well, <a href=\"https://deskthority.net/workshop-f7/universal-model-m-controller-t9820.html#p207736\">it turns out someone had</a>.\nDeskthority user <a href=\"https://deskthority.net/idollar-u6930/\">idollar</a> had traced all the wires and annotated the\nmembranes with row &amp; column numbers in marker:</p>\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/DSC_9298.jpg\">\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/DSC_9300.jpg\">\n\n<p>Just to be clear: These two are not my photos. I stand on the shoulders of\n<a href=\"https://deskthority.net/idollar-u6930/\">forum giants</a>. But, after awhile, I couldn&#39;t really read the\nhandwriting and started making mistakes. </p>\n<p>That&#39;s when I remembered <a href=\"https://github.com/tmk/tmk_keyboard#magic-commands\">the matrix debug mode in TMK</a>: After\nconfiguring just enough keys to enable it, I could just watch the debug\noutput to tell me the rows &amp; columns as I hit other keys.</p>\n<p>Thus equipped, I spent a Sunday morning over coffee mapping the keyboard:\nMethodically pressing keys, noting rows &amp; columns, and building up <a href=\"https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/keymap.c#L34\">the KEYMAP\nmacro</a> that converts symbols for physical keys to logical matrix\npositions. Along the way, I also built up <a href=\"https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/keymap.c#L54\">the initial\nkeymap</a> using that macro to assign keycodes to the physical\nkeys.</p>\n<h2 id=\"fitting-the-prototype\">Fitting the Prototype</h2>\n<p>After that, I had an initial stab at steps #2 &amp; #3 - the keyboard was pretty\nmuch working and I could start typing practically with it. But, because I was\nhacking on this from the couch, it was all super-awkward holding things\ntogether in my lap.</p>\n<p>I should mention that these ribbon connectors have short, fragile leads.\nThey&#39;re really meant for soldering into a PCB. They snap into the breadboard,\nbut just barely. They spring free at the slightest pressure - you know, like\nhooking up ribbons and moving the keyboard around. And, whenever I reinsert\nthem, invariably one pin or another gets bent up and then snaps off after the\n4th or 5th realignment. I&#39;m really glad I bought extras, because I&#39;m down to\nmy last two that still work.</p>\n<p>So, I got tired of things falling apart and started positioning my breadboard\ninto the case. Everything fit physically, but the parts were all in the wrong\nplace. With a sigh, I pulled everything out of the board, rewired it, and\nreassigned all the pins:</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24742861610/in/dateposted-public/\" title=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24742861610_8c3c931768_z.jpg\" alt=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"></a></p>\n<p>That put the ribbon connectors in the right spots for the keyboard membranes\nto connect, as well as room for a USB connector I bought to loop around without\ntoo much bend. Oh, and I slightly rewired things again, because I discovered\nI&#39;d connected all the LEDs backward:</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24945773791/in/photolist-E52aJA-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz-Dzg18k/\" title=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24945773791_b208614dd7_z.jpg\" alt=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"></a></p>\n<h2 id=\"my-keyboard-is-haunted\">My Keyboard is Haunted</h2>\n<p>After all the rewiring and reassigned pins, I fired things up again. This\ntime, I started getting mysterious spontaneous keystrokes. I thought it might\nbe a grounding issue with static electricity, because I could usually make it\nhappen by waving my hands over the keyboard. While a <a href=\"https://en.wikipedia.org/wiki/Theremin\">theremin</a>\nkeyboard might be fun, that&#39;s not actually what I was going for here.</p>\n<p>So, I ran a wire from the steel plate to the GND pin on the Teensy. That\ndidn&#39;t fix it.</p>\n<p>Finally, I realized that one of my new pins in use was D6 - and\nD6 is hardwired to an LED on the Teensy board. And, it so happens that LEDs\ncan do weird things when hooked up as an input - <a href=\"http://www.analog.com/library/analogdialogue/archives/48-08/raq_108.html\">such as detecting\nlight</a>. You know, maybe like the changing light from waving my\nhands over the keyboard.</p>\n<p>Thus, I was able to exorcise my keyboard ghost by bending up the pin at D6 to\ndisconnect it from the breadboard. Then, I ran a jumper over to D1 and\n<a href=\"https://github.com/lmorchard/tmk_keyboard/commit/f5b31e9d320d494a4d3fc75db614883b7225d332\">switched the pin assignments in the firmware</a>. No more spontaneous\nkeypresses.</p>\n<h2 id=\"secrets-of-2kro-matrices\">Secrets of 2KRO Matrices</h2>\n<p>After typing a bit, I realized I couldn&#39;t get certain key combinations to work -\nShift-T, for example.</p>\n<p>Now, I know that the IBM Model M isn&#39;t <a href=\"https://deskthority.net/wiki/Rollover,_blocking_and_ghosting\">an NKRO keyboard</a>. That is, you\ncannot press any arbitrary combination of keys together. But, of course, a\nkeyboard is useless if you can&#39;t press at least <em>some</em> keys together - like, say,\nShift and T. In fact, I&#39;ve read that the IBM Model M is described as 2KRO -\ni.e. two-key rollover.</p>\n<p>So, I knew that the original controller supported Shift-T. Looking in the\nmatrix debug output, I noticed that I couldn&#39;t press any 2 keys in the same\nrow together - that included Left Shift and T.</p>\n<p>Scratching my head, I noticed that the membrane matrix had some interesting\nproperties: Pretty much all the modifier keys were in different columns than\nthe other keys I wanted to press along with them. So, my problem might be\nsolved by rotating the matrix - that is, <a href=\"https://github.com/lmorchard/tmk_keyboard/commit/afc4d0f23be23e8c69bc1dfbe127898a7fe82db7\">turning rows into columns and columns\ninto rows</a>.</p>\n<p>I don&#39;t entirely have my head wrapped around the design of the Model M\nmembrane layout, but I think this is part of it: After I rotated the matrix,\nthere are 8 columns per row. As far as I can tell, only one key can be pressed\nper row - so that means any given key has 7 others that cannot be pressed at\nthe same time. Practical key rollover, then, is implemented by putting keys\nyou&#39;re likely to press together in different rows.</p>\n<p>For example, modifiers like Left Shift and Right Shift share a row, and so\ncannot be pressed together. But, Left Shift &amp; T are found in different rows\nand can work together. However, some of the letters in the QWER &amp; ASDF cluster\nshare rows, so that can be trouble for gaming - directional keypresses and\nsuchlike might cancel each other out in the heat of the keymashing moment.\nBut, since this keyboard harkens to an era where keys were more for typing\nwords than for controlling games, the tradeoff makes sense.</p>\n<h2 id=\"the-result\">The Result</h2>\n<p><a data-flickr-embed=\"true\" data-header=\"false\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24422592514/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz\" title=\"IBM Model M keyboard with USB controller\"><img class=\"inset wide right\" id=\"thumbnail\" src=\"/uploads/2016/modelm-controller/24422592514_d79da1882a_z.jpg\" alt=\"IBM Model M keyboard with USB controller\"></a></p>\n<p>So, after all the above and a few more random adventures in C programming,\nthis IBM Model M keyboard is now sitting on my desk with a USB cable plugged\ninto it.</p>\n<p>I ordered <a href=\"http://www.pckeyboard.com/page/category/Buttons\">some custom replacement keycaps from Unicomp</a> to reflect\nsome of the remapped keys I implemented - i.e. media control, Command (⌘),\nCaps Lock replaced by Ctrl. </p>\n<p>I&#39;ve been having some clicky-clacky fun with this thing, and it&#39;s been easy to\nreconfigure &amp; reflash along the way as needed. Experience with <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK</a> to\nconfigure my previous project really came in handy.</p>\n<p><a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24959916191/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"IBM Model M with USB controller upgrade\"><img class=\"inset wide left\" src=\"/uploads/2016/modelm-controller/24959916191_bfe3246ded_z.jpg\" alt=\"IBM Model M with USB controller upgrade\"></a></p>\n<p>The one part that could be considered irreversible with this project is that I\nended up drilling two small holes in the back to secure the USB port. I&#39;m just\nslightly sad about that. But, I guess if I ever sell this thing on eBay, I&#39;ll\ntry talking up the benefits of the new USB controller.</p>\n<p>But, otherwise, if I wanted to undo all this work, I could just open it back\nup and plonk the original controller back in. I&#39;ve currently got that board\nsitting in an anti-static bag in a drawer, taking a rest after decades of\nservice.\n<br style=\"clear: both\"></p>\n<h2 id=\"next-steps\">Next Steps</h2>\n<h3 id=\"breadboard-to-pcb\">Breadboard to PCB</h3>\n<p>Like I mentioned before, those ribbon connectors are fragile and meant to be\nsoldered to a PCB. I&#39;d also like to learn how to design PCBs, so this seems\nlike a super easy project to start with. The only things needed are places to\nsolder the connectors, a socket for a Teensy, and traces connecting everything\nproperly. I wouldn&#39;t even need to learn SMD soldering yet!</p>\n<h3 id=\"bluetooth\">Bluetooth</h3>\n<p>I saw <a href=\"https://learn.adafruit.com/convert-your-model-m-keyboard-to-bluetooth-with-bluefruit-ez-key-hid/overview\">a project on Adafruit to add Bluetooth support to an IBM Model\nM</a>. But, that was using the original controller board and\nconverting from PS/2. With my controller, I could hook a Bluetooth module\ndirectly up to Teensy pins and talk to it from <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK</a>. That should be\ninteresting.</p>\n<h3 id=\"alphanumeric-display\">Alphanumeric Display</h3>\n<p>I noticed that a backlit alphanumeric LCD display is pretty much the exact\ndimensions of the Num Lock / Scroll Lock / Caps Lock LED area on the keyboard\ncase. It would definitely be a destructive change, but it might be kind of\ncool to replace that section with a text readout. I&#39;m not really sure what it\nwould display, but it could be a fun little project like a retro-DIY version\nof <a href=\"http://amzn.to/1TuflVD\">a Logitech G15 keyboard</a>.</p>\n<h3 id=\"reset-button\">Reset button</h3>\n<p>Flashing the Teensy firmware usually requires pushing a button on the board.\nThere are also a couple of pins on the board that do the same when shorted, so\nI threaded some wires out of the case to do that. It&#39;s ugly.</p>\n<p>The <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK</a> firmware also supports a key combination that does the same thing,\nwhich would let me just toss the wires. But, after once or twice where I\nlocked the firmware and had to reopen the case, I don&#39;t think I can totally go\nwithout a reset button.</p>\n<p>So, I&#39;m considering where and how to mount an external reset / programming\nbutton that doesn&#39;t require any more holes to be drilled or anything else\ndestructive.</p>\n<h3 id=\"60-model-m\">60% Model M</h3>\n<p>On the topic of destructive changes: <a href=\"https://geekhack.org/index.php?action=profile;u=3412\">hasu</a>, the author of the <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK</a>\nfirmware, <a href=\"https://geekhack.org/index.php?action=profile;u=3412\">literally carved up</a> an IBM Model M keyboard and <a href=\"https://geekhack.org/index.php?topic=29483.0\">reduced it\nto a 60% layout</a> more comparable to a Happy Hacking Keyboard.</p>\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/yROEN.jpg\">\n\n<p>That project took a bit of work reconstituting the membrane using copper tape\nand conductive ink, as well as work to join the plastic bits back together.\nBut, the electronics end up being simpler after discarding piles of keys.\nI know it would be a certain kind of sacriledge to Model M lovers, but I might\nattempt it once I get tired of just how huge this keyboard is on my desk.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>This was a pretty fun project, and a bit of a step up from the PS/2 converter\nI just built. I learned a bit about the innards of this keyboard, and I&#39;ve got\nsome decent next steps to pursue in the future. All of this feels like it&#39;s\ngiving me some good foundational know-how for when I finally get all the parts\ntogether to try building my own DIY keyboard from the ground up.</p>\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "body": "**TL;DR**: I wired up a Teensy 2.0++ to an IBM Model M keyboard,\nwhich gave it a USB interface and custom firmware that can remap keys and do\nother interesting things.\n\n<!--more-->\n\n<nav role=\"navigation\" class=\"table-of-contents\"></nav>\n\nIn my [previous post][keyboard-hacking], I wrote about my initial forays into\nkeyboard hacking. I got my hands on a few IBM Model M keyboards, and built a\nPS/2-to-USB converter with a [Teensy 2.0][teensy] so I could use it with my\nMacBook Pro after remapping some keys via the [TMK keyboard firmware][tmk].\n\nThat was a pretty rewarding little hack. But, then, I found [Lawrence Wu's\nnotes][original-notes] on replacing the original controller inside the IBM\nModel M.  In a nutshell, it turns out you can find ribbon connectors that work\nwith the Model M membrane layers and fit on a breadboard. That makes it easy\nto build - and reversible if I decide to return the keyboard to its original\nstate.\n\n## Initial Prototype\n\nSo, I ordered a few of the [16-pin ribbon connectors from Mouser][connector]\nand a [Teensy 2.0++][teensy-plus]. My first stab at wiring things up was\npretty simple:\n\n[connector]: http://www.mouser.com/ProductDetail/TE-Connectivity/6-520315-6/?qs=sGAEpiMZZMvYKGyZxp8jxkA16bSpREuh\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24987051026/in/photolist-E52aJA-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz-Dzg18k\" title=\"Original prototype for replacement IBM Model M keyboard controller\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24987051026_0d0b1ac2a9_z.jpg\" alt=\"Original prototype for replacement IBM Model M keyboard controller\"></a>\n\nThe [Teensy 2.0++][teensy-plus] has 20 pins per side, and I needed 16 for the\nfirst ribbon. So, it was convenient to just plonk both onto the breadboard and\ntake advantage of the built-in conductors. That's also why I upgraded from a\n[Teensy 2.0][teensy]: I needed more pins. The second ribbon needed\n8 pins, so I cut some lengths of [hook-up wire][hookup] to keep things neat\nand ran the connections over.\n\n[tmk]: https://geekhack.org/index.php?topic=41989.0\n[hookup]: http://amzn.to/1oCuCJ1\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24684318539/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"5.5mm nut driver needed for opening IBM Model M keyboards\"><img class=\"inset wide right\" src=\"/uploads/2016/modelm-controller/24684318539_4dde739235_n.jpg\" alt=\"5.5mm nut driver needed for opening IBM Model M keyboards\"></a>\n\n## Driving Me Nuts\n\nThen, I wanted to get inside the keyboard to start tinkering. As it turns out,\nopening up an IBM Model M is annoying: None of the tools I had on hand could\ndo it. \n  \nThe case is assembled using screws with 5.5mm nut heads, rather than\nsomething like a Phillips-head screw. And, the screws are down in deep wells\ntoo narrow to fit any of the socket wrench heads I had on hand.\n\nSo, I had to order [a 5.5mm nut driver][nut-driver] with a very slim head.\nReading [the reviews][reviews], I can see I'm not alone in this.\n\nWhile that made its way to my house, I'd read that [some folks used a lighter\nand a pen][driver-hack] to form a makeshift nut driver. That was a terrible\nidea, but it worked. In hindsight, I really should have just waited for the\ndriver to show up. But, I was determined to get the thing open while I had\ntime to play with it.\n\n[reviews]: http://www.amazon.com/Dynamite-2803-Nut-Driver-5-5mm/product-reviews/B000BQ4XP6/ref=cm_cr_dp_see_all_summary?ie=UTF8&showViewpoints=1&sortBy=helpful\n[driver-hack]: https://deskthority.net/workshop-f7/model-m-disassembly-t1960.html#p34013\n\n## The Original Controller\n\nAnd, once open, this is the board I found inside:\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/25046846995/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"IBM Model M original controller board\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/25046846995_c8dab2484c_z.jpg\" alt=\"IBM Model M original controller board\"></a>\n\nI should have taken a picture of it in place, but oh well. The board has a\ngrounding strap that was screwed down to the steel plate under the keys.\nBeyond that, it just fit into plastic brackets in the case and wasn't\notherwise fastened down. And, in a weird coincidence, the board was almost the\nexact same dimensions as my breadboard. Maybe these things are standard sizes?\n\n## Mapping the Membranes\n\nWith the keyboard membrane ribbons free from the original board, I hooked them up to\nmy prototype. From there, I wanted to start making the keys send the right\nsignals. There are three parts to this:\n\n1. Mapping Teensy pins to a 16 x 8 switch matrix\n2. Mapping the 16 x 8 switch matrix to physical key locations\n3. Mapping physical key locations to USB key codes\n\nTo accomplish #1, [I set up pins in the firmware][pins]. The way this works is\nthat the rows are set to input and the columns are set to output. By pulsing a\ncurrent for each column in turn and reading the rows, you can build up a\nmatrix of switch state where the circuit is completed. This is called\n[scanning the keyboard][scanning]. There are problems in this process - [like\nghosting][ghosting] - but I'll skip describing them for now.\n\n[scanning]: https://www.massdrop.com/article/introduction-to-keyboard-programming\n[ghosting]: http://blog.komar.be/how-to-make-a-keyboard-the-matrix/\n\nTo double check that I had my matrix working, I threw together an initial\nkeymap and set every key to emit \"1\".  I tapped each key and saw a \"1\" in my\nnotepad. Hooray, it worked! At least, electrically speaking.\n\n[pins]: https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/matrix.c#L163\n\nFor step #2, I started googling for IBM Model M membrane matrix maps. Surely\nsomeone had done this before! Well, [it turns out someone had][matrix-map].\nDeskthority user [idollar][] had traced all the wires and annotated the\nmembranes with row & column numbers in marker:\n\n[idollar]: https://deskthority.net/idollar-u6930/\n[matrix-map]: https://deskthority.net/workshop-f7/universal-model-m-controller-t9820.html#p207736\n\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/DSC_9298.jpg\">\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/DSC_9300.jpg\">\n\nJust to be clear: These two are not my photos. I stand on the shoulders of\n[forum giants][idollar]. But, after awhile, I couldn't really read the\nhandwriting and started making mistakes. \n\nThat's when I remembered [the matrix debug mode in TMK][matrix-debug]: After\nconfiguring just enough keys to enable it, I could just watch the debug\noutput to tell me the rows & columns as I hit other keys.\n\n[matrix-debug]: https://github.com/tmk/tmk_keyboard#magic-commands\n\nThus equipped, I spent a Sunday morning over coffee mapping the keyboard:\nMethodically pressing keys, noting rows & columns, and building up [the KEYMAP\nmacro][keymap-macro] that converts symbols for physical keys to logical matrix\npositions. Along the way, I also built up [the initial\nkeymap][keymap-plain] using that macro to assign keycodes to the physical\nkeys.\n\n[keymap-macro]: https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/keymap.c#L34\n[keymap-plain]: https://github.com/lmorchard/tmk_keyboard/blob/bdde5f9413ce5c3ea627f201b04f04fe371806ce/keyboard/modelm/keymap.c#L54\n\n## Fitting the Prototype\n\nAfter that, I had an initial stab at steps #2 & #3 - the keyboard was pretty\nmuch working and I could start typing practically with it. But, because I was\nhacking on this from the couch, it was all super-awkward holding things\ntogether in my lap.\n\nI should mention that these ribbon connectors have short, fragile leads.\nThey're really meant for soldering into a PCB. They snap into the breadboard,\nbut just barely. They spring free at the slightest pressure - you know, like\nhooking up ribbons and moving the keyboard around. And, whenever I reinsert\nthem, invariably one pin or another gets bent up and then snaps off after the\n4th or 5th realignment. I'm really glad I bought extras, because I'm down to\nmy last two that still work.\n\nSo, I got tired of things falling apart and started positioning my breadboard\ninto the case. Everything fit physically, but the parts were all in the wrong\nplace. With a sigh, I pulled everything out of the board, rewired it, and\nreassigned all the pins:\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24742861610/in/dateposted-public/\" title=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24742861610_8c3c931768_z.jpg\" alt=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"></a>\n\nThat put the ribbon connectors in the right spots for the keyboard membranes\nto connect, as well as room for a USB connector I bought to loop around without\ntoo much bend. Oh, and I slightly rewired things again, because I discovered\nI'd connected all the LEDs backward:\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24945773791/in/photolist-E52aJA-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz-Dzg18k/\" title=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"><img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/24945773791_b208614dd7_z.jpg\" alt=\"Teensy 2.0++ USB replacement controller for IBM Model M keyboard\"></a>\n\n## My Keyboard is Haunted\n\nAfter all the rewiring and reassigned pins, I fired things up again. This\ntime, I started getting mysterious spontaneous keystrokes. I thought it might\nbe a grounding issue with static electricity, because I could usually make it\nhappen by waving my hands over the keyboard. While a [theremin][]\nkeyboard might be fun, that's not actually what I was going for here.\n\n[theremin]: https://en.wikipedia.org/wiki/Theremin\n\nSo, I ran a wire from the steel plate to the GND pin on the Teensy. That\ndidn't fix it.\n\nFinally, I realized that one of my new pins in use was D6 - and\nD6 is hardwired to an LED on the Teensy board. And, it so happens that LEDs\ncan do weird things when hooked up as an input - [such as detecting\nlight][photodiode]. You know, maybe like the changing light from waving my\nhands over the keyboard.\n\nThus, I was able to exorcise my keyboard ghost by bending up the pin at D6 to\ndisconnect it from the breadboard. Then, I ran a jumper over to D1 and\n[switched the pin assignments in the firmware][d0-pin]. No more spontaneous\nkeypresses.\n\n[photodiode]: http://www.analog.com/library/analogdialogue/archives/48-08/raq_108.html\n[d0-pin]: https://github.com/lmorchard/tmk_keyboard/commit/f5b31e9d320d494a4d3fc75db614883b7225d332\n\n## Secrets of 2KRO Matrices\n\nAfter typing a bit, I realized I couldn't get certain key combinations to work -\nShift-T, for example.\n\nNow, I know that the IBM Model M isn't [an NKRO keyboard][nkro]. That is, you\ncannot press any arbitrary combination of keys together. But, of course, a\nkeyboard is useless if you can't press at least *some* keys together - like, say,\nShift and T. In fact, I've read that the IBM Model M is described as 2KRO -\ni.e. two-key rollover.\n\nSo, I knew that the original controller supported Shift-T. Looking in the\nmatrix debug output, I noticed that I couldn't press any 2 keys in the same\nrow together - that included Left Shift and T.\n\nScratching my head, I noticed that the membrane matrix had some interesting\nproperties: Pretty much all the modifier keys were in different columns than\nthe other keys I wanted to press along with them. So, my problem might be\nsolved by rotating the matrix - that is, [turning rows into columns and columns\ninto rows][matrix-swap].\n\nI don't entirely have my head wrapped around the design of the Model M\nmembrane layout, but I think this is part of it: After I rotated the matrix,\nthere are 8 columns per row. As far as I can tell, only one key can be pressed\nper row - so that means any given key has 7 others that cannot be pressed at\nthe same time. Practical key rollover, then, is implemented by putting keys\nyou're likely to press together in different rows.\n\nFor example, modifiers like Left Shift and Right Shift share a row, and so\ncannot be pressed together. But, Left Shift & T are found in different rows\nand can work together. However, some of the letters in the QWER & ASDF cluster\nshare rows, so that can be trouble for gaming - directional keypresses and\nsuchlike might cancel each other out in the heat of the keymashing moment.\nBut, since this keyboard harkens to an era where keys were more for typing\nwords than for controlling games, the tradeoff makes sense.\n\n[nkro]: https://deskthority.net/wiki/Rollover,_blocking_and_ghosting\n[matrix-swap]: https://github.com/lmorchard/tmk_keyboard/commit/afc4d0f23be23e8c69bc1dfbe127898a7fe82db7\n\n## The Result\n\n<a data-flickr-embed=\"true\" data-header=\"false\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24422592514/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz\" title=\"IBM Model M keyboard with USB controller\"><img class=\"inset wide right\" id=\"thumbnail\" src=\"/uploads/2016/modelm-controller/24422592514_d79da1882a_z.jpg\" alt=\"IBM Model M keyboard with USB controller\"></a>\n\nSo, after all the above and a few more random adventures in C programming,\nthis IBM Model M keyboard is now sitting on my desk with a USB cable plugged\ninto it.\n\nI ordered [some custom replacement keycaps from Unicomp][unicomp] to reflect\nsome of the remapped keys I implemented - i.e. media control, Command (⌘),\nCaps Lock replaced by Ctrl. \n\nI've been having some clicky-clacky fun with this thing, and it's been easy to\nreconfigure & reflash along the way as needed. Experience with [TMK][] to\nconfigure my previous project really came in handy.\n\n[unicomp]: http://www.pckeyboard.com/page/category/Buttons\n\n<a data-flickr-embed=\"true\" data-footer=\"true\"  href=\"https://www.flickr.com/photos/deusx/24959916191/in/photolist-E1nBs8-DGrCJf-Dd9aTh-E2C6uB-DBgzUX-E7Yy31-EaiCZz/\" title=\"IBM Model M with USB controller upgrade\"><img class=\"inset wide left\" src=\"/uploads/2016/modelm-controller/24959916191_bfe3246ded_z.jpg\" alt=\"IBM Model M with USB controller upgrade\"></a>\n\nThe one part that could be considered irreversible with this project is that I\nended up drilling two small holes in the back to secure the USB port. I'm just\nslightly sad about that. But, I guess if I ever sell this thing on eBay, I'll\ntry talking up the benefits of the new USB controller.\n\nBut, otherwise, if I wanted to undo all this work, I could just open it back\nup and plonk the original controller back in. I've currently got that board\nsitting in an anti-static bag in a drawer, taking a rest after decades of\nservice.\n<br style=\"clear: both\">\n\n[teensy]: https://www.pjrc.com/store/teensy.html\n[teensy-plus]: https://www.pjrc.com/store/teensypp.html\n[nut-driver]: http://amzn.to/1RgjN8k\n[keyboard-hacking]: http://blog.lmorchard.com/2016/02/06/keyboard-hacking/\n[original-notes]: https://github.com/antonizoon/archivis.me/wiki/IBM-Model-M-USB-Controller\n[photo-tag]: https://www.flickr.com/photos/tags/modelmcontroller\n\n## Next Steps\n\n### Breadboard to PCB\n\nLike I mentioned before, those ribbon connectors are fragile and meant to be\nsoldered to a PCB. I'd also like to learn how to design PCBs, so this seems\nlike a super easy project to start with. The only things needed are places to\nsolder the connectors, a socket for a Teensy, and traces connecting everything\nproperly. I wouldn't even need to learn SMD soldering yet!\n\n### Bluetooth\n\nI saw [a project on Adafruit to add Bluetooth support to an IBM Model\nM][Adafruit-Bluetooth]. But, that was using the original controller board and\nconverting from PS/2. With my controller, I could hook a Bluetooth module\ndirectly up to Teensy pins and talk to it from [TMK][]. That should be\ninteresting.\n\n[adafruit-bluetooth]: https://learn.adafruit.com/convert-your-model-m-keyboard-to-bluetooth-with-bluefruit-ez-key-hid/overview\n\n### Alphanumeric Display\n\nI noticed that a backlit alphanumeric LCD display is pretty much the exact\ndimensions of the Num Lock / Scroll Lock / Caps Lock LED area on the keyboard\ncase. It would definitely be a destructive change, but it might be kind of\ncool to replace that section with a text readout. I'm not really sure what it\nwould display, but it could be a fun little project like a retro-DIY version\nof [a Logitech G15 keyboard][g15].\n\n[g15]: http://amzn.to/1TuflVD\n\n### Reset button\n\nFlashing the Teensy firmware usually requires pushing a button on the board.\nThere are also a couple of pins on the board that do the same when shorted, so\nI threaded some wires out of the case to do that. It's ugly.\n\nThe [TMK][] firmware also supports a key combination that does the same thing,\nwhich would let me just toss the wires. But, after once or twice where I\nlocked the firmware and had to reopen the case, I don't think I can totally go\nwithout a reset button.\n\nSo, I'm considering where and how to mount an external reset / programming\nbutton that doesn't require any more holes to be drilled or anything else\ndestructive.\n\n### 60% Model M\n\nOn the topic of destructive changes: [hasu][], the author of the [TMK][]\nfirmware, [literally carved up][hbkb2] an IBM Model M keyboard and [reduced it\nto a 60% layout][hbkb] more comparable to a Happy Hacking Keyboard.\n\n<img class=\"fullwidth\" src=\"/uploads/2016/modelm-controller/yROEN.jpg\">\n\n[hasu]: https://geekhack.org/index.php?action=profile;u=3412\n[hbkb]: https://geekhack.org/index.php?topic=29483.0\n[hbkb2]: https://geekhack.org/index.php?action=profile;u=3412\n\nThat project took a bit of work reconstituting the membrane using copper tape\nand conductive ink, as well as work to join the plastic bits back together.\nBut, the electronics end up being simpler after discarding piles of keys.\nI know it would be a certain kind of sacriledge to Model M lovers, but I might\nattempt it once I get tired of just how huge this keyboard is on my desk.\n\n## Conclusion\n\nThis was a pretty fun project, and a bit of a step up from the PS/2 converter\nI just built. I learned a bit about the innards of this keyboard, and I've got\nsome decent next steps to pursue in the future. All of this feels like it's\ngiving me some good foundational know-how for when I finally get all the parts\ntogether to try building my own DIY keyboard from the ground up.\n\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "parentPath": "../blog.lmorchard.com/posts",
    "path": "2016/02/21/modelm-controller",
    "thumbnail": "/blog.lmorchard.com/uploads/2016/modelm-controller/24422592514_d79da1882a_z.jpg",
    "summary": "<p><strong>TL;DR</strong>: I wired up a Teensy 2.0++ to an IBM Model M keyboard,\nwhich gave it a USB interface and custom firmware that can remap keys and do\nother interesting things.</p>\n",
    "prevPostPath": "2016/04/17/spreadsheets-in-space",
    "nextPostPath": "2016/02/06/keyboard-hacking"
  },
  {
    "title": "Keyboard hacking seems like fun",
    "tags": [
      "diy",
      "keyboards",
      "hardware",
      "teensy",
      "microcontrollers",
      "electronics"
    ],
    "year": "2016",
    "month": "02",
    "day": "06",
    "isDir": false,
    "slug": "keyboard-hacking",
    "date": "2016-02-06T12:00:00.000Z",
    "postName": "2016-02-06-keyboard-hacking",
    "html": "<p><strong>TL;DR</strong>: I think I&#39;ve caught the DIY keyboard hacking bug, and I&#39;ll probably\nend up building something weird.</p>\n<!--more-->\n\n<p>I love tinkering and I love keyboards. But, I&#39;d never really tinkered with my\nkeyboards - at least, not beyond <a href=\"http://blog.lmorchard.com/2006/07/31/i-heart-my-filthy-happy-hacking-keyboard/\">disassembling &amp; cleaning them</a>.\nI&#39;d seen a smattering of crowdfunded projects over the years like the\n<a href=\"https://www.indiegogo.com/projects/ergodox-ez-an-incredible-mechanical-keyboard#/\">ErgoDox</a> and <a href=\"http://shop.keyboard.io/\">Keyboardio</a>. But, those seemed like complex design\n&amp; manufacturing efforts - not like, you know, something I&#39;d do for fun.</p>\n<p>But then, last summer, I ran across <a href=\"https://www.massdrop.com/\">Massdrop</a> and saw the <a href=\"https://www.massdrop.com/buy/infinity-keyboard-kit\">Infinity 60%\nKeyboard Kit</a>. From there, I ran across &quot;<a href=\"https://www.massdrop.com/article/introduction-to-keyboard-programming\">Introduction to Keyboard\nProgramming</a>&quot; and some rusty gears turned over in my brain. I\ndiscovered <a href=\"https://geekhack.org/\">geekhack</a> and <a href=\"https://deskthority.net/\">Deskthority</a> and fell down a dangerous\nrabbit hole of <a href=\"https://www.massdrop.com/buy/cherry-mx-red-key-switches-120-pack\">switches</a> and <a href=\"https://geekhack.org/index.php?board=80.0\">caps</a>, <a href=\"https://geekhack.org/index.php?topic=47133\">layouts</a> and <a href=\"https://deskthority.net/workshop-f7/thkb-tiny-hacking-keyboard-40-t6455.html\">plates</a>,\n<a href=\"https://www.pjrc.com/teensy/\">microcontrollers</a> and <a href=\"https://geekhack.org/index.php?topic=41989.0\">firmware</a>.</p>\n<p>Turns out there are a bunch of folks doing this stuff as a hobby, along with a\nniche industry to support it.</p>\n<p>After a few months of absorbing information and spectating on projects in\nforums, it occurred to me that this did in fact seem like something I&#39;d have\nfun doing. But, rather than just dive in, I decided to start small:</p>\n<p><a href=\"https://www.flickr.com/photos/deusx/24832952956/\"><img class=\"fullwidth\" id=\"thumbnail\" src=\"/uploads/2016/teensy-ps2-adapter/minikey.jpg\"></a></p>\n<p>Last weekend, I ran to my local <a href=\"http://www.microcenter.com/site/stores/madison-heights.aspx\">Micro Center</a> and picked up a <a href=\"https://www.pjrc.com/teensy/\">Teensy\n2.0</a>. That seems to be the microcontroller board a lot of keyboard\nprojects have been using, so I figured getting acquainted with it would be\nhandy. After the traditional &quot;hello world&quot; project of <a href=\"https://www.pjrc.com/teensy/tutorial.html\">getting an LED to\nblink</a>, I wired up a pile of buttons on a breadboard and <a href=\"https://www.pjrc.com/teensy/td_keyboard.html\">built the\nfirmware to my first DIY USB keyboard</a>.</p>\n<p>Okay, so it was just a tutorial and no special effort on my part. But, the\nprocess was super easy, so the hacking possibilities started piling up in my\nhead.</p>\n<p>Then, I discovered the <a href=\"https://geekhack.org/index.php?topic=41989.0\">TMK keyboard firmware</a> on the\n<a href=\"https://geekhack.org/\">geekhack</a> forums. Basically, all the software work had been done for me.\nThe TMK firmware is a ready-made pile of code for translating from basically any\nmatrix of switches or wire protocol to USB HID keyboard codes - complete with\nsupport for flexible key maps, mouse control, function-key layers, macros, and\na bunch of other things. </p>\n<p>My little 10-key breadboard toy wasn&#39;t all that practical. But, I discovered\nthat the TMK firmware also supported building keyboard <em>converters</em>. Of\nparticular interest was the <a href=\"https://github.com/tmk/tmk_keyboard/blob/master/converter/ps2_usb/README.md\">PS/2 to USB keyboard converter</a>, since I\njust happen to have a pile of older PS/2 keyboards lying around doing nothing.</p>\n<p>The converter only took 4 wires, so I sacrificed a PS/2 cable from the back of\na drawer and came up with this:</p>\n<p><a href=\"https://www.flickr.com/photos/deusx/24832952956/\"><img class=\"fullwidth\" src=\"/uploads/2016/teensy-ps2-adapter/adapter.jpg\"></a></p>\n<p>Coincidentally, the day after I built this, I got some IBM Model M keyboards\nfrom <a href=\"https://nuxx.net/blog/\">a friend</a> of mine. I&#39;ve been wanting to fill my office with the\nsound of buckling springs for awhile, now. </p>\n<p><a href=\"https://www.flickr.com/photos/deusx/24685464831/\"><img class=\"fullwidth\" src=\"/uploads/2016/teensy-ps2-adapter/modelm.jpg\"></a></p>\n<p>This is all hooked up to a modern MacBook Pro, but the IBM Model M is\ndecidedly lacking in <a href=\"https://en.wikipedia.org/wiki/Command_key\">Command (⌘) keys</a>. So, the DIY converter\nproved its worth immediately. </p>\n<p>I put together <a href=\"https://github.com/lmorchard/tmk_keyboard/blob/lmo-model-mac/converter/ps2_usb/keymap_modelmac.c\">my own simple keymap</a> and spent a day with it,\ntweaking as I went.  I set up <a href=\"https://github.com/alloy/kicker\">a file watcher</a> to rebuild the\nfirmware whenever I changed the source. Along with that, the <a href=\"https://www.pjrc.com/teensy/loader.html\">Teensy\nLoader</a> has an &quot;auto&quot; mode which reprograms the Teensy whenever I hit\nthe reset button. </p>\n<p>At this point, I&#39;ve replaced the Caps Lock key with Control and changed Alt keys\nto Command keys.  Then, I turned the Print Screen / Caps Lock / Pause trio\ninto volume control keys. After that, F10, F11, and F12 were pressed into\nservice as previous, next, &amp; pause buttons for music. It was all a bit fiddly,\nbut it&#39;s the kind of thing I enjoy.</p>\n<p>Overall, this all feels like a nice intro into a new hobby. Next, I&#39;m\nconsidering <a href=\"https://github.com/antonizoon/archivis.me/wiki/IBM-Model-M-USB-Controller\">replacing the IBM Model M keyboard controller</a>\naltogether, which will embed the Teensy right in the case. </p>\n<p>After that, I&#39;m tempted to turn my screwdriver on that other keyboard on my\ndesk - the Happy Hacking Keyboard Professional. There&#39;s a <a href=\"https://geekhack.org/index.php?topic=12047.0\">Teensy-based\nalternative controller</a> option for it, also using the TMK firmware.</p>\n<p>Once I feel comfortable with all that, it might be time to build something of\nmy own! <a href=\"http://www.keyboard-layout-editor.com/##@_name=noisy%20fat%20hacker%20keyboard&amp;author=lmorchard&amp;switchMount=cherry&amp;switchBrand=cherry&amp;plate:true%3B&amp;@=Esc&amp;=!%0A1&amp;=%2F@%0A2&amp;=%23%0A3&amp;=$%0A4&amp;=%25%0A5&amp;=%5E%0A6&amp;=%2F&amp;%0A7&amp;=*%0A8&amp;=%28%0A9&amp;=%29%0A0&amp;=%2F_%0A-&amp;=+%0A%2F=&amp;=%7C%0A%5C&amp;=~%0A%60&amp;_x:0.25%3B&amp;=Insert&amp;=Home&amp;=PgUp%3B&amp;@_w:1.5%3B&amp;=Tab&amp;=Q&amp;=W&amp;=E&amp;=R&amp;=T&amp;=Y&amp;=U&amp;=I&amp;=O&amp;=P&amp;=%7B%0A%5B&amp;=%7D%0A%5D&amp;_a:0&amp;w:1.5%3B&amp;=Delete%0A%0A%0A%0ABS&amp;_x:0.25&amp;a:4%3B&amp;=Delete&amp;=End&amp;=PgDn%3B&amp;@_w:1.75%3B&amp;=Control&amp;=A&amp;=S&amp;=D&amp;=F&amp;=G&amp;=H&amp;=J&amp;=K&amp;=L&amp;=%2F:%0A%2F%3B&amp;=%22%0A%27&amp;_w:2.25%3B&amp;=Enter&amp;_x:0.25%3B&amp;=Op1&amp;=Op2&amp;=Op3%3B&amp;@_w:2.25%3B&amp;=Shift&amp;=Z&amp;=X&amp;=C&amp;=V&amp;=B&amp;=N&amp;=M&amp;=%3C%0A,&amp;=%3E%0A.&amp;=%3F%0A%2F%2F&amp;_w:2.75%3B&amp;=Shift&amp;_x:1.25%3B&amp;=%E2%86%91%3B&amp;@_w:1.25%3B&amp;=Fn&amp;_w:1.25%3B&amp;=%3Ci%20class%2F=%27mss%20mss-Unicode-Option-3%27%3E%3C%2F%2Fi%3E&amp;_w:1.25%3B&amp;=%3Ci%20class%2F=%27kb%20kb-logo-apple-outline%27%3E%3C%2F%2Fi%3E&amp;_a:7&amp;w:6.25%3B&amp;=&amp;_a:4&amp;w:1.25%3B&amp;=%3Ci%20class%2F=%27kb%20kb-logo-apple%27%3E%3C%2F%2Fi%3E&amp;_w:1.25%3B&amp;=%3Ci%20class%2F=%27mss%20mss-Unicode-Option-3%27%3E%3C%2F%2Fi%3E&amp;_w:1.25%3B&amp;=%3Ci%20class%2F=%27kb%20kb-Hamburger-Menu%27%3E%3C%2F%2Fi%3E&amp;_w:1.25%3B&amp;=Fn&amp;_x:0.25%3B&amp;=%E2%86%90&amp;=%E2%86%93&amp;=%E2%86%92\">I&#39;ve got a 75-key layout I&#39;m mulling over.</a> If I end up liking\nthat, I can get a case &amp; mounting plate <a href=\"http://builder.swillkb.com/\">designed</a> &amp;\n<a href=\"https://www.ponoko.com/\">fabricated</a>. Then, I can buy all the <a href=\"https://www.massdrop.com/buy/cherry-mx-red-key-switches-120-pack\">switches</a> and\n<a href=\"http://amzn.to/1UUHUu8\">diodes</a>. And last, but not least, I&#39;ll have to design a circuit board &amp;\n<a href=\"https://oshpark.com/\">get that fabricated</a>.</p>\n<p>Or, if I really want to go for that handcrafted artisan experience - which I\njust might, because I&#39;m a glutton for punishment - I&#39;ve got something like\nthis in my future:</p>\n<div class=\"video-container\"><iframe class=\"lazyload\" width=\"560\" height=\"315\" src=\"\" data-src=\"https://www.youtube.com/embed/MrokZ1afnVg\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "body": "**TL;DR**: I think I've caught the DIY keyboard hacking bug, and I'll probably\nend up building something weird.\n\n<!--more-->\n\nI love tinkering and I love keyboards. But, I'd never really tinkered with my\nkeyboards - at least, not beyond [disassembling & cleaning them][hhkbclean].\nI'd seen a smattering of crowdfunded projects over the years like the\n[ErgoDox][] and [Keyboardio][]. But, those seemed like complex design\n& manufacturing efforts - not like, you know, something I'd do for fun.\n\nBut then, last summer, I ran across [Massdrop][] and saw the [Infinity 60%\nKeyboard Kit][infinity60]. From there, I ran across \"[Introduction to Keyboard\nProgramming][kbprog]\" and some rusty gears turned over in my brain. I\ndiscovered [geekhack][] and [Deskthority][] and fell down a dangerous\nrabbit hole of [switches][] and [caps][], [layouts][] and [plates][],\n[microcontrollers][teensy] and [firmware][].\n\nTurns out there are a bunch of folks doing this stuff as a hobby, along with a\nniche industry to support it.\n\nAfter a few months of absorbing information and spectating on projects in\nforums, it occurred to me that this did in fact seem like something I'd have\nfun doing. But, rather than just dive in, I decided to start small:\n\n[kits]: http://www.geekhackers.org/products/jd40-jdcarpe-s-40-keyboard-kit-sorbothane-titanium-all-profits-go-to-the-nathan-j-walters-foundation-rip-smallfry\n[firmware]: https://geekhack.org/index.php?topic=41989.0\n[teensy]: https://www.pjrc.com/teensy/\n[plates]: https://deskthority.net/workshop-f7/thkb-tiny-hacking-keyboard-40-t6455.html\n[layouts]: https://geekhack.org/index.php?topic=47133\n[caps]: https://geekhack.org/index.php?board=80.0\n[switches]: https://www.massdrop.com/buy/cherry-mx-red-key-switches-120-pack\n[Deskthority]: https://deskthority.net/\n[geekhack]: https://geekhack.org/\n[infinity60]: https://www.massdrop.com/buy/infinity-keyboard-kit\n[keyboardio]: http://shop.keyboard.io/\n[ergodox]: https://www.indiegogo.com/projects/ergodox-ez-an-incredible-mechanical-keyboard#/\n[key64]: http://www.key64.org/\n[hhkbclean]: http://blog.lmorchard.com/2006/07/31/i-heart-my-filthy-happy-hacking-keyboard/\n[kbprog]: https://www.massdrop.com/article/introduction-to-keyboard-programming\n[massdrop]: https://www.massdrop.com/\n\n[<img class=\"fullwidth\" id=\"thumbnail\" src=\"/uploads/2016/teensy-ps2-adapter/minikey.jpg\">](https://www.flickr.com/photos/deusx/24832952956/)\n\nLast weekend, I ran to my local [Micro Center][] and picked up a [Teensy\n2.0][teensy]. That seems to be the microcontroller board a lot of keyboard\nprojects have been using, so I figured getting acquainted with it would be\nhandy. After the traditional \"hello world\" project of [getting an LED to\nblink][blinky], I wired up a pile of buttons on a breadboard and [built the\nfirmware to my first DIY USB keyboard][keyboardtut].\n\nOkay, so it was just a tutorial and no special effort on my part. But, the\nprocess was super easy, so the hacking possibilities started piling up in my\nhead.\n\nThen, I discovered the [TMK keyboard firmware][firmware] on the\n[geekhack][] forums. Basically, all the software work had been done for me.\nThe TMK firmware is a ready-made pile of code for translating from basically any\nmatrix of switches or wire protocol to USB HID keyboard codes - complete with\nsupport for flexible key maps, mouse control, function-key layers, macros, and\na bunch of other things. \n\nMy little 10-key breadboard toy wasn't all that practical. But, I discovered\nthat the TMK firmware also supported building keyboard *converters*. Of\nparticular interest was the [PS/2 to USB keyboard converter][ps2usb], since I\njust happen to have a pile of older PS/2 keyboards lying around doing nothing.\n\nThe converter only took 4 wires, so I sacrificed a PS/2 cable from the back of\na drawer and came up with this:\n\n[ps2usb]: https://github.com/tmk/tmk_keyboard/blob/master/converter/ps2_usb/README.md\n[keyboardtut]: https://www.pjrc.com/teensy/td_keyboard.html\n[blinky]: https://www.pjrc.com/teensy/tutorial.html\n[micro center]: http://www.microcenter.com/site/stores/madison-heights.aspx\n\n[<img class=\"fullwidth\" src=\"/uploads/2016/teensy-ps2-adapter/adapter.jpg\">](https://www.flickr.com/photos/deusx/24832952956/)\n\nCoincidentally, the day after I built this, I got some IBM Model M keyboards\nfrom [a friend][nuxx] of mine. I've been wanting to fill my office with the\nsound of buckling springs for awhile, now. \n\n[nuxx]: https://nuxx.net/blog/\n\n[<img class=\"fullwidth\" src=\"/uploads/2016/teensy-ps2-adapter/modelm.jpg\">](https://www.flickr.com/photos/deusx/24685464831/)\n\nThis is all hooked up to a modern MacBook Pro, but the IBM Model M is\ndecidedly lacking in [Command (⌘) keys][command]. So, the DIY converter\nproved its worth immediately. \n\nI put together [my own simple keymap][lmotmk] and spent a day with it,\ntweaking as I went.  I set up [a file watcher][kicker] to rebuild the\nfirmware whenever I changed the source. Along with that, the [Teensy\nLoader][loader] has an \"auto\" mode which reprograms the Teensy whenever I hit\nthe reset button. \n\nAt this point, I've replaced the Caps Lock key with Control and changed Alt keys\nto Command keys.  Then, I turned the Print Screen / Caps Lock / Pause trio\ninto volume control keys. After that, F10, F11, and F12 were pressed into\nservice as previous, next, & pause buttons for music. It was all a bit fiddly,\nbut it's the kind of thing I enjoy.\n\nOverall, this all feels like a nice intro into a new hobby. Next, I'm\nconsidering [replacing the IBM Model M keyboard controller][ibmcontrol]\naltogether, which will embed the Teensy right in the case. \n\nAfter that, I'm tempted to turn my screwdriver on that other keyboard on my\ndesk - the Happy Hacking Keyboard Professional. There's a [Teensy-based\nalternative controller][hhkbalt] option for it, also using the TMK firmware.\n\nOnce I feel comfortable with all that, it might be time to build something of\nmy own! [I've got a 75-key layout I'm mulling over.][nfhkb] If I end up liking\nthat, I can get a case & mounting plate [designed][platebuilder] &\n[fabricated][ponoko]. Then, I can buy all the [switches][switches] and\n[diodes][]. And last, but not least, I'll have to design a circuit board &\n[get that fabricated][oshpark].\n\nOr, if I really want to go for that handcrafted artisan experience - which I\njust might, because I'm a glutton for punishment - I've got something like\nthis in my future:\n\n<div class=\"video-container\"><iframe class=\"lazyload\" width=\"560\" height=\"315\" src=\"\" data-src=\"https://www.youtube.com/embed/MrokZ1afnVg\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n[oshpark]: https://oshpark.com/\n[diodes]: http://amzn.to/1UUHUu8\n[ponoko]: https://www.ponoko.com/\n[platebuilder]: http://builder.swillkb.com/\n[hhkbalt]: https://geekhack.org/index.php?topic=12047.0\n[ibmcontrol]: https://github.com/antonizoon/archivis.me/wiki/IBM-Model-M-USB-Controller\n[kicker]: https://github.com/alloy/kicker\n[loader]: https://www.pjrc.com/teensy/loader.html\n[lmotmk]: https://github.com/lmorchard/tmk_keyboard/blob/lmo-model-mac/converter/ps2_usb/keymap_modelmac.c\n[command]: https://en.wikipedia.org/wiki/Command_key\n[nfhkb]: http://www.keyboard-layout-editor.com/##@_name=noisy%20fat%20hacker%20keyboard&author=lmorchard&switchMount=cherry&switchBrand=cherry&plate:true%3B&@=Esc&=!%0A1&=%2F@%0A2&=%23%0A3&=$%0A4&=%25%0A5&=^%0A6&=%2F&%0A7&=*%0A8&=%28%0A9&=%29%0A0&=%2F_%0A-&=+%0A%2F=&=|%0A\\&=~%0A%60&_x:0.25%3B&=Insert&=Home&=PgUp%3B&@_w:1.5%3B&=Tab&=Q&=W&=E&=R&=T&=Y&=U&=I&=O&=P&={%0A[&=}%0A]&_a:0&w:1.5%3B&=Delete%0A%0A%0A%0ABS&_x:0.25&a:4%3B&=Delete&=End&=PgDn%3B&@_w:1.75%3B&=Control&=A&=S&=D&=F&=G&=H&=J&=K&=L&=%2F:%0A%2F%3B&=%22%0A%27&_w:2.25%3B&=Enter&_x:0.25%3B&=Op1&=Op2&=Op3%3B&@_w:2.25%3B&=Shift&=Z&=X&=C&=V&=B&=N&=M&=%3C%0A,&=%3E%0A.&=%3F%0A%2F%2F&_w:2.75%3B&=Shift&_x:1.25%3B&=%E2%86%91%3B&@_w:1.25%3B&=Fn&_w:1.25%3B&=%3Ci%20class%2F=%27mss%20mss-Unicode-Option-3%27%3E%3C%2F%2Fi%3E&_w:1.25%3B&=%3Ci%20class%2F=%27kb%20kb-logo-apple-outline%27%3E%3C%2F%2Fi%3E&_a:7&w:6.25%3B&=&_a:4&w:1.25%3B&=%3Ci%20class%2F=%27kb%20kb-logo-apple%27%3E%3C%2F%2Fi%3E&_w:1.25%3B&=%3Ci%20class%2F=%27mss%20mss-Unicode-Option-3%27%3E%3C%2F%2Fi%3E&_w:1.25%3B&=%3Ci%20class%2F=%27kb%20kb-Hamburger-Menu%27%3E%3C%2F%2Fi%3E&_w:1.25%3B&=Fn&_x:0.25%3B&=%E2%86%90&=%E2%86%93&=%E2%86%92\n\n<!-- vim: set wrap wm=5 syntax=markdown textwidth=78: -->\n",
    "parentPath": "../blog.lmorchard.com/posts",
    "path": "2016/02/06/keyboard-hacking",
    "thumbnail": "/blog.lmorchard.com/uploads/2016/teensy-ps2-adapter/minikey.jpg",
    "summary": "<p><strong>TL;DR</strong>: I think I&apos;ve caught the DIY keyboard hacking bug, and I&apos;ll probably\nend up building something weird.</p>\n",
    "prevPostPath": "2016/02/21/modelm-controller",
    "nextPostPath": "2016/02/05/steam-controller"
  },
  {
    "title": "Building my couch computing station",
    "author": "lmorchard",
    "layout": "post",
    "permalink": "/2013/02/10/building-my-couch-computing-station",
    "dsq_thread_id": [
      1106746467
    ],
    "categories": [
      "Uncategorized"
    ],
    "tags": [
      "diy",
      "hacks",
      "lcd",
      "pc",
      "tech"
    ],
    "year": "2013",
    "month": "02",
    "day": "10",
    "isDir": false,
    "slug": "building-my-couch-computing-station",
    "date": "2013-02-10T12:00:00.000Z",
    "postName": "2013-02-10-building-my-couch-computing-station",
    "html": "<div id=\"toc_container\" class=\"toc_wrap_right no_bullets\">\n  <p class=\"toc_title\">\n    Contents\n  </p>\n\n  <ul class=\"toc_list\">\n    <li>\n      <a href=\"#Display_from_the_other_side_of_the_earth\"><span class=\"toc_number toc_depth_1\">1</span> Display from the other side of the earth</a>\n    </li>\n    <li>\n      <a href=\"#Mounting_hardware\"><span class=\"toc_number toc_depth_1\">2</span> Mounting hardware</a>\n    </li>\n    <li>\n      <a href=\"#Building_the_enclosure\"><span class=\"toc_number toc_depth_1\">3</span> Building the enclosure</a>\n    </li>\n    <li>\n      <a href=\"#Mounting_the_mess_to_the_DAVE\"><span class=\"toc_number toc_depth_1\">4</span> Mounting the mess to the DAVE</a>\n    </li>\n    <li>\n      <a href=\"#What8217s_next\"><span class=\"toc_number toc_depth_1\">5</span> What&#8217;s next?</a>\n    </li>\n  </ul>\n</div>\n\n<p>Remember when I posted about <a href=\"http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch\">gaming from the Orchard House couch</a>? The key part was figuring out how to get <a href=\"http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch#Laptop_decapitation\">a laptop-quality LCD monitor working in the living room</a>, preferably attached to my trusty IKEA DAVE. Well, despite my best attempts at ruining my materials and tools, I managed to get it built!</p>\n<!--more-->\n\n<p>For reference, here&#8217;s what I came up with in Google Sketchup:</p>\n<p><a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\" alt=\"couch-gaming-2a-pc\" width=\"506\" height=\"910\" class=\"alignnone size-full wp-image-671\" /></a></p>\n<p>Spoiler alert &#8211; here&#8217;s what the final product looks like:</p>\n<p><a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-23.33.12.jpg\"><img class=\"alignnone size-large wp-image-832\" alt=\"2013-02-03 23.33.12\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-23.33.12-1024x768.jpg\" width=\"640\" height=\"480\" /></a></p>\n<h3 id=\"display-from-the-other-side-of-the-earth\"><span id=\"Display_from_the_other_side_of_the_earth\">Display from the other side of the earth</span></h3>\n<p><a href=\"http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&hash=item27ccd9bd87\" target=\"_blank\">The first piece</a> arrived a week or so ago:</p>\n<div id=\"attachment_825\" style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-01-31-11.24.53.jpg\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-01-31-11.24.53-1024x768.jpg\" alt=\"LCD panel and control board\" width=\"640\" height=\"480\" class=\"size-large wp-image-825\" /></a><p class=\"wp-caption-text\">\n    LCD panel and control board\n  </p>\n</div>\n\n<p style=\"clear: both;\">\n  Having never ordered anything like this before from a random eBay store out of China, I half expected it to never show up. But, <a href=\"http://stores.ebay.com/chinatobby?_trksid=p2047675.l2568\" target=\"_blank\">the merchant</a> has near <a href=\"http://feedback.ebay.com/ws/eBayISAPI.dll?ViewFeedback2&userid=chinatobby2011&ftab=AllFeedback\" target=\"_blank\">perfect 99.9% feedback scores</a>, so I hit the &#8220;Buy it now&#8221; button and crossed my fingers.\n</p>\n\n<p>Something great was that the confirmation email noted, &#8220;because what you bought will be shipped from the other side of the earth, it needs time&#8221;. Well, fair enough: I did pick the cheapest delivery option. Still, even with that bit of expectation setting, the package showed up just 10 days later. (<a href=\"https://twitter.com/search?q=%23livinginthefuture\" target=\"_blank\">#LivingInTheFuture</a> #FTW)</p>\n<p>What arrived was a <a href=\"http://www.panelook.com/LP173WF1-TLA1_LG%20Display_17.3_LCM_parameter_5857.html\" target=\"_blank\">17.3&#8243; 1920&#215;1080 TN LCD panel</a>, apparently used in a variety of high-end PC laptops from HP and Sony. What was also in the box was <a href=\"http://www.vslcd.com/Specification/M.NT68676.2A.pdf\" target=\"_blank\">a little driver board</a> that connects to the panel via LVDS cable. The driver board takes a 12v DC power supply, accepts HDMI / VGA / DVI video inputs, and even offers a headphone audio output jack.</p>\n<p>Overall, this hardware is exactly what I was looking for: Basically the head chopped off a laptop, with the right connectors for a desktop PC. What I needed now was an enclosure, and a way to mount the enclosure to my IKEA DAVE.</p>\n<h3 id=\"mounting-hardware\"><span id=\"Mounting_hardware\">Mounting hardware</span></h3>\n<p>As it happened, I had <a href=\"http://www.amazon.com/gp/product/B000ID7QNI/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000ID7QNI&amp;linkCode=as2&amp;tag=0xdecafbad01-20\" title=\"VideoSecu Articulating TV Wall Mount Bracket for VESA 100 LCD LED Flat Screen Monitor TV 1E9\">a cheap VESA mount with an articulated arm laying</a><img src=\"http://www.assoc-amazon.com/e/ir?t=0xdecafbad01-20&#038;l=as2&#038;o=1&#038;a=B000ID7QNI\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" /> around. We never got around to using it to stick a TV on the wall, so it seemed worth a shot to see if it would work on the IKEA DAVE.</p>\n<p><a href=\"http://www.amazon.com/gp/product/B000ID7QNI/ref=as_li_ss_il?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000ID7QNI&amp;linkCode=as2&amp;tag=0xdecafbad01-20\"><img border=\"0\" src=\"http://ws.assoc-amazon.com/widgets/q?_encoding=UTF8&#038;ASIN=B000ID7QNI&#038;Format=_SL110_&#038;ID=AsinImage&#038;MarketPlace=US&#038;ServiceVersion=20070822&#038;WS=1&#038;tag=0xdecafbad01-20\" /></a><img src=\"http://www.assoc-amazon.com/e/ir?t=0xdecafbad01-20&#038;l=as2&#038;o=1&#038;a=B000ID7QNI\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" /></p>\n<p>For around $15, it&#8217;s just about right: I had to mount it sideways, and it doesn&#8217;t <em>quite</em> fully work that way. The side-to-side angle doesn&#8217;t want to support any weight in an up-and-down tilt, but the rest of the arm tightens down, so it&#8217;s good enough.</p>\n<h3 style=\"clear: both;\">\n  <span id=\"Building_the_enclosure\">Building the enclosure</span>\n</h3>\n\n<p>I don&#8217;t have a 3D printer or a laser cutter. Though there is <a href=\"http://www.i3detroit.com/\" target=\"_blank\">a friendly hackerspace</a> suitably equipped nearby, I wanted to see what I could prototype by hand. So, I went to Home Depot and bought <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-100542281/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=acrylic&storeId=10051#.URcEEZykOUk\" target=\"_blank\">4 polystyrene panels</a>, <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-203040434/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=dremel&storeId=10051#.URcW75ykOUk\" target=\"_blank\">a Dremel tool</a>, and <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-202519358/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=acrylic+cutter&storeId=10051#.URcXIJykOUk\" target=\"_blank\">an acrylic cutter</a>.</p>\n<p>With lots of trial and error, and truly awful manufacturing tolerances, I came up with a crude design consisting of 6 stacked layers bolted together with machine screws:</p>\n<ol>\n<li>Back layer with VESA mounting holes and an exit for the LVDS cable.</li>\n<li>Layer with VESA mounting holes and a pocket to route the LVDS cable.</li>\n<li>Layer behind the LCD with pocket for LVDS cable and heads of VESA mount bolts.</li>\n<li>Strips across the top and sides to hold the LCD panel.</li>\n<li>More strips across the top and sides to hold the LCD panel.</li>\n<li>Strips across the top and sides, covering the bezel area of the LCD panel.</li>\n</ol>\n<p>I made a ton of measurements and little indecipherable sketches in my grid-lined Moleskine, but those were mostly crap. No battle plan survives contact with the enemy, and all that. In the end, I just flew by the seat of my pants and hacked away.</p>\n<p>This process taught me that a Dremel (in my hands, at least) is absolutely no substitute for a laser cutter. I <em>really</em> didn&#8217;t anticipate just how horrible I&#8217;d be at cutting this stuff. Trying to cut just-right shapes out of the polystyrene turned into a dismal, stinky mess. But luckily, all the material I thought I&#8217;d wasted turned out to be perfect for cutting out as strips for the bezel and sides.</p>\n<p>So, in lieu of a diagram, how about some pictures?</p>\n<div style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.29.331.jpg\"><img title=\"Back layers, attached to the VESA mount clamped to my workbench\" alt=\"Back layers, attached to the VESA mount clamped to my workbench\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.29.331-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    Back layers, attached to the VESA mount clamped to my workbench.\n  </p>\n</div>\n\n<p>Here&#8217;s a little trick I worked out in this construction process: I used squares of electrical tape to retain the machine screws, so that I could flip the thing around while I was assembling layers on top before threading on the nuts. And speaking of that, here are the rest of the pieces in place:</p>\n<div id=\"attachment_850\" style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-00.36.29.jpg\"><img class=\"size-large wp-image-850\" title=\"Further layers bolted into the stack\" alt=\"Further layers bolted into the stack\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-00.36.29-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    Further layers bolted into the stack\n  </p>\n</div>\n\n<p>The middle two layers cradling the sides of the LCD panel alternate between long sides / short top and long top / short sides, providing a bit more stability in the way they overlap. The top layer is long sides / short top, with a bit more width to cover the 5mm or so of the LCD panel&#8217;s bezel area.</p>\n<p>Immediately behind the LCD panel is a layer with a cut-out to provide space for machine screws for the VESA mount, and a pocket through which to route the LVDS cable to the control board. And the final two layers form the actual VESA mount and complete the exit route for the LVDS cable.</p>\n<div style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.44.09.jpg\"><img title=\"Video control board bolted onto the back\" alt=\"Video control board bolted onto the back\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.44.09-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    Video control board bolted onto the back\n  </p>\n</div>\n\n<p>And finally, here&#8217;s the video control board on the back. Rather than make a full box for the board, I just sandwiched it with machine screws between acrylic layers and nylon spacers. Then, I bolted that whole mess onto the back layers.</p>\n<p>Midway through this process, I switched from Home Depot to <a href=\"http://frentzandsons.com/content/default.htm\">a family-owned hardware store</a> a few blocks from my house. I think they recognize me as a regular now after repeat visits for Dremel bits, screws, and a pile of other miscellanea.</p>\n<h3 id=\"mounting-the-mess-to-the-dave\"><span id=\"Mounting_the_mess_to_the_DAVE\">Mounting the mess to the DAVE</span></h3>\n<p>The VideoSecu VESA mount went onto the IKEA DAVE rather crudely with a pair of long wood screws. It feels pretty solid, but the screws stab treacherously out through the bottom. I&#8217;ll need to address that someday, probably after they stab me in the kneecaps.</p>\n<p>And, as it turns out, the control board placement was a mistake. Once I got the VESA arm screwed onto the IKEA DAVE, there wasn&#8217;t enough room to connect the power and an HDMI cable to the board. Or rather, there was just enough room to do so and inadvertently destroy an HDMI cable after a few hours of the monitor&#8217;s weight resting on it. I guess the good news is that the cable went before the solder joints on the jack failed. Herp, derp.</p>\n<p>So, I bought a new HDMI cable, unbolted the board, and stuck it onto the back with <a href=\"http://www.amazon.com/gp/product/B00004Z4A8/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00004Z4A8&linkCode=as2&tag=0xdecafbad01-20\" target=\"_blank\">double sided tape</a>. Here&#8217;s what the back looks like now:</p>\n<div id=\"attachment_826\" style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-05-00.28.14.jpg\"><img class=\"size-large wp-image-826\" title=\"LCD enclosure attached to the IKEA DAVE\" alt=\"LCD enclosure attached to the IKEA DAVE\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-05-00.28.14-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    LCD enclosure attached to the IKEA DAVE, featuring bonus <a href=\"http://www.flickr.com/photos/deusx/tags/cheddars/\" target=\"_blank\">Cheddars</a> appearance\n  </p>\n</div>\n\n<p>I also used the same tape to attach the button board to the front of the enclosure.</p>\n<div id=\"attachment_853\" style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.20.43.jpg\"><img class=\"size-large wp-image-853\" alt=\"Button board on front\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.20.43-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    Button board on front\n  </p>\n</div>\n\n<p>Overall, this thing works pretty much exactly as I&#8217;d imagined it. I <a href=\"http://pcpartpicker.com/p/z3mE\" target=\"_blank\">built a PC</a> in a <a href=\"http://icrontic.com/article/fractal-design-node-304-case-review\" target=\"_blank\">Fractal Node 304</a> mini-ITX case, and hid that under the coffee table. I bundled the cables together and used velcro wraps to bind them to the DAVE, and <a href=\"http://www.rabbit.org/faq/sections/rabbit-proofing.html#cords\" target=\"_blank\">some spiral wraps to bunny-proof</a> them as much as possible.</p>\n<div id=\"attachment_855\" style=\"width: 650px\" class=\"wp-caption alignnone\">\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.38.29.jpg\"><img class=\"size-large wp-image-855\" alt=\"Cheddars just loves my new couch PC\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.38.29-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\n    <a href=\"http://www.flickr.com/photos/deusx/tags/cheddars/\" target=\"_blank\">Cheddars</a> just loves my new couch PC. Or, maybe she wants dinner.\n  </p>\n</div>\n\n<h3 id=\"whats-next\"><span id=\"What8217s_next\">What&#8217;s next?</span></h3>\n<p>This monitor is ugly if you look at it too closely. I slipped a bit with the acrylic cutter and left some obvious gouges, and the layers have a grubby patina of scratches just from clumsy handling throughout the process. Basically, it&#8217;s very, very obviously hand-made by a guy who writes software for a living and hasn&#8217;t touched a power tool for more than 5 minutes since high school shop class.</p>\n<p>But, I think some really valuable things came out of this first attempt: It took me a bit to work through how to mount the LCD panel and route the cable out the back in a way that didn&#8217;t put stress on the wires or the connectors. There was a lot of fudge factor in getting the VESA mount alignment just right. And, there was also that HDMI cable I wrecked by botching the control board placement. Beyond all that, though, the basic idea worked.</p>\n<p>So, I&#8217;m already thinking about v2.0 and making friends over at <a href=\"http://www.i3detroit.com/\" target=\"_blank\">i3Detroit</a> who can drive <a href=\"http://i3detroit.com/wi/index.php?title=Laser_Cutting_and_Etching\" target=\"_blank\">a laser cutter</a>. I&#8217;m checking out <a href=\"http://www.ponoko.com/starter-kits/inkscape\" target=\"_blank\">Inkscape and Ponoko</a>. I&#8217;d also like to find some better materials &#8211; maybe aluminum for the front bezel and back panel, and maybe drop a layer from the stack. It would be really nice to get a much cleaner look and drop some weight. Also, an upgrade to this cheap VESA mount would be keen &#8211; I can&#8217;t <em>quite</em> get all the adjustments I&#8217;d like.</p>\n<p>Overall, this thing works, and that makes me pretty happy. In the beginning, I had really hoped to just find someone else had made this exact thing &#8211; maybe on Thingiverse. But, no such luck. This <a href=\"http://www.instructables.com/id/Laptop-to-Desktop-Conversion/\" target=\"_blank\">&#8220;Laptop-to-Desktop&#8221; Instructable</a> is pretty close, but not entirely what I needed. I guess DIY high-res LCD monitors are just not a thing. But, maybe this post and a possible v2.0 post in the future might come in handy for someone else.</p>\n",
    "body": "<div id=\"toc_container\" class=\"toc_wrap_right no_bullets\">\r\n  <p class=\"toc_title\">\r\n    Contents\r\n  </p>\r\n  \r\n  <ul class=\"toc_list\">\r\n    <li>\r\n      <a href=\"#Display_from_the_other_side_of_the_earth\"><span class=\"toc_number toc_depth_1\">1</span> Display from the other side of the earth</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Mounting_hardware\"><span class=\"toc_number toc_depth_1\">2</span> Mounting hardware</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Building_the_enclosure\"><span class=\"toc_number toc_depth_1\">3</span> Building the enclosure</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Mounting_the_mess_to_the_DAVE\"><span class=\"toc_number toc_depth_1\">4</span> Mounting the mess to the DAVE</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#What8217s_next\"><span class=\"toc_number toc_depth_1\">5</span> What&#8217;s next?</a>\r\n    </li>\r\n  </ul>\r\n</div>\r\n\r\nRemember when I posted about [gaming from the Orchard House couch][1]? The key part was figuring out how to get [a laptop-quality LCD monitor working in the living room][2], preferably attached to my trusty IKEA DAVE. Well, despite my best attempts at ruining my materials and tools, I managed to get it built!\r\n\r\n<!--more-->\r\n\r\nFor reference, here&#8217;s what I came up with in Google Sketchup:\r\n\r\n[<img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\" alt=\"couch-gaming-2a-pc\" width=\"506\" height=\"910\" class=\"alignnone size-full wp-image-671\" />][3]\r\n\r\nSpoiler alert &#8211; here&#8217;s what the final product looks like:\r\n\r\n[<img class=\"alignnone size-large wp-image-832\" alt=\"2013-02-03 23.33.12\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-23.33.12-1024x768.jpg\" width=\"640\" height=\"480\" />][4]\r\n\r\n### <span id=\"Display_from_the_other_side_of_the_earth\">Display from the other side of the earth</span>\r\n\r\n<a href=\"http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&hash=item27ccd9bd87\" target=\"_blank\">The first piece</a> arrived a week or so ago:\r\n\r\n<div id=\"attachment_825\" style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-01-31-11.24.53.jpg\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-01-31-11.24.53-1024x768.jpg\" alt=\"LCD panel and control board\" width=\"640\" height=\"480\" class=\"size-large wp-image-825\" /></a><p class=\"wp-caption-text\">\r\n    LCD panel and control board\r\n  </p>\r\n</div>\r\n\r\n<p style=\"clear: both;\">\r\n  Having never ordered anything like this before from a random eBay store out of China, I half expected it to never show up. But, <a href=\"http://stores.ebay.com/chinatobby?_trksid=p2047675.l2568\" target=\"_blank\">the merchant</a> has near <a href=\"http://feedback.ebay.com/ws/eBayISAPI.dll?ViewFeedback2&userid=chinatobby2011&ftab=AllFeedback\" target=\"_blank\">perfect 99.9% feedback scores</a>, so I hit the &#8220;Buy it now&#8221; button and crossed my fingers.\r\n</p>\r\n\r\nSomething great was that the confirmation email noted, &#8220;because what you bought will be shipped from the other side of the earth, it needs time&#8221;. Well, fair enough: I did pick the cheapest delivery option. Still, even with that bit of expectation setting, the package showed up just 10 days later. (<a href=\"https://twitter.com/search?q=%23livinginthefuture\" target=\"_blank\">#LivingInTheFuture</a> #FTW)\r\n\r\nWhat arrived was a <a href=\"http://www.panelook.com/LP173WF1-TLA1_LG%20Display_17.3_LCM_parameter_5857.html\" target=\"_blank\">17.3&#8243; 1920&#215;1080 TN LCD panel</a>, apparently used in a variety of high-end PC laptops from HP and Sony. What was also in the box was <a href=\"http://www.vslcd.com/Specification/M.NT68676.2A.pdf\" target=\"_blank\">a little driver board</a> that connects to the panel via LVDS cable. The driver board takes a 12v DC power supply, accepts HDMI / VGA / DVI video inputs, and even offers a headphone audio output jack.\r\n\r\nOverall, this hardware is exactly what I was looking for: Basically the head chopped off a laptop, with the right connectors for a desktop PC. What I needed now was an enclosure, and a way to mount the enclosure to my IKEA DAVE.\r\n\r\n### <span id=\"Mounting_hardware\">Mounting hardware</span>\r\n\r\nAs it happened, I had [a cheap VESA mount with an articulated arm laying][5]<img src=\"http://www.assoc-amazon.com/e/ir?t=0xdecafbad01-20&#038;l=as2&#038;o=1&#038;a=B000ID7QNI\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" /> around. We never got around to using it to stick a TV on the wall, so it seemed worth a shot to see if it would work on the IKEA DAVE.\r\n\r\n[<img border=\"0\" src=\"http://ws.assoc-amazon.com/widgets/q?_encoding=UTF8&#038;ASIN=B000ID7QNI&#038;Format=_SL110_&#038;ID=AsinImage&#038;MarketPlace=US&#038;ServiceVersion=20070822&#038;WS=1&#038;tag=0xdecafbad01-20\" />][6]<img src=\"http://www.assoc-amazon.com/e/ir?t=0xdecafbad01-20&#038;l=as2&#038;o=1&#038;a=B000ID7QNI\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" />\r\n\r\nFor around $15, it&#8217;s just about right: I had to mount it sideways, and it doesn&#8217;t *quite* fully work that way. The side-to-side angle doesn&#8217;t want to support any weight in an up-and-down tilt, but the rest of the arm tightens down, so it&#8217;s good enough.\r\n\r\n<h3 style=\"clear: both;\">\r\n  <span id=\"Building_the_enclosure\">Building the enclosure</span>\r\n</h3>\r\n\r\nI don&#8217;t have a 3D printer or a laser cutter. Though there is <a href=\"http://www.i3detroit.com/\" target=\"_blank\">a friendly hackerspace</a> suitably equipped nearby, I wanted to see what I could prototype by hand. So, I went to Home Depot and bought <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-100542281/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=acrylic&storeId=10051#.URcEEZykOUk\" target=\"_blank\">4 polystyrene panels</a>, <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-203040434/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=dremel&storeId=10051#.URcW75ykOUk\" target=\"_blank\">a Dremel tool</a>, and <a href=\"http://www.homedepot.com/h_d1/N-5yc1v/R-202519358/h_d2/ProductDisplay?catalogId=10053&langId=-1&keyword=acrylic+cutter&storeId=10051#.URcXIJykOUk\" target=\"_blank\">an acrylic cutter</a>.\r\n\r\nWith lots of trial and error, and truly awful manufacturing tolerances, I came up with a crude design consisting of 6 stacked layers bolted together with machine screws:\r\n\r\n1.  Back layer with VESA mounting holes and an exit for the LVDS cable.\r\n2.  Layer with VESA mounting holes and a pocket to route the LVDS cable.\r\n3.  Layer behind the LCD with pocket for LVDS cable and heads of VESA mount bolts.\r\n4.  Strips across the top and sides to hold the LCD panel.\r\n5.  More strips across the top and sides to hold the LCD panel.\r\n6.  Strips across the top and sides, covering the bezel area of the LCD panel.\r\n\r\nI made a ton of measurements and little indecipherable sketches in my grid-lined Moleskine, but those were mostly crap. No battle plan survives contact with the enemy, and all that. In the end, I just flew by the seat of my pants and hacked away.\r\n\r\nThis process taught me that a Dremel (in my hands, at least) is absolutely no substitute for a laser cutter. I *really* didn&#8217;t anticipate just how horrible I&#8217;d be at cutting this stuff. Trying to cut just-right shapes out of the polystyrene turned into a dismal, stinky mess. But luckily, all the material I thought I&#8217;d wasted turned out to be perfect for cutting out as strips for the bezel and sides.\r\n\r\nSo, in lieu of a diagram, how about some pictures?\r\n\r\n<div style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.29.331.jpg\"><img title=\"Back layers, attached to the VESA mount clamped to my workbench\" alt=\"Back layers, attached to the VESA mount clamped to my workbench\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.29.331-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    Back layers, attached to the VESA mount clamped to my workbench.\r\n  </p>\r\n</div>\r\n\r\nHere&#8217;s a little trick I worked out in this construction process: I used squares of electrical tape to retain the machine screws, so that I could flip the thing around while I was assembling layers on top before threading on the nuts. And speaking of that, here are the rest of the pieces in place:\r\n\r\n<div id=\"attachment_850\" style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-00.36.29.jpg\"><img class=\"size-large wp-image-850\" title=\"Further layers bolted into the stack\" alt=\"Further layers bolted into the stack\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-00.36.29-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    Further layers bolted into the stack\r\n  </p>\r\n</div>\r\n\r\nThe middle two layers cradling the sides of the LCD panel alternate between long sides / short top and long top / short sides, providing a bit more stability in the way they overlap. The top layer is long sides / short top, with a bit more width to cover the 5mm or so of the LCD panel&#8217;s bezel area.\r\n\r\nImmediately behind the LCD panel is a layer with a cut-out to provide space for machine screws for the VESA mount, and a pocket through which to route the LVDS cable to the control board. And the final two layers form the actual VESA mount and complete the exit route for the LVDS cable.\r\n\r\n<div style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.44.09.jpg\"><img title=\"Video control board bolted onto the back\" alt=\"Video control board bolted onto the back\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-20.44.09-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    Video control board bolted onto the back\r\n  </p>\r\n</div>\r\n\r\nAnd finally, here&#8217;s the video control board on the back. Rather than make a full box for the board, I just sandwiched it with machine screws between acrylic layers and nylon spacers. Then, I bolted that whole mess onto the back layers.\r\n\r\nMidway through this process, I switched from Home Depot to [a family-owned hardware store][7] a few blocks from my house. I think they recognize me as a regular now after repeat visits for Dremel bits, screws, and a pile of other miscellanea.\r\n\r\n### <span id=\"Mounting_the_mess_to_the_DAVE\">Mounting the mess to the DAVE</span>\r\n\r\nThe VideoSecu VESA mount went onto the IKEA DAVE rather crudely with a pair of long wood screws. It feels pretty solid, but the screws stab treacherously out through the bottom. I&#8217;ll need to address that someday, probably after they stab me in the kneecaps.\r\n\r\nAnd, as it turns out, the control board placement was a mistake. Once I got the VESA arm screwed onto the IKEA DAVE, there wasn&#8217;t enough room to connect the power and an HDMI cable to the board. Or rather, there was just enough room to do so and inadvertently destroy an HDMI cable after a few hours of the monitor&#8217;s weight resting on it. I guess the good news is that the cable went before the solder joints on the jack failed. Herp, derp.\r\n\r\nSo, I bought a new HDMI cable, unbolted the board, and stuck it onto the back with <a href=\"http://www.amazon.com/gp/product/B00004Z4A8/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00004Z4A8&linkCode=as2&tag=0xdecafbad01-20\" target=\"_blank\">double sided tape</a>. Here&#8217;s what the back looks like now:\r\n\r\n<div id=\"attachment_826\" style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-05-00.28.14.jpg\"><img class=\"size-large wp-image-826\" title=\"LCD enclosure attached to the IKEA DAVE\" alt=\"LCD enclosure attached to the IKEA DAVE\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-05-00.28.14-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    LCD enclosure attached to the IKEA DAVE, featuring bonus <a href=\"http://www.flickr.com/photos/deusx/tags/cheddars/\" target=\"_blank\">Cheddars</a> appearance\r\n  </p>\r\n</div>\r\n\r\nI also used the same tape to attach the button board to the front of the enclosure.\r\n\r\n<div id=\"attachment_853\" style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.20.43.jpg\"><img class=\"size-large wp-image-853\" alt=\"Button board on front\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.20.43-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    Button board on front\r\n  </p>\r\n</div>\r\n\r\nOverall, this thing works pretty much exactly as I&#8217;d imagined it. I <a href=\"http://pcpartpicker.com/p/z3mE\" target=\"_blank\">built a PC</a> in a <a href=\"http://icrontic.com/article/fractal-design-node-304-case-review\" target=\"_blank\">Fractal Node 304</a> mini-ITX case, and hid that under the coffee table. I bundled the cables together and used velcro wraps to bind them to the DAVE, and <a href=\"http://www.rabbit.org/faq/sections/rabbit-proofing.html#cords\" target=\"_blank\">some spiral wraps to bunny-proof</a> them as much as possible.\r\n\r\n<div id=\"attachment_855\" style=\"width: 650px\" class=\"wp-caption alignnone\">\r\n  <a href=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.38.29.jpg\"><img class=\"size-large wp-image-855\" alt=\"Cheddars just loves my new couch PC\" src=\"http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-09-23.38.29-1024x768.jpg\" width=\"640\" height=\"480\" /></a><p class=\"wp-caption-text\">\r\n    <a href=\"http://www.flickr.com/photos/deusx/tags/cheddars/\" target=\"_blank\">Cheddars</a> just loves my new couch PC. Or, maybe she wants dinner.\r\n  </p>\r\n</div>\r\n\r\n### <span id=\"What8217s_next\">What&#8217;s next?</span>\r\n\r\nThis monitor is ugly if you look at it too closely. I slipped a bit with the acrylic cutter and left some obvious gouges, and the layers have a grubby patina of scratches just from clumsy handling throughout the process. Basically, it&#8217;s very, very obviously hand-made by a guy who writes software for a living and hasn&#8217;t touched a power tool for more than 5 minutes since high school shop class.\r\n\r\nBut, I think some really valuable things came out of this first attempt: It took me a bit to work through how to mount the LCD panel and route the cable out the back in a way that didn&#8217;t put stress on the wires or the connectors. There was a lot of fudge factor in getting the VESA mount alignment just right. And, there was also that HDMI cable I wrecked by botching the control board placement. Beyond all that, though, the basic idea worked.\r\n\r\nSo, I&#8217;m already thinking about v2.0 and making friends over at <a href=\"http://www.i3detroit.com/\" target=\"_blank\">i3Detroit</a> who can drive <a href=\"http://i3detroit.com/wi/index.php?title=Laser_Cutting_and_Etching\" target=\"_blank\">a laser cutter</a>. I&#8217;m checking out <a href=\"http://www.ponoko.com/starter-kits/inkscape\" target=\"_blank\">Inkscape and Ponoko</a>. I&#8217;d also like to find some better materials &#8211; maybe aluminum for the front bezel and back panel, and maybe drop a layer from the stack. It would be really nice to get a much cleaner look and drop some weight. Also, an upgrade to this cheap VESA mount would be keen &#8211; I can&#8217;t *quite* get all the adjustments I&#8217;d like.\r\n\r\nOverall, this thing works, and that makes me pretty happy. In the beginning, I had really hoped to just find someone else had made this exact thing &#8211; maybe on Thingiverse. But, no such luck. This <a href=\"http://www.instructables.com/id/Laptop-to-Desktop-Conversion/\" target=\"_blank\">&#8220;Laptop-to-Desktop&#8221; Instructable</a> is pretty close, but not entirely what I needed. I guess DIY high-res LCD monitors are just not a thing. But, maybe this post and a possible v2.0 post in the future might come in handy for someone else.\r\n\r\n [1]: http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch\r\n [2]: http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch#Laptop_decapitation\r\n [3]: http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\r\n [4]: http://blog.lmorchard.com/wp-content/uploads/2013/02/2013-02-03-23.33.12.jpg\r\n [5]: http://www.amazon.com/gp/product/B000ID7QNI/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B000ID7QNI&linkCode=as2&tag=0xdecafbad01-20 \"VideoSecu Articulating TV Wall Mount Bracket for VESA 100 LCD LED Flat Screen Monitor TV 1E9\"\r\n [6]: http://www.amazon.com/gp/product/B000ID7QNI/ref=as_li_ss_il?ie=UTF8&camp=1789&creative=390957&creativeASIN=B000ID7QNI&linkCode=as2&tag=0xdecafbad01-20\r\n [7]: http://frentzandsons.com/content/default.htm",
    "parentPath": "../blog.lmorchard.com/posts/archives/2013",
    "path": "2013/02/10/building-my-couch-computing-station",
    "thumbnail": "http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png",
    "summary": "\n\n<p>Remember when I posted about <a href=\"http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch\">gaming from the Orchard House couch</a>? The key part was figuring out how to get <a href=\"http://blog.lmorchard.com/2013/01/21/gaming-from-the-orchard-house-couch#Laptop_decapitation\">a laptop-quality LCD monitor working in the living room</a>, preferably attached to my trusty IKEA DAVE. Well, despite my best attempts at ruining my materials and tools, I managed to get it built!</p>\n",
    "prevPostPath": "2013/02/21/kumascript",
    "nextPostPath": "2013/01/23/naming-conventions"
  },
  {
    "title": "Gaming from the Orchard House couch",
    "author": "lmorchard",
    "layout": "post",
    "permalink": "/2013/01/21/gaming-from-the-orchard-house-couch",
    "dsq_thread_id": [
      1106753029
    ],
    "categories": [
      "Uncategorized"
    ],
    "tags": [
      "diy",
      "gaming",
      "hacks",
      "home",
      "lcd",
      "pc"
    ],
    "year": "2013",
    "month": "01",
    "day": "21",
    "isDir": false,
    "slug": "gaming-from-the-orchard-house-couch",
    "date": "2013-01-21T12:00:00.000Z",
    "postName": "2013-01-21-gaming-from-the-orchard-house-couch",
    "html": "<div id=\"toc_container\" class=\"toc_wrap_right no_bullets\">\n  <p class=\"toc_title\">\n    Contents\n  </p>\n\n  <ul class=\"toc_list\">\n    <li>\n      <a href=\"#The_nightlife_at_Orchard_House\"><span class=\"toc_number toc_depth_1\">1</span> The nightlife at Orchard House</a>\n    </li>\n    <li>\n      <a href=\"#My_current_gaming_rig\"><span class=\"toc_number toc_depth_1\">2</span> My current gaming rig</a>\n    </li>\n    <li>\n      <a href=\"#Thoughts_on_a_new_gaming_rig\"><span class=\"toc_number toc_depth_1\">3</span> Thoughts on a new gaming rig</a>\n    </li>\n    <li>\n      <a href=\"#Laptop_decapitation\"><span class=\"toc_number toc_depth_1\">4</span> Laptop decapitation</a>\n    </li>\n    <li>\n      <a href=\"#Couching_gamer_hidden_tower\"><span class=\"toc_number toc_depth_1\">5</span> Couching gamer, hidden tower</a>\n    </li>\n    <li>\n      <a href=\"#Living_in_the_Post-PC_future\"><span class=\"toc_number toc_depth_1\">6</span> Living in the Post-PC future</a>\n    </li>\n  </ul>\n</div>\n\n<p>I like playing video games; it&#8217;s one of my favorite things in life. I also like hanging out with my wife; she&#8217;s my favorite person in the world. This is a post about ensuring these two things can happen together. This is also a post where I played with SketchUp for the first time.</p>\n<!--more-->\n\n<h2 id=\"the-nightlife-at-orchard-house\"><span id=\"The_nightlife_at_Orchard_House\">The nightlife at Orchard House</span></h2>\n<p><a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1-laptop.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1-laptop-300x238.png\" alt=\"couch-gaming-1-laptop\" width=\"300\" height=\"238\" class=\"alignnone size-medium wp-image-670\" /></a></p>\n<p>Here, on the left, you can see a scale model of evenings at Orchard House. Alex and I like to spend nights making fun of crappy TV, piddling around on our laptops, and attracting household pets. (Yeah, I had a little too much fun playing around in <a href=\"http://www.sketchup.com/\">SketchUp</a> tonight.)</p>\n<p>So, when I play video games, I don&#8217;t usually take over the TV &#8211; at least, not until later in the evening, when the girl succumbs to napping and I feel like firing up the Xbox. What I&#8217;ve ended up with for most nights, then, is running games from Steam (I&#8217;m <a href=\"steamcommunity.com/id/lmorchard\">lmorchard</a>) on Windows 7 running on a 2010 MacBook Pro 15&#8243; via Boot Camp.</p>\n<p>This is less than optimal, but it works tolerably for many fun things.</p>\n<h2 id=\"my-current-gaming-rig\"><span id=\"My_current_gaming_rig\">My current gaming rig</span></h2>\n<p><a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1a-laptop.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1a-laptop-175x300.png\" alt=\"couch-gaming-1a-laptop\" width=\"175\" height=\"300\" class=\"alignnone size-medium wp-image-669\" /></a></p>\n<p>Let&#8217;s zoom and enhance, because I can do that in SketchUp. On the right, you can see a model of my gaming rig. It consists mainly of the aforementioned <a href=\"http://www.amazon.com/gp/product/B00578O5W4/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00578O5W4\">Apple MacBook Pro</a>, an <a href=\"http://www.ikea.com/us/en/catalog/products/00120818/\">Ikea DAVE laptop table</a>, and a <a href=\"http://www.amazon.com/gp/product/B001F42MKG/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001F42MKG\">Logitech Trackman Marble Mouse</a>.</p>\n<p>I really like the DAVE table &#8211; we&#8217;ve accumulated 4 of these things at last count. They&#8217;re cheap &#8211; easily had from Ikea for around $20 &#8211; and go together in 2 minutes. I&#8217;ve used them instead of buying <a href=\"http://www.amazon.com/gp/product/B000IG1NFM/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000IG1NFM\" title=\"Humanscale Keyboard, Standard Platform, 4G Mechanism with Clip Mouse and Gel Leather Palm Support\">$400 ergonomic keyboard trays</a> for my desk. (I really missed those, when I left Yahoo!)</p>\n<p>I even took one outside to make <a href=\"https://sphotos-b.xx.fbcdn.net/hphotos-prn1/26116_383125243201_3986077_n.jpg\">working on the deck</a> easier on my wrists. And, of course, I&#8217;ve been gradually evolving one into a couch computing station.</p>\n<p><a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://www.flickr.com/photos/deusx/8269329367/\" title=\"My couch computing rig by lmorchard, on Flickr\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/coughrigphoto.png\" alt=\"coughrigphoto\" width=\"261\" height=\"266\" class=\"alignnone size-full wp-image-716\" /></a></p>\n<p>Here on the right is a picture of my couch-side DAVE, sans MacBook pro. The big thing is a <a href=\"http://www.amazon.com/gp/product/B005C31HC0/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005C31HC0\">Cooler Master NotePal X-Slim Cooling Pad</a>, because my laptop has a habit of overheating and shutting itself down in the middle of Windows games, especially in the middle of summer.</p>\n<p>I&#8217;ve also been cycling through different pairs of headphones, and am currently trying out a pair of <a href=\"http://www.amazon.com/gp/product/B005GTNZUM/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005GTNZUM\">Logitech H800</a> wireless headphones. (The <a href=\"http://www.amazon.com/gp/product/B001J30FZM/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001J30FZM\">Plantronics 355&#8217;s</a> in the picture had been turned wireless when the bunny hopped by and gave it a nip. So, I took the hint.)</p>\n<h2 id=\"thoughts-on-a-new-gaming-rig\"><span id=\"Thoughts_on_a_new_gaming_rig\">Thoughts on a new gaming rig</span></h2>\n<p>Like I wrote earlier, many fun games can be played tolerably well on this 2010 MacBook Pro in Boot Camp. But, this is suboptimal and a dead end for upgrades where it matters. I could get an updated laptop, but that&#8217;s just kicking the can down the road. And besides, this machine is intended more as a productivity machine for me than gaming.</p>\n<p>I could also buy a real gaming laptop, but those things are expensive &#8211; and also less than great for upgrades.</p>\n<p><a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2-pc.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2-pc-300x248.png\" alt=\"couch-gaming-2-pc\" width=\"300\" height=\"248\" class=\"alignnone size-medium wp-image-672\" /></a></p>\n<p>What about a desktop gaming PC? It&#8217;s been a long time since I last built a PC &#8211; something on the order of 10 years. But, it seems like this would be the cheaper and more easily upgraded route</p>\n<p>The deal breaker, though, is the <em>desktop</em> part. Like I said, I like hanging out with my wife on the couch &#8211; I&#8217;m not going to wander off to a desk by myself to indulge my gaming hobby. If I had to choose, my wife wins every time. She&#8217;s my best friend.</p>\n<p>So, pictured above, I&#8217;m thinking about what it would take to replace my laptop with a desktop at the couch. I need a monitor that fits on my DAVE, and I need a place to stick a big box.</p>\n<h2 id=\"laptop-decapitation\"><span id=\"Laptop_decapitation\">Laptop decapitation</span></h2>\n<p><a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc-166x300.png\" alt=\"couch-gaming-2a-pc\" width=\"166\" height=\"300\" class=\"alignnone size-medium wp-image-671\" /></a></p>\n<p>Let&#8217;s zoom &amp; enhance again, on the right. Basically, what I&#8217;ve mocked up here is the LCD panel from my laptop torn off and bolted to the DAVE. I&#8217;ve got an <a href=\"http://www.amazon.com/Apple-Wireless-Keyboard-MC184LL-VERSION/dp/B005DLDO4U/ref=sr_1_1?ie=UTF8&amp;qid=1358748005&amp;sr=8-1&amp;keywords=apple+wireless\">Apple Wireless Keyboard</a> there. But, it could just as easily be a <a href=\"http://www.amazon.com/gp/product/B0000BW01X/ref=as_li_ss_tl?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0000BW01X\">Happy Hacking Keyboard</a>, if only I&#8217;d found the right model in SketchUp. Maybe I&#8217;ll even get &#8220;serious&#8221; and look into a gaming keyboard with a numpad.</p>\n<p>Unfortunately, I can&#8217;t seem to find a decent off-the-shelf LCD monitor that won&#8217;t crush the DAVE and yet has as nice a resolution &amp; density as my MacBook Pro display. But, after a day of musing on Facebook and poking around on eBay, I found an exciting lead.</p>\n<p><a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&#038;hash=item27ccd9bd87\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/622302621_o-300x224.jpg\" alt=\"622302621_o\" width=\"300\" height=\"224\" class=\"alignnone size-medium wp-image-682\" /></a></p>\n<p>As it turns out, you can buy an LCD display panel and a board to drive it from plain old HDMI / DVI / VGA inputs. On the left is one that I&#8217;ve ordered. <a href=\"http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&amp;hash=item27ccd9bd87\">It&#8217;s 17.3&#8243; and offers 1920 x 1080 resolution</a>.</p>\n<p>This seems pretty nice to me, since it&#8217;s slightly better than my current laptop and will sit less than 2-3 feet from my face. Worst case, I can use it as a second monitor for my desk. Or, I could move the Xbox to under the couch and hook it up on the HDMI input. I could even use headphones, since the display interface board has an output jack.</p>\n<p>I&#8217;ll have to fabricate some sort of housing for the display, and find a way to attach it to the DAVE with friction hinges. Since this will be in the living room, it also wouldn&#8217;t hurt if the result looks clean. I&#8217;m hoping this won&#8217;t be an impossible task, despite my carpentry skills having last been exercised in high school shop class almost 20 years ago. Less than 10 miles from me is <a href=\"http://www.i3detroit.com/\">i3Detroit</a>, an awesome maker space, so I could avail myself of some tinkerers there.</p>\n<h2 id=\"couching-gamer-hidden-tower\"><span id=\"Couching_gamer_hidden_tower\">Couching gamer, hidden tower</span></h2>\n<p><a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/unsightly-pc-tower.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/unsightly-pc-tower-300x279.png\" alt=\"unsightly-pc-tower\" width=\"300\" height=\"279\" class=\"alignnone size-medium wp-image-756\" /></a></p>\n<p>Let&#8217;s zoom &amp; enhance on that PC tower. I&#8217;ll stub my toes on it, as I wander to and from the kitchen. And, that girl I like hanging out with will probably brain me with it. That thing is not going to fly.</p>\n<p>Ideally, I&#8217;d love to stash it under the couch. But, under the couch gives me only about 4&#8243; of clearance. I think most of the video cards I&#8217;m considering are taller than that, let alone the cases.</p>\n<p>Other options might include hiding it behind the couch, but only if it doesn&#8217;t have howling turbines that prevent the girl from taking the naps mentioned earlier. We also have an entertainment center, which could be an option if running cables across the room isn&#8217;t ugly and if they don&#8217;t become bunny food (see aforementioned headphones). Oh, and the entertainment center is poorly ventilated.</p>\n<p>Maybe behind the couch is the best option, assuming everything but the monitor is wireless.</p>\n<h2 id=\"living-in-the-post-pc-future\"><span id=\"Living_in_the_Post-PC_future\">Living in the Post-PC future</span></h2>\n<p>So, assuming I get this display panel working and mounted, and I find a place to stick the PC case, now I have to figure out what to stick inside the case. My budget is not infinite, but I&#8217;m curious to see if I can keep it under $600. But, I&#8217;m so out of the DIY PC loop, that I don&#8217;t even know if that&#8217;s a sane ballpark for satisfying gaming.</p>\n<p>On the one hand, I think I&#8217;m relatively easy to satisfy. After all, I&#8217;m putting up with games on this MacBook Pro that sometimes never get more than 15-20 FPS. Ideally, I&#8217;d like to blow well past that &#8211; that&#8217;s the whole point, really. But, I don&#8217;t need insane bells &amp; whistles that I won&#8217;t appreciate on this 17&#8243; 1920&#215;1080 display. I&#8217;ll also never ever bother with 3D. It would just be nice, for once, to get high frame rates on at least last year&#8217;s games.</p>\n<p>This is where my ideas run out, and I need to do more research and bug some friends. But, that&#8217;s okay, because I think this is a relatively boring part. What&#8217;s in the box is less interesting to me than where to put it and how to hook it up at the couch.</p>\n<p>Still, let&#8217;s see where I end up going with this. More updates after I get delivery of this LCD panel.</p>\n",
    "body": "<div id=\"toc_container\" class=\"toc_wrap_right no_bullets\">\r\n  <p class=\"toc_title\">\r\n    Contents\r\n  </p>\r\n  \r\n  <ul class=\"toc_list\">\r\n    <li>\r\n      <a href=\"#The_nightlife_at_Orchard_House\"><span class=\"toc_number toc_depth_1\">1</span> The nightlife at Orchard House</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#My_current_gaming_rig\"><span class=\"toc_number toc_depth_1\">2</span> My current gaming rig</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Thoughts_on_a_new_gaming_rig\"><span class=\"toc_number toc_depth_1\">3</span> Thoughts on a new gaming rig</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Laptop_decapitation\"><span class=\"toc_number toc_depth_1\">4</span> Laptop decapitation</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Couching_gamer_hidden_tower\"><span class=\"toc_number toc_depth_1\">5</span> Couching gamer, hidden tower</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"#Living_in_the_Post-PC_future\"><span class=\"toc_number toc_depth_1\">6</span> Living in the Post-PC future</a>\r\n    </li>\r\n  </ul>\r\n</div>\r\n\r\nI like playing video games; it&#8217;s one of my favorite things in life. I also like hanging out with my wife; she&#8217;s my favorite person in the world. This is a post about ensuring these two things can happen together. This is also a post where I played with SketchUp for the first time.\r\n\r\n<!--more-->\r\n\r\n## <span id=\"The_nightlife_at_Orchard_House\">The nightlife at Orchard House</span>\r\n\r\n<a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1-laptop.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1-laptop-300x238.png\" alt=\"couch-gaming-1-laptop\" width=\"300\" height=\"238\" class=\"alignnone size-medium wp-image-670\" /></a>\r\n\r\nHere, on the left, you can see a scale model of evenings at Orchard House. Alex and I like to spend nights making fun of crappy TV, piddling around on our laptops, and attracting household pets. (Yeah, I had a little too much fun playing around in [SketchUp][1] tonight.)\r\n\r\nSo, when I play video games, I don&#8217;t usually take over the TV &#8211; at least, not until later in the evening, when the girl succumbs to napping and I feel like firing up the Xbox. What I&#8217;ve ended up with for most nights, then, is running games from Steam (I&#8217;m [lmorchard][2]) on Windows 7 running on a 2010 MacBook Pro 15&#8243; via Boot Camp.\r\n\r\nThis is less than optimal, but it works tolerably for many fun things.\r\n\r\n## <span id=\"My_current_gaming_rig\">My current gaming rig</span>\r\n\r\n<a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1a-laptop.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1a-laptop-175x300.png\" alt=\"couch-gaming-1a-laptop\" width=\"175\" height=\"300\" class=\"alignnone size-medium wp-image-669\" /></a>\r\n\r\nLet&#8217;s zoom and enhance, because I can do that in SketchUp. On the right, you can see a model of my gaming rig. It consists mainly of the aforementioned [Apple MacBook Pro][3], an [Ikea DAVE laptop table][4], and a [Logitech Trackman Marble Mouse][5].\r\n\r\nI really like the DAVE table &#8211; we&#8217;ve accumulated 4 of these things at last count. They&#8217;re cheap &#8211; easily had from Ikea for around $20 &#8211; and go together in 2 minutes. I&#8217;ve used them instead of buying [$400 ergonomic keyboard trays][6] for my desk. (I really missed those, when I left Yahoo!)\r\n\r\nI even took one outside to make [working on the deck][7] easier on my wrists. And, of course, I&#8217;ve been gradually evolving one into a couch computing station.\r\n\r\n<a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://www.flickr.com/photos/deusx/8269329367/\" title=\"My couch computing rig by lmorchard, on Flickr\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/coughrigphoto.png\" alt=\"coughrigphoto\" width=\"261\" height=\"266\" class=\"alignnone size-full wp-image-716\" /></a>\r\n\r\nHere on the right is a picture of my couch-side DAVE, sans MacBook pro. The big thing is a [Cooler Master NotePal X-Slim Cooling Pad][8], because my laptop has a habit of overheating and shutting itself down in the middle of Windows games, especially in the middle of summer.\r\n\r\nI&#8217;ve also been cycling through different pairs of headphones, and am currently trying out a pair of [Logitech H800][9] wireless headphones. (The [Plantronics 355&#8217;s][10] in the picture had been turned wireless when the bunny hopped by and gave it a nip. So, I took the hint.)\r\n\r\n## <span id=\"Thoughts_on_a_new_gaming_rig\">Thoughts on a new gaming rig</span>\r\n\r\nLike I wrote earlier, many fun games can be played tolerably well on this 2010 MacBook Pro in Boot Camp. But, this is suboptimal and a dead end for upgrades where it matters. I could get an updated laptop, but that&#8217;s just kicking the can down the road. And besides, this machine is intended more as a productivity machine for me than gaming.\r\n\r\nI could also buy a real gaming laptop, but those things are expensive &#8211; and also less than great for upgrades.\r\n\r\n<a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2-pc.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2-pc-300x248.png\" alt=\"couch-gaming-2-pc\" width=\"300\" height=\"248\" class=\"alignnone size-medium wp-image-672\" /></a>\r\n\r\nWhat about a desktop gaming PC? It&#8217;s been a long time since I last built a PC &#8211; something on the order of 10 years. But, it seems like this would be the cheaper and more easily upgraded route\r\n\r\nThe deal breaker, though, is the *desktop* part. Like I said, I like hanging out with my wife on the couch &#8211; I&#8217;m not going to wander off to a desk by myself to indulge my gaming hobby. If I had to choose, my wife wins every time. She&#8217;s my best friend.\r\n\r\nSo, pictured above, I&#8217;m thinking about what it would take to replace my laptop with a desktop at the couch. I need a monitor that fits on my DAVE, and I need a place to stick a big box.\r\n\r\n## <span id=\"Laptop_decapitation\">Laptop decapitation</span>\r\n\r\n<a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-2a-pc-166x300.png\" alt=\"couch-gaming-2a-pc\" width=\"166\" height=\"300\" class=\"alignnone size-medium wp-image-671\" /></a>\r\n\r\nLet&#8217;s zoom & enhance again, on the right. Basically, what I&#8217;ve mocked up here is the LCD panel from my laptop torn off and bolted to the DAVE. I&#8217;ve got an [Apple Wireless Keyboard][11] there. But, it could just as easily be a [Happy Hacking Keyboard][12], if only I&#8217;d found the right model in SketchUp. Maybe I&#8217;ll even get &#8220;serious&#8221; and look into a gaming keyboard with a numpad.\r\n\r\nUnfortunately, I can&#8217;t seem to find a decent off-the-shelf LCD monitor that won&#8217;t crush the DAVE and yet has as nice a resolution & density as my MacBook Pro display. But, after a day of musing on Facebook and poking around on eBay, I found an exciting lead.\r\n\r\n<a style=\"display: block; float: left; margin: 0 0.75em 0.75em 0\" href=\"http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&#038;hash=item27ccd9bd87\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/622302621_o-300x224.jpg\" alt=\"622302621_o\" width=\"300\" height=\"224\" class=\"alignnone size-medium wp-image-682\" /></a>\r\n\r\nAs it turns out, you can buy an LCD display panel and a board to drive it from plain old HDMI / DVI / VGA inputs. On the left is one that I&#8217;ve ordered. [It&#8217;s 17.3&#8243; and offers 1920 x 1080 resolution][13].\r\n\r\nThis seems pretty nice to me, since it&#8217;s slightly better than my current laptop and will sit less than 2-3 feet from my face. Worst case, I can use it as a second monitor for my desk. Or, I could move the Xbox to under the couch and hook it up on the HDMI input. I could even use headphones, since the display interface board has an output jack.\r\n\r\nI&#8217;ll have to fabricate some sort of housing for the display, and find a way to attach it to the DAVE with friction hinges. Since this will be in the living room, it also wouldn&#8217;t hurt if the result looks clean. I&#8217;m hoping this won&#8217;t be an impossible task, despite my carpentry skills having last been exercised in high school shop class almost 20 years ago. Less than 10 miles from me is [i3Detroit][14], an awesome maker space, so I could avail myself of some tinkerers there.\r\n\r\n## <span id=\"Couching_gamer_hidden_tower\">Couching gamer, hidden tower</span>\r\n\r\n<a style=\"display: block; float: right; margin: 0 0 0.75em 0.75em\" href=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/unsightly-pc-tower.png\"><img src=\"http://blog.lmorchard.com/wp-content/uploads/2013/01/unsightly-pc-tower-300x279.png\" alt=\"unsightly-pc-tower\" width=\"300\" height=\"279\" class=\"alignnone size-medium wp-image-756\" /></a>\r\n\r\nLet&#8217;s zoom & enhance on that PC tower. I&#8217;ll stub my toes on it, as I wander to and from the kitchen. And, that girl I like hanging out with will probably brain me with it. That thing is not going to fly.\r\n\r\nIdeally, I&#8217;d love to stash it under the couch. But, under the couch gives me only about 4&#8243; of clearance. I think most of the video cards I&#8217;m considering are taller than that, let alone the cases.\r\n\r\nOther options might include hiding it behind the couch, but only if it doesn&#8217;t have howling turbines that prevent the girl from taking the naps mentioned earlier. We also have an entertainment center, which could be an option if running cables across the room isn&#8217;t ugly and if they don&#8217;t become bunny food (see aforementioned headphones). Oh, and the entertainment center is poorly ventilated.\r\n\r\nMaybe behind the couch is the best option, assuming everything but the monitor is wireless.\r\n\r\n## <span id=\"Living_in_the_Post-PC_future\">Living in the Post-PC future</span>\r\n\r\nSo, assuming I get this display panel working and mounted, and I find a place to stick the PC case, now I have to figure out what to stick inside the case. My budget is not infinite, but I&#8217;m curious to see if I can keep it under $600. But, I&#8217;m so out of the DIY PC loop, that I don&#8217;t even know if that&#8217;s a sane ballpark for satisfying gaming.\r\n\r\nOn the one hand, I think I&#8217;m relatively easy to satisfy. After all, I&#8217;m putting up with games on this MacBook Pro that sometimes never get more than 15-20 FPS. Ideally, I&#8217;d like to blow well past that &#8211; that&#8217;s the whole point, really. But, I don&#8217;t need insane bells & whistles that I won&#8217;t appreciate on this 17&#8243; 1920&#215;1080 display. I&#8217;ll also never ever bother with 3D. It would just be nice, for once, to get high frame rates on at least last year&#8217;s games.\r\n\r\nThis is where my ideas run out, and I need to do more research and bug some friends. But, that&#8217;s okay, because I think this is a relatively boring part. What&#8217;s in the box is less interesting to me than where to put it and how to hook it up at the couch.\r\n\r\nStill, let&#8217;s see where I end up going with this. More updates after I get delivery of this LCD panel.\r\n\r\n [1]: http://www.sketchup.com/\r\n [2]: steamcommunity.com/id/lmorchard\r\n [3]: http://www.amazon.com/gp/product/B00578O5W4/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B00578O5W4\r\n [4]: http://www.ikea.com/us/en/catalog/products/00120818/\r\n [5]: http://www.amazon.com/gp/product/B001F42MKG/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B001F42MKG\r\n [6]: http://www.amazon.com/gp/product/B000IG1NFM/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B000IG1NFM \"Humanscale Keyboard, Standard Platform, 4G Mechanism with Clip Mouse and Gel Leather Palm Support\"\r\n [7]: https://sphotos-b.xx.fbcdn.net/hphotos-prn1/26116_383125243201_3986077_n.jpg\r\n [8]: http://www.amazon.com/gp/product/B005C31HC0/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B005C31HC0\r\n [9]: http://www.amazon.com/gp/product/B005GTNZUM/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B005GTNZUM\r\n [10]: http://www.amazon.com/gp/product/B001J30FZM/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B001J30FZM\r\n [11]: http://www.amazon.com/Apple-Wireless-Keyboard-MC184LL-VERSION/dp/B005DLDO4U/ref=sr_1_1?ie=UTF8&qid=1358748005&sr=8-1&keywords=apple+wireless\r\n [12]: http://www.amazon.com/gp/product/B0000BW01X/ref=as_li_ss_tl?ie=UTF8&tag=0xdecafbad01-20&linkCode=as2&camp=1789&creative=390957&creativeASIN=B0000BW01X\r\n [13]: http://www.ebay.com/itm/HDMI-VGA-DVI-Audio-LCD-controller-board-17-3-LP173WF1-1920-1080-lcd-panel-/170940546439?pt=LH_DefaultDomain_0&hash=item27ccd9bd87\r\n [14]: http://www.i3detroit.com/",
    "parentPath": "../blog.lmorchard.com/posts/archives/2013",
    "path": "2013/01/21/gaming-from-the-orchard-house-couch",
    "thumbnail": "http://blog.lmorchard.com/wp-content/uploads/2013/01/couch-gaming-1-laptop-300x238.png",
    "summary": "\n\n<p>I like playing video games; it&#x2019;s one of my favorite things in life. I also like hanging out with my wife; she&#x2019;s my favorite person in the world. This is a post about ensuring these two things can happen together. This is also a post where I played with SketchUp for the first time.</p>\n",
    "prevPostPath": "2013/01/23/naming-conventions",
    "nextPostPath": "2013/01/09/trifecta-59-intention"
  }
]