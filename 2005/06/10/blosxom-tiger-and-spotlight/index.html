<!DOCTYPE html>
    <html>
      <head>
        <title>Blosxom, Tiger, and Spotlight - blog.lmorchard.com</title>
        <meta property="og:type" content="article" />
        <meta property="og:site_name" content="blog.lmorchard.com" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="author" content="Les Orchard" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
        />
        <link
          rel="shortcut icon"
          href="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1?s=16"
        />

        <script
          defer
          data-domain="blog.lmorchard.com"
          src="https://analytics.lmorchard.com/js/plausible.js"
        ></script>

        <link
          rel="stylesheet"
          type="text/css"
          href="/blog.lmorchard.com/index.css"
        />
        <script type="module" src="/blog.lmorchard.com/index.js"></script>

        <link
          href="https://lmorchard.github.io/blog.lmorchard.com/index.rss"
          rel="alternate"
          title="blog.lmorchard.com"
          type="application/rss+xml"
        />

        <link
                href="/blog.lmorchard.com/index.rss"
                rel="alternate"
                title="blog.lmorchard.com"
                type="application/rss+xml"
              />
        <meta property="og:title" content="Blosxom, Tiger, and Spotlight" />
        <meta
          property="og:url"
          content="https://lmorchard.github.io/blog.lmorchard.com/2005/06/10/blosxom-tiger-and-spotlight/"
        />
      </head>
      <body>
        <header class="content-grid">
          <div class="masthead">
            <img src="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1.jpg?s=128" />
            <div class="title">
              <h1>
                <a href="/blog.lmorchard.com/" title="blog.lmorchard.com">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewBox="0 0 250 20"
                  >
                    <text
                      lengthAdjust="spacing"
                      fill="currentColor"
                      y="16"
                      textLength="240"
                      x="5"
                    >
                      blog.lmorchard.com
                    </text>
                  </svg>
                </a>
              </h1>
              <h2>
                <rotating-tagline
                  random
                  initial="1"
                  period="7000"
                  src="/blog.lmorchard.com/taglines.json"
                >
                  <a href="/blog.lmorchard.com/" title="It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="100%"
                      height="100%"
                      viewBox="0 0 250 20"
                    >
                      <text
                        class="tagline"
                        lengthAdjust="spacing"
                        fill="currentColor"
                        y="16"
                        textLength="240"
                        x="5"
                      >
                        It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.
                      </text>
                    </svg>
                  </a>
                </rotating-tagline>
              </h2>
            </div>
          </div>
          <nav class="main-nav">
            <div id="search"></div>
            <ul>
              <li>
                <a href="http://lmorchard.com/"
                  ><span class="fa fa-info-circle"></span> about me</a
                >
              </li>
              <li>
                <a href="/blog.lmorchard.com/archives.html"
                  ><span class="fa fa-archive"></span> archives</a
                >
              </li>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
              <li class="theme-selector">
                <theme-selector title="Enable dark theme">
                  <label>
                    <input type="checkbox" />
                    <span class="slider"></span>
                  </label>
                </theme-selector>
              </li>
            </ul>
          </nav>
        </header>

        <section class="main"><article
        data-pagefind-body
        class="content content-grid post "
      >
        <header>
          <time
            title="2005-06-10T09:53:10-04:00"
            pubdate="2005-06-10T09:53:10-04:00"
          >
            <span class="prevpost">
              <a
                title="Downloaded Brains versus VGER"
                href="/blog.lmorchard.com/2005/06/10/downloaded-brains-versus-vger/"
                >&nbsp;<span class="fa fa-long-arrow-left"></span>&nbsp;</a
              >
            </span>
            <span class="postdate">
              <a href="/blog.lmorchard.com/2005/"
                >2005</a
              >
              &#8226;
              <a href="/blog.lmorchard.com/2005/06/"
                >June</a
              >
              &#8226;
              <span>10</span>
            </span>
            <span class="nextpost">
              <a
                title="Post-Lunch Quicks"
                href="/blog.lmorchard.com/2005/06/09/post-lunch-quicks/"
                >&nbsp;<span class="fa fa-long-arrow-right"></span>&nbsp;</a
              >
            </span>
          </time>
          <h1 class="title">Blosxom, Tiger, and Spotlight</h1>
          
        </header>

        <p>Another tinkering project idea:  Use Spotlight and HFS Extended Attributes in OS X Tiger to build an enhanced rendition of Blosxom.  Blosxom already uses Unix file attributes to track blog posting dates, but now Spotlight offers indexes that are fairly easy to query via command line or scripts.  I think it could also be used to facilitate search within blog postings, which are just text files anyway.</p>
<p>  Take this further:  What if I could just set arbitrary name/value pairs on files and get them indexed?  Title, tags, related links, author-- all things that would have been inside the Blosxom entry.  But now, they're in the file system and subject to Spotlight indexing and queries.  Hell, what if I could do this for any kind of file, not just text files?</p>
<p>  On a mailing list, <a href="http://www.cocoabuilder.com/archive/message/cocoa/2005/5/4/134822">Lee Morgan asks this question</a>:</p>
<blockquote>
<p>I realize that the new HFS Extended Attributes are not exposed to the 
higher level API's yet, and also that Spotlight doesn't extract their 
contents during indexing. However I'm working on a application that 
would greatly benefit from Spotlight indexing this information. Is it 
possible to write a Spotlight importer that handles every file with 
out it interfering with other plug-ins? So that I can extract the 
extended attributes and add it to the Spotlight store.</p>
</blockquote>
<p>  If anything, <em>this</em> is my biggest disappointment with Tiger and Spotlight.  So close to an open database-like filesystem like BeFS, but so far away.</p>
<p>  As I understand it, the issue is this:  </p>
<ul>
<li>HFS Extended Attributes allow you to attach arbitrary name/value pairs to files-- ie. <code>lmoProject = "Client [#2345](/tag/2345)"</code>.</li>
<li>Spotlight indexes name/value metadata associated with files-- ie. <code>kMDItemDisplayName = "Unison"</code>.</li>
<li>However, Spotlight doesn't index the name/value metadata from HFS Extended Attributes.  Instead, the source of name/value data for Spotlight comes from importer plugins which interrogate file contents.  Huh, that kinda sucks: HFS metadata and Spotlight indexing seem made for each other.</li>
<li>Spotlight importers are are keyed on the <code>kMDItemContentType</code> of a file and there can be only one Spotlight importer per file type.  Hmm, that seems limiting.</li>
</ul>
<p>My sad conclusion?  Since there can only be one Spotlight importer per type, and none of these handle HFS Extended Attributes, there's no way I can see to somehow hack support for an HFS Extended Attribute importer into Spotlight across all file types without either replacing all importers or hacking the Spotlight core itself.</p>
<p>I suppose I could create a "new" file type that's really just a text file, but create an importer that can read RFC822-inspired headers in blog postings and index those.  </p>
<p>But I'd really like to rev things up by including MP3s (podcasts), MOVs (screencasts), and lots of other things besides text.  However, I want to apply my own arbitrary metadata to them--like tags and related links and contributors and such.  Instead, I'm stuck with whatever existing importers supply.  </p>
<p>Granted, there <em>is</em> a lot that these importers supply, which is better than nothing and there are certainly some ways I can think to hack things... But, it's just shy of being great.</p>
<div id="comments" class="comments archived-comments"><h3>Archived Comments</h3>
<ul class="comments">
<li class="comment" id="comment-221083831">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://plasmasturm.org/"><img src="http://www.gravatar.com/avatar.php?gravatar_id=e17949267bbfe21a0fadf1bbf00592b4&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://plasmasturm.org/">Aristotle Pagaltzis</a>
</div>


<p><a href="#comment-221083831" class="permalink"><time datetime="2005-06-11T01:44:42">2005-06-11T01:44:42</time></a></p>
</div>


<div class="content">The importer interface is public, right? Is there anything that prevents someone from writing an importer that handles all files, but doesn't actually do anything, and just passes calls through to any number of other importers that it calls on without the aid of Spotlight?</div>


</li>
<li class="comment" id="comment-221083832">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://www.fluffy.co.uk/spotmeta/"><img src="http://www.gravatar.com/avatar.php?gravatar_id=a660afb8f1f22ce1b03ad3b532aa05b5&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://www.fluffy.co.uk/spotmeta/">Ben Summers</a>
</div>


<p><a href="#comment-221083832" class="permalink"><time datetime="2005-10-20T14:58:11">2005-10-20T14:58:11</time></a></p>
</div>


<div class="content"><p><a href="http://www.fluffy.co.uk/spotmeta/" rel="nofollow">SpotMeta</a> extends Spotlight so you can add arbitrary metadata. It uses xattrs to store them, and is written in such a way that other developers can easily use them too.</p></div>


</li>
</ul>


</div>

        
      </article>

      <section class="posts-nav content-grid">
        <span class="prev-post">
            <span
              ><a href="/blog.lmorchard.com/2005/06/10/downloaded-brains-versus-vger/"
                >Downloaded Brains versus VGER</a
              ></span
            >
            <span
              ><span class="fa fa-long-arrow-left"></span>&nbsp;Previous</span
            >
          </span>
        <span class="next-post">
            <span
              ><a href="/blog.lmorchard.com/2005/06/09/post-lunch-quicks/"
                >Post-Lunch Quicks</a
              ></span
            >
            <span>Next&nbsp;<span class="fa fa-long-arrow-right"></span></span>
          </span>
      </section></section>

        <footer class="content-grid">
          <div class="left">
            © 2024 Les Orchard &lt;<a href="mailto:me@lmorchard.com"
              >me@lmorchard.com</a
            >&gt;
          </div>
          <img id="growup" src="/blog.lmorchard.com/uploads/growup.jpg" />
          <nav class="right">
            <ul>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
            </ul>
          </nav>
        </footer>
      </body>
    </html>