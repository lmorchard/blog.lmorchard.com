<!DOCTYPE html>
    <html>
      <head>
        <title>An unnecessary Template Attribute Language - blog.lmorchard.com</title>
        <meta property="og:type" content="article" />
        <meta property="og:site_name" content="blog.lmorchard.com" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="author" content="Les Orchard" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
        />
        <link
          rel="shortcut icon"
          href="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1?s=16"
        />

        <script
          defer
          data-domain="blog.lmorchard.com"
          src="https://analytics.lmorchard.com/js/plausible.js"
        ></script>

        <link
          rel="stylesheet"
          type="text/css"
          href="/blog.lmorchard.com/index.css"
        />
        <script type="module" src="/blog.lmorchard.com/index.js"></script>

        <link
          href="https://lmorchard.github.io/blog.lmorchard.com/index.rss"
          rel="alternate"
          title="blog.lmorchard.com"
          type="application/rss+xml"
        />

        <link
                href="/blog.lmorchard.com/index.rss"
                rel="alternate"
                title="blog.lmorchard.com"
                type="application/rss+xml"
              />
        <meta property="og:title" content="An unnecessary Template Attribute Language" />
        <meta
          property="og:url"
          content="https://lmorchard.github.io/blog.lmorchard.com/2008/11/01/an-unnecessary-template-attribute-language/"
        />
      </head>
      <body>
        <header class="content-grid">
          <div class="masthead">
            <img src="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1.jpg?s=128" />
            <div class="title">
              <h1>
                <a href="/blog.lmorchard.com/" title="blog.lmorchard.com">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewBox="0 0 250 20"
                  >
                    <text
                      lengthAdjust="spacing"
                      fill="currentColor"
                      y="16"
                      textLength="240"
                      x="5"
                    >
                      blog.lmorchard.com
                    </text>
                  </svg>
                </a>
              </h1>
              <h2>
                <rotating-tagline
                  random
                  initial="1"
                  period="7000"
                  src="/blog.lmorchard.com/taglines.json"
                >
                  <a href="/blog.lmorchard.com/" title="It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="100%"
                      height="100%"
                      viewBox="0 0 250 20"
                    >
                      <text
                        class="tagline"
                        lengthAdjust="spacing"
                        fill="currentColor"
                        y="16"
                        textLength="240"
                        x="5"
                      >
                        It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.
                      </text>
                    </svg>
                  </a>
                </rotating-tagline>
              </h2>
            </div>
          </div>
          <nav class="main-nav">
            <div id="search"></div>
            <ul>
              <li>
                <a href="http://lmorchard.com/"
                  ><span class="fa fa-info-circle"></span> about me</a
                >
              </li>
              <li>
                <a href="/blog.lmorchard.com/archives.html"
                  ><span class="fa fa-archive"></span> archives</a
                >
              </li>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
              <li class="theme-selector">
                <theme-selector title="Enable dark theme">
                  <label>
                    <input type="checkbox" />
                    <span class="slider"></span>
                  </label>
                </theme-selector>
              </li>
            </ul>
          </nav>
        </header>

        <section class="main"><article
        data-pagefind-body
        class="content content-grid post tag-webdevtag-jstag-javascripttag-entriestag-jquerytag-zopetag-zpttag-taltag-templates"
      >
        <header>
          <time
            title="2008-11-01T15:23:23-04:00"
            pubdate="2008-11-01T15:23:23-04:00"
          >
            <span class="prevpost">
              <a
                title="The Concise Guide to Dojo is a real book!"
                href="/blog.lmorchard.com/2008/12/19/the-concise-guide-to-dojo-is-a-real-book/"
                >&nbsp;<span class="fa fa-long-arrow-left"></span>&nbsp;</a
              >
            </span>
            <span class="postdate">
              <a href="/blog.lmorchard.com/2008/"
                >2008</a
              >
              &#8226;
              <a href="/blog.lmorchard.com/2008/11/"
                >November</a
              >
              &#8226;
              <span>01</span>
            </span>
            <span class="nextpost">
              <a
                title="Jelly Stains and Web Masons"
                href="/blog.lmorchard.com/2008/10/29/jelly-stains-and-web-masons/"
                >&nbsp;<span class="fa fa-long-arrow-right"></span>&nbsp;</a
              >
            </span>
          </time>
          <h1 class="title">An unnecessary Template Attribute Language</h1>
          <ul class="tags">
              <li><a href="/blog.lmorchard.com/tag/webdev/">webdev</a></li><li><a href="/blog.lmorchard.com/tag/js/">js</a></li><li><a href="/blog.lmorchard.com/tag/javascript/">javascript</a></li><li><a href="/blog.lmorchard.com/tag/entries/">entries</a></li><li><a href="/blog.lmorchard.com/tag/jquery/">jquery</a></li><li><a href="/blog.lmorchard.com/tag/zope/">zope</a></li><li><a href="/blog.lmorchard.com/tag/zpt/">zpt</a></li><li><a href="/blog.lmorchard.com/tag/tal/">tal</a></li><li><a href="/blog.lmorchard.com/tag/templates/">templates</a></li>
            </ul>
        </header>

        <p>A funny thing happened on the way to building <a href="http://svn.mozilla.org/projects/lizardfeeder/trunk/">a delayed real-time feed display</a>:  I got temporarily obsessed with implementing <a href="http://github.com/lmorchard/jquery-tal-template/tree/master">a template language in JavaScript</a> that, as it turned out later, I didn't need.  About <a href="http://svn.mozilla.org/projects/lizardfeeder/trunk/">the feed project itself</a>, I hope to write more soon—but for now I want to get this extra template language thing out of my system and see if anyone else might have a use for it.</p>
<p>See, I had a notion it would be keen if I had access to the same template language on the client as on the server.  I needed to render a number of list items statically on the server with feed entries, then update that list with new entries on the client as they became available through JSON feed polling.  It'd be a pain in the butt to maintain two separate list item templates for client and server, so I reached for a shared template language.</p>
<p>Never mind that I'd just gotten done writing <a href="http://www.amazon.com/gp/product/0470452021?ie=UTF8&amp;tag=0xdecafbad01-20&amp;linkCode=as2&amp;camp=1789&amp;c%0D%0Areative=9325&amp;creativeASIN=0470452021">a small book on Dojo</a>, and was already aware of the existence of the <a href="http://svn.dojotoolkit.org/src/dojox/trunk/dtl/README">DojoX Django Template Language</a>.  This might've worked, since the server end of things was written in Python (though not with Django).  That the JavaScript side already used <a href="http://jquery.com/">jQuery</a> wasn't <em>too</em> tall a hurdle.  Also, I'm sure there are a handful of other JavaScript/Python template language match-ups to be found.</p>
<p>But, let's be honest here:  I've always been a fan of Zope's <a href="http://wiki.zope.org/ZPT/TALSpecification14">Template Attribute Language</a> for their <a href="http://wiki.zope.org/ZPT/FrontPage">Page Templates</a>, and have long wondered how hard it would be to implement.  The concept seems so much cleaner to me than most string-formatting template languages, and the workflow from mockup-to-template and back again has always been appealing to me when it works.  So, when my first few experimental steps in trying my hand at it actually started working, I couldn't stop coding.  </p>
<p>And now, <a href="http://github.com/lmorchard/jquery-tal-template/tree/master/jquery.taltemplate.js">the thing</a> is mostly done.  It has no tests, has features left undone, and probably yields plenty of bugs—but I finished it enough to use it practically, and that was long enough to convince me it wasn't the right tool for the job.  </p>
<p>Still, though, I can't help thinking it might be the right tool for <em>some</em> job.  That could be because I spent a lot of time on it, or that I'm unreasonably fond of <a href="http://wiki.zope.org/ZPT/TALSpecification14">TAL</a>, but it still feels like a decent little plugin to have on hand.  Maybe someone reading this will have a similar conclusion.</p>
<p>Oh and by the way, plain <a href="http://jquery.com/">jQuery</a> turned out to be a better tool for <a href="http://svn.mozilla.org/projects/lizardfeeder/trunk/">the job in question</a>.  This seems to nicely balance the duplicate effort between server and client, demanding only that I stick with semantically significant CSS class names in the server template—something I should be doing anyway:</p>
<pre><code>        // Clone and populate a new entry.
        var new_item = $('#feed-items .entry:last')
            .clone()
            .attr('class', entry_classes.join(' ')) 
            .find('.group span')
                .text(tags['group'])
            .end()
            .find('.title')
                .find('.favicon')
                    .attr('src', favicon)
                .end()
                .find('.link')
                    .attr('href', entry.link)
                    .text(entry.title)
                .end()
            .end()
            .find('.updated')
                .find('.timeago')
                    .attr('title', entry.updated)
                    .text(entry_updated.strftime('%+'))
                    .timeago()
                .end()
                .find('.time')
                    .text(entry_updated.strftime('%I:%M %p'))
                .end()
            .end()
            .find('.author')
                .text(entry.author || 'n/a')
            .end()
            .prependTo('#feed-items')
            .hide();
</code></pre>
<p>Of course, <em>plain</em> is a relative term here.</p>
<div id="comments" class="comments archived-comments"><h3>Archived Comments</h3>
<ul class="comments">
<li class="comment" id="comment-221083366">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href=""><img src="http://www.gravatar.com/avatar.php?gravatar_id=3f398029eea744ce9ba9147aab627557&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="">brad clements</a>
</div>


<p><a href="#comment-221083366" class="permalink"><time datetime="2008-11-03T21:26:42">2008-11-03T21:26:42</time></a></p>
</div>


<div class="content"><p>Groan,</p>
<p>Too bad I haven't had a chance to finish documenting (and tweaking) the ATALi project.</p>
<p>It's a collection of Alternative TAL Implementations.</p>
<p>It currently has TAL for xslt (server side using libxslt directly or via lxml with metal support)</p>
<p>and TAL for javascript (no libraries needed, though it does recognize mochikit iterators, no metal)</p>
<p>https://launchpad.net/atali</p></div>


</li>
<li class="comment" id="comment-221083367">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://www.jm3.net/"><img src="http://disqus.com/api/users/avatars/jm3.jpg" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://www.jm3.net/">John Manoogian III (jm3)</a>
</div>


<p><a href="#comment-221083367" class="permalink"><time datetime="2008-11-24T18:51:17">2008-11-24T18:51:17</time></a></p>
</div>


<div class="content"><p>Have you seen "trimpath"?</p>
<p>http://code.google.com/p/trimpath/wiki/JavaScriptTemplates</p></div>


</li>
</ul>


</div>

        
      </article>

      <section class="posts-nav content-grid">
        <span class="prev-post">
            <span
              ><a href="/blog.lmorchard.com/2008/12/19/the-concise-guide-to-dojo-is-a-real-book/"
                >The Concise Guide to Dojo is a real book!</a
              ></span
            >
            <span
              ><span class="fa fa-long-arrow-left"></span>&nbsp;Previous</span
            >
          </span>
        <span class="next-post">
            <span
              ><a href="/blog.lmorchard.com/2008/10/29/jelly-stains-and-web-masons/"
                >Jelly Stains and Web Masons</a
              ></span
            >
            <span>Next&nbsp;<span class="fa fa-long-arrow-right"></span></span>
          </span>
      </section></section>

        <footer class="content-grid">
          <div class="left">
            © 2024 Les Orchard &lt;<a href="mailto:me@lmorchard.com"
              >me@lmorchard.com</a
            >&gt;
          </div>
          <img id="growup" src="/blog.lmorchard.com/uploads/growup.jpg" />
          <nav class="right">
            <ul>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
            </ul>
          </nav>
        </footer>
      </body>
    </html>