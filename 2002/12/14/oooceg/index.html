<!DOCTYPE html>
    <html>
      <head>
        <title>Think of everything but the obvious first - blog.lmorchard.com</title>
        <meta property="og:type" content="article" />
        <meta property="og:site_name" content="blog.lmorchard.com" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="author" content="Les Orchard" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
        />
        <link
          rel="shortcut icon"
          href="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1?s=16"
        />

        <script
          defer
          data-domain="blog.lmorchard.com"
          src="https://analytics.lmorchard.com/js/plausible.js"
        ></script>

        <link
          rel="stylesheet"
          type="text/css"
          href="/blog.lmorchard.com/index.css"
        />
        <script type="module" src="/blog.lmorchard.com/index.js"></script>

        <link
          href="https://lmorchard.github.io/blog.lmorchard.com/index.rss"
          rel="alternate"
          title="blog.lmorchard.com"
          type="application/rss+xml"
        />

        <link
                href="/blog.lmorchard.com/index.rss"
                rel="alternate"
                title="blog.lmorchard.com"
                type="application/rss+xml"
              />
        <meta property="og:title" content="Think of everything but the obvious first" />
        <meta
          property="og:url"
          content="https://lmorchard.github.io/blog.lmorchard.com/2002/12/14/oooceg/"
        />
        
        <meta property="og:description" content="Today&#39;s revelation while tinkering with my PersonalWebProxy:  Decompressed content is larger than compressed content.  
See, I was decompressing gzipped content streams in the proxy in order to fiddle with the content before it got to the browser, but then I noticed that browsers kept only displaying part of the content.  I remove the in-proxy decompression, things are fine.  Put it back in, things get cut short.  I poke for a few hours at various bits and parts, to no avail.  
Then, finally I remember...  &quot;Hey, you know, I think browsers pay attention to that Content-Length header.  And hey, you know...  decompressed content is larger than compressed content.&quot;  Bingo.  Problem solved by keeping the Content-Length header updated with the length of modified content.  This makes me feel very dumb, because it&#39;s not like I haven&#39;t written a handful or two both of HTTP clients and servers.  And I&#39;ve written code that uses the Content-Length header, over and over again.  I&#39;d&#39;ve thought this would be something I&#39;d remember more quickly.
More often than I&#39;d like to admit, remembering simple and obvious things like the above are what unlock problems that I&#39;d been banging my head against.  The last revelation of this nature I had while frustrated at a project at work was:  &quot;Not all months are 31 days.&quot;  And before that, &quot;Not all days in a year are 24 hours long, due daylight savings time.&quot;
Trying to think of more, but I thought I&#39;d share. Maybe I&#39;ll start a wiki topic for sage bits of the ObviousInHindsight." />
      </head>
      <body>
        <header class="content-grid">
          <div class="masthead">
            <img src="https://www.gravatar.com/avatar/b45c48fc9e05922e2f368a9d7d7d8de1.jpg?s=128" />
            <div class="title">
              <h1>
                <a href="/blog.lmorchard.com/" title="blog.lmorchard.com">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    viewBox="0 0 250 20"
                  >
                    <text
                      lengthAdjust="spacing"
                      fill="currentColor"
                      y="16"
                      textLength="240"
                      x="5"
                    >
                      blog.lmorchard.com
                    </text>
                  </svg>
                </a>
              </h1>
              <h2>
                <rotating-tagline
                  random
                  initial="1"
                  period="7000"
                  src="/blog.lmorchard.com/taglines.json"
                >
                  <a href="/blog.lmorchard.com/" title="It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="100%"
                      height="100%"
                      viewBox="0 0 250 20"
                    >
                      <text
                        class="tagline"
                        lengthAdjust="spacing"
                        fill="currentColor"
                        y="16"
                        textLength="240"
                        x="5"
                      >
                        It&#39;s all spinning wheels &amp; self-doubt until the first pot of coffee.
                      </text>
                    </svg>
                  </a>
                </rotating-tagline>
              </h2>
            </div>
          </div>
          <nav class="main-nav">
            <div id="search"></div>
            <ul>
              <li>
                <a href="http://lmorchard.com/"
                  ><span class="fa fa-info-circle"></span> about me</a
                >
              </li>
              <li>
                <a href="/blog.lmorchard.com/archives.html"
                  ><span class="fa fa-archive"></span> archives</a
                >
              </li>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
              <li class="theme-selector">
                <theme-selector title="Enable dark theme">
                  <label>
                    <input type="checkbox" />
                    <span class="slider"></span>
                  </label>
                </theme-selector>
              </li>
            </ul>
          </nav>
        </header>

        <section class="main"><article
        data-pagefind-body
        class="content content-grid post "
      >
        <header>
          <time
            title="2002-12-14T15:57:01-05:00"
            pubdate="2002-12-14T15:57:01-05:00"
          >
            <span class="prevpost">
              <a
                title="On the road to a PersonalWebProxy"
                href="/blog.lmorchard.com/2002/12/18/oooceh/"
                >&nbsp;<span class="fa fa-long-arrow-left"></span>&nbsp;</a
              >
            </span>
            <span class="postdate">
              <a href="/blog.lmorchard.com/2002/"
                >2002</a
              >
              &#8226;
              <a href="/blog.lmorchard.com/2002/12/"
                >December</a
              >
              &#8226;
              <span>14</span>
            </span>
            <span class="nextpost">
              <a
                title="THe LazyWeb delivers?"
                href="/blog.lmorchard.com/2002/12/13/ooocef/"
                >&nbsp;<span class="fa fa-long-arrow-right"></span>&nbsp;</a
              >
            </span>
          </time>
          <h1 class="title">Think of everything but the obvious first</h1>
          
        </header>

        <p>Today's revelation while tinkering with my <a href="http://www.decafbad.com/twiki/bin/view/Main/PersonalWebProxy">PersonalWebProxy</a>:  Decompressed content is larger than compressed content.  </p>
<p>See, I was decompressing gzipped content streams in the proxy in order to fiddle with the content before it got to the browser, but then I noticed that browsers kept only displaying part of the content.  I remove the in-proxy decompression, things are fine.  Put it back in, things get cut short.  I poke for a few hours at various bits and parts, to no avail.  </p>
<p>Then, finally I remember...  "Hey, you know, I think browsers pay attention to that Content-Length header.  And hey, you know...  decompressed content is larger than compressed content."  Bingo.  Problem solved by keeping the Content-Length header updated with the length of modified content.  This makes me feel very dumb, because it's not like I haven't written a handful or two both of HTTP clients and servers.  And I've written code that uses the Content-Length header, over and over again.  I'd've thought this would be something I'd remember more quickly.</p>
<p>More often than I'd like to admit, remembering simple and obvious things like the above are what unlock problems that I'd been banging my head against.  The last revelation of this nature I had while frustrated at a project at work was:  "Not all months are 31 days."  And before that, "Not all days in a year are 24 hours long, due daylight savings time."</p>
<p>Trying to think of more, but I thought I'd share. Maybe I'll start a wiki topic for sage bits of the <a href="http://www.decafbad.com/twiki/bin/view/Main/ObviousInHindsight">ObviousInHindsight</a>.


</p>


<!--more-->


<p>shortname=oooceg</p>
<div id="comments" class="comments archived-comments"><h3>Archived Comments</h3>
<ul class="comments">
<li class="comment" id="comment-221087820">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://www.perceive.net"><img src="http://www.gravatar.com/avatar.php?gravatar_id=9e76d0bf99487acc610624122a6317f3&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://www.perceive.net">Eric Vitiello</a>
</div>


<p><a href="#comment-221087820" class="permalink"><time datetime="2002-12-14T17:55:33">2002-12-14T17:55:33</time></a></p>
</div>


<div class="content">I find that 80% of my programming time is spent solving obvious and mundane problems.  The other 20% is actually productive...  If I could fins a way to get past the things that make me smack my head, I'd be a programming god.</div>


</li>
<li class="comment" id="comment-221087821">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://little-bits.blogspot.com"><img src="http://www.gravatar.com/avatar.php?gravatar_id=808b65db5da2d018b3b034e2b69821e6&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://little-bits.blogspot.com">Paul Morriss</a>
</div>


<p><a href="#comment-221087821" class="permalink"><time datetime="2002-12-19T12:03:09">2002-12-19T12:03:09</time></a></p>
</div>


<div class="content">I spent a while working on a system for PowerGen, a UK electricity company. Electricity is traded here in half hour slots and I reckon I spent about 25% of my time coding to cope with the time when there are 46 or 50 half hour slots in a day sometimes.
There were all sorts of calculations that needed to be done for the generators to do with ramping up and ramping down and changing output. The companies promised never to change anything during the autumn/fall clock change when we had a "repeated" hour.</div>


</li>
<li class="comment" id="comment-221087824">
<div class="meta">
<div class="author">
<a class="avatar image" rel="nofollow" href="http://yarinareth.net/caveatlector/"><img src="http://www.gravatar.com/avatar.php?gravatar_id=def808e6072af95b27c6d298fbb05a2b&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png" width="" height=""></a>
<a class="avatar name" rel="nofollow" href="http://yarinareth.net/caveatlector/">Dorothea Salo</a>
</div>


<p><a href="#comment-221087824" class="permalink"><time datetime="2002-12-19T19:52:38">2002-12-19T19:52:38</time></a></p>
</div>


<div class="content">Ah, yes, the "I am SUCH an idiot!" moments. I dearly *hope* they happen to everyone.
'Cuz if they don't... man, I am *such* an idiot!</div>


</li>
</ul>


</div>

        
      </article>

      <section class="posts-nav content-grid">
        <span class="prev-post">
            <span
              ><a href="/blog.lmorchard.com/2002/12/18/oooceh/"
                >On the road to a PersonalWebProxy</a
              ></span
            >
            <span
              ><span class="fa fa-long-arrow-left"></span>&nbsp;Previous</span
            >
          </span>
        <span class="next-post">
            <span
              ><a href="/blog.lmorchard.com/2002/12/13/ooocef/"
                >THe LazyWeb delivers?</a
              ></span
            >
            <span>Next&nbsp;<span class="fa fa-long-arrow-right"></span></span>
          </span>
      </section></section>

        <footer class="content-grid">
          <div class="left">
            © 2024 Les Orchard &lt;<a href="mailto:me@lmorchard.com"
              >me@lmorchard.com</a
            >&gt;
          </div>
          <img id="growup" src="/blog.lmorchard.com/uploads/growup.jpg" />
          <nav class="right">
            <ul>
              <li>
                <a href="https://lmorchard.github.io/blog.lmorchard.com/index.rss" title="blog.lmorchard.com"
                  ><span class="fa fa-rss"></span> feed</a
                >
              </li>
            </ul>
          </nav>
        </footer>
      </body>
    </html>