{"comments_archived":true,"date":"2002-09-18T00:00:00.000Z","layout":"post","title":"TWiki + Automatic MT-Search = WeblogWithWiki","wordpress_id":256,"wordpress_slug":"ooobho","wordpress_url":"http://www.decafbad.com/blog/?p=256","url":"/2002/09/18/ooobho/","summary":"<p></p><p>I just discovered and integrated <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTSearch\">MTSearch</a> into <a href=\"http://www.decafbad.com/twiki/bin/view/Main/DecafbadWiki\">DecafbadWiki</a> by using a TWiki include to pull in a search constructed with the current wiki topic&apos;s name.  It took all of 15 minutes, including the time to login and download <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTSearch\">MTSearch</a> to my server.  This, along with my <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTXmlRpcFilterPlugin\">MTXmlRpcFilterPlugin</a>, completes a simple but effective automatic loop between blog and wiki.  I think this pretty much satisfies my original goal of a <a href=\"http://www.decafbad.com/twiki/bin/view/Main/WeblogWithWiki\">WeblogWithWiki</a>.  </p><p></p>\n<p></p><p>That was <strong>so</strong> much easier than I&apos;d thought it would be.  One of those things I kept thinking &quot;Wouldn&apos;t it be nice if?&quot; but kept procrastinating because I thought it&apos;d be so much harder.</p><p></p>\n<p></p><p>I&apos;m still amazed that <a href=\"http://www.decafbad.com/twiki/bin/view/Main/ItJustWorks\">ItJustWorks</a>.</p>\n","path":"2002/09/18/ooobho","content":"<p><p>I just discovered and integrated <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTSearch\">MTSearch</a> into <a href=\"http://www.decafbad.com/twiki/bin/view/Main/DecafbadWiki\">DecafbadWiki</a> by using a TWiki include to pull in a search constructed with the current wiki topic&#39;s name.  It took all of 15 minutes, including the time to login and download <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTSearch\">MTSearch</a> to my server.  This, along with my <a href=\"http://www.decafbad.com/twiki/bin/view/Main/MTXmlRpcFilterPlugin\">MTXmlRpcFilterPlugin</a>, completes a simple but effective automatic loop between blog and wiki.  I think this pretty much satisfies my original goal of a <a href=\"http://www.decafbad.com/twiki/bin/view/Main/WeblogWithWiki\">WeblogWithWiki</a>.  </p></p>\n<p><p>That was <strong>so</strong> much easier than I&#39;d thought it would be.  One of those things I kept thinking &quot;Wouldn&#39;t it be nice if?&quot; but kept procrastinating because I thought it&#39;d be so much harder.</p></p>\n<p><p>I&#39;m still amazed that <a href=\"http://www.decafbad.com/twiki/bin/view/Main/ItJustWorks\">ItJustWorks</a>.</p>\n<!--more-->\nshortname=ooobho</p>\n<div id=\"comments\" class=\"comments archived-comments\">\n            <h3>Archived Comments</h3>\n\n        <ul class=\"comments\">\n\n        <li class=\"comment\" id=\"comment-221082678\">\n            <div class=\"meta\">\n                <div class=\"author\">\n                    <a class=\"avatar image\" rel=\"nofollow\" \n                       href=\"http://www.10500bc.org\"><img src=\"http://www.gravatar.com/avatar.php?gravatar_id=6492f173a7059ece309f7d670ff44e95&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png\"/></a>\n                    <a class=\"avatar name\" rel=\"nofollow\" \n                       href=\"http://www.10500bc.org\">nf0</a>\n                </div>\n                <a href=\"#comment-221082678\" class=\"permalink\"><time datetime=\"2002-09-18T12:59:57\">2002-09-18T12:59:57</time></a>\n            </div>\n            <div class=\"content\">So is this something us common folk can do? :)</div>\n\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082680&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=2ac2cffd36ada8c734b90e02a1e5c1ac&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;l.m.orchard&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082680&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-09-18T13:21:53&quot;&gt;2002-09-18T13:21:53&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;What, I&#39;m not common folk too?  hehe..  Okay, here&#39;s what I did:\n</code></pre><p>1) I installed MT-Search, which is pretty much just unpacking it and copying a few things around.</p>\n<p>2) I made an alternate template for search results, which I stripped down to nothing but an unordered list.  This basically entailed copying the default.tmpl in the search_templates directory and deleting most of the file.</p>\n<p>3) I added this toward the bottom of my view.tmpl in TWiki:</p>\n<p>---++ Related weblog entries\n%INCLUDE{&quot;<a href=\"http://www.decafbad.com/mt/mt-search.cgi?Template=wikiblog&amp;search=%TOPIC%&quot;}%\">http://www.decafbad.com/mt/mt-search.cgi?Template=wikiblog&amp;search=%TOPIC%&quot;}%</a></p>\n<p>It was really easy to get going for me.  I&#39;m using MT with MySQL, so I&#39;m not sure if the old non-MySQL installs would have a different experience installing MT-Search, but I doubt it.</p>\n<p>Hope that helps :)</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082681&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=6492f173a7059ece309f7d670ff44e95&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;nf0&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082681&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-09-18T17:54:23&quot;&gt;2002-09-18T17:54:23&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Cool stuff got it going. Only thing weird happening is that its putting a number above and below the results, maybe some kinda word count. I can live with that, i don&#39;t have a great looking wiki anyway :) It seems to be a lot slower on my server than yours, probably my host, its slower than most.\n</code></pre><p>Anyway great hack!! Thanks!</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082682&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=6492f173a7059ece309f7d670ff44e95&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;nf0&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082682&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-09-19T16:16:34&quot;&gt;2002-09-19T16:16:34&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Well i had to turn it off today. For some reason it was causing the RSS feed to render way slow, slowing down the whole site. At least that what i suspect. I know there are sepearte templates for RSS, but maybe it was reading in each topic when it displays it? I&#39;m not sure i&#39;ll have to poke around with it some more. Once i removed the includes in the view template things were back to normal. I plan on looking into this tonight.&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082683&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=2ac2cffd36ada8c734b90e02a1e5c1ac&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;l.m.orchard&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082683&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-09-19T17:05:22&quot;&gt;2002-09-19T17:05:22&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Ack, that&#39;s no good :(  I&#39;ll have to look into that, since I have a referrer script call attached to the view template too.  I wonder if the TWiki search functions render the view.tmpl, and if there&#39;s some conditional to throw in to not render certain things during a search.  I seem to remember seeing something like that, and I seem to remember that the RSS feed uses that search.\n</code></pre><p>I could be completely wrong though</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082684&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=6492f173a7059ece309f7d670ff44e95&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;nf0&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082684&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-09-20T22:05:41&quot;&gt;2002-09-20T22:05:41&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;I&#39;ve done some more looking around, and it doesn&#39;t appear that rendering the RSS feed makes any search calls. So i&#39;m not exactly sure why that includes slow it down so much. It could very well just be my host. Yours seems to load just as fast as always, guess thats another reason to look at moving to a new host soon.&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221082685&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=6492f173a7059ece309f7d670ff44e95&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.10500bc.org&quot;&gt;nf0&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221082685&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2002-12-11T23:13:05&quot;&gt;2002-12-11T23:13:05&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;I know its been a while since we discussed this, but i just had a brain fart. Since it takes a while for it to search my blog, i&#39;m guessing its because i have 2500+ entries, I created this link that will just let people click to searh. Should have thought of this sooner.\n</code></pre><p>[[<a href=\"http://www.10500bc.org/mt/mt-search.cgi?Template=wikiblog&amp;search=%TOPIC%][Search\">http://www.10500bc.org/mt/mt-search.cgi?Template=wikiblog&amp;search=%TOPIC%][Search</a> Blog For More Entries]]</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;/ul&gt;\n\n    &lt;/div&gt;\n</code></pre>"}