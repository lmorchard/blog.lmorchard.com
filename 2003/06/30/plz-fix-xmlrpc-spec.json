{"comments_archived":true,"date":"2003-06-30T00:00:00.000Z","layout":"post","title":"Please fix the XML-RPC spec","wordpress_id":434,"wordpress_slug":"plz-fix-xmlrpc-spec","wordpress_url":"http://www.decafbad.com/blog/?p=434","url":"/2003/06/30/plz-fix-xmlrpc-spec/","summary":"<p>I&apos;ve written before that <a href=\"http://www.decafbad.com/blog/tech/old/oooccb.html\" target=\"_top\">I love XML-RPC</a>, and\nthat it has served me well in the past couple of years.  I think it&apos;s the right tool for a broad\nrange of jobs.  But, after having studied the spec, and after having implemented it in a handful\nof languages for a handful of well-used apps, I think the spec needs just a bit of fixing.\n<br><br>\nIn particular, the spec needs a tweak with regards to this &quot;ASCII limitation&quot;.  There is confusion\nabout this, period.  I&apos;ve had to hash this out with clients before, this \n<a href=\"http://www.jspwiki.org/Wiki.jsp?page=WikiRPCInterfaceUTF8VsBase64\" target=\"_top\">was an issue of note</a> while\nworking out an <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpcToWiki\" target=\"_top\">XML-RPC based Wiki API</a>,\nand it&apos;s obviously an issue in many other projects.  This, of course, includes the current\n<a href=\"http://www.sixapart.com/log/2003/06/why_we_need_ech.shtml\" target=\"_top\">hubbub surrounding weblog APIs and whatnot</a>.\n<br><br>\nSo, please fix the spec.  It shouldn&apos;t take long to make this issue a non-issue by some simple\nclarification in the main <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> to which everyone refers.\n<br><br>\nYes, I know there&apos;s a bit of clarification at the end of the spec, involving escaping (\n<a href=\"http://tbray.org/ongoing/When/200x/2003/06/28/Learning\" target=\"_top\">not encoding</a>) &lt; and &amp; along\nwith the statement that &quot;A string can be used to encode binary data.&quot;<br><br><br>\nWell, yeah, I do that\nall the time with <a href=\"http://www.fourmilab.ch/webtools/base64/rfc1341.html\" target=\"_top\">Base64</a>.  And, since\nthe spec earlier had called for &quot;ASCII&quot;, I assume that&apos;s what <a href=\"http://dictionary.reference.com/search?q=encoding\" target=\"_top\">encoding</a>\nbinary data means in the context of this spec.  To me, encoding implies a transformation \nfrom original form to some other form later requiring decoding.\n<br><br>\nBut, apparently, my interpretation and \n<a href=\"http://www.intertwingly.net/blog/1498.html#c1056921193\" target=\"_top\">the interpretation of others</a>\nis wrong on that score.  But still, I&apos;ve been confused, and so have others.  Consider this a bug report.\n<br><br>\nI&apos;ve been referred <a href=\"http://www.effbot.org/zone/xmlrpc-ascii.htm\" target=\"_top\">by Fredrik Lundh</a> (<a href=\"http://scriptingnews.userland.com/2003/06/29#When:6:21:27AM\" target=\"_top\">via Dave Winer</a>), \nto &quot;private conversations&quot;,\n&quot;various public fora&quot;, and &quot;early archives for the XML-RPC mailing list&quot;.  And, again by Fredrik Lundh,\n<a href=\"http://www.effbot.org/zone/xmlrpc-ascii.htm\" target=\"_top\">I&apos;m told</a>:</p>\n<p><blockquote><i>But even if you don&apos;t know all this, it&apos;s not that hard to figure it out for\nyourself. Just make sure you read and digest the entire specification, apply some common sense\nto sort out the contradictions, and you&apos;ll find that it&apos;s pretty obvious that the intent is that\nyou can use any character allowed by XML.</i></blockquote>\n<br><br>\nWell, let&apos;s see.  I read the whole spec, more than once, and what I figured out for myself with my \n&quot;common sense&quot; is what I wrote above.  I thought\nthe spec called for ASCII (as in: <a href=\"http://www.asciitable.com/\" target=\"_top\">ASCII</a>), and assumed that\nencoding binary data called for something like Base64.  Yes, I realize that <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> is XML, but\nwhen a spec calls for ASCII as a particular part, I assume that there&apos;s a reason for it\nsince that&apos;s what the specification specified.<br><br><br>\nIn my experience, specifications are not about common sense, figuring it out, and\n<a href=\"http://dictionary.reference.com/search?q=connotation\" target=\"_top\">connotation</a>.  Specifications are\nabout declaration, clarity, and \n<a href=\"http://dictionary.reference.com/search?q=denotation\" target=\"_top\">denotation</a>.<br><br><br>\nYes, I understand that no\nspec is perfect, and that many are steaming piles meeting none of the criteria I just mentioned,\nbut that doesn&apos;t alter the goal.  A spec can always be made better by revising \nwith these things in mind, given the input of consumers of the spec.  This is what a process\nof communication is all about, and specifications are intended as a form of communication.\n<br><br>\nSo, instead of talking about <i>intent</i> and things that have been talked about somewhere\nat some time, with the implication that I should just go off and search for these things, can \nwe just get a clarifying fix to the <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> spec?  I don&apos;t want to send my clients off to \nmailing list and discussion archives, or present <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> with any corrections or caveats.  I\nwant to say, as I have been, &quot;Here, go to xmlrpc.com, read the spec, implement to the API\nI emailed you, and get back to me.&quot;  Only, it&apos;d be nice if the first question is about my API, \nnot about character encoding.\n<br><br>\nI&apos;ve been confused, and so have others.  I consider myself a smart person, and I consider most\nof the others who have been confused as even smarter.  I apologize if my &quot;common sense&quot; is of a\ndifferent sort, but that&apos;s what you have to deal with in the world of people.  As young as I am,\neven I&apos;ve discovered this already.\n<br><br>\nSo, can we just get a clarifying revision of the spec?  And if not, why not?\n<br><br>\n<b>Update:</b> Rock on.  After <a href=\"http://www.intertwingly.net/blog/1498.html#c1056890028\" target=\"_top\">catching up</a> \non a bit of banter over at <a href=\"http://www.intertwingly.net/blog/1498.htm\" target=\"_top\">Sam&apos;s place</a>, I see that\nthe same Fredrik Lundh I quoted before has already begun an\n<a href=\"http://effbot.org/zone/xmlrpc-errata.htm\" target=\"_top\">XML-RPC errata</a> page with the goal of clarification.\n(I just missed it in my daily reading thus far.)  As \n<a href=\"http://www.intertwingly.net/blog/1498.html#c1056904400\" target=\"_top\">Mark comments</a>, I fear bumps in the\nroad as any confused implementors find things weren&apos;t what they thought, but I&apos;m happy to see\nthe clarification accepted.\n<br><br>\n<b>Update again:</b> If you&apos;ve stopped rocking, resume.  Dave Winer \n<a href=\"http://scriptingnews.userland.com/2003/06/30#When:11:41:21AM\" target=\"_top\">updated the XML-RPC spec</a>.\nIt was a small change, could have been more, but had not been done at all until now.  I\ndoubt that my asking please really had much to do with it, but I couldn&apos;t guess that it \nhurt.  Thanks!\n</p>","path":"2003/06/30/plz-fix-xmlrpc-spec","content":"<p>I&#39;ve written before that <a href=\"http://www.decafbad.com/blog/tech/old/oooccb.html\" target=\"_top\">I love XML-RPC</a>, and\nthat it has served me well in the past couple of years.  I think it&#39;s the right tool for a broad\nrange of jobs.  But, after having studied the spec, and after having implemented it in a handful\nof languages for a handful of well-used apps, I think the spec needs just a bit of fixing.\n<br /><br />\nIn particular, the spec needs a tweak with regards to this &quot;ASCII limitation&quot;.  There is confusion\nabout this, period.  I&#39;ve had to hash this out with clients before, this \n<a href=\"http://www.jspwiki.org/Wiki.jsp?page=WikiRPCInterfaceUTF8VsBase64\" target=\"_top\">was an issue of note</a> while\nworking out an <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpcToWiki\" target=\"_top\">XML-RPC based Wiki API</a>,\nand it&#39;s obviously an issue in many other projects.  This, of course, includes the current\n<a href=\"http://www.sixapart.com/log/2003/06/why_we_need_ech.shtml\" target=\"_top\">hubbub surrounding weblog APIs and whatnot</a>.\n<br /><br />\nSo, please fix the spec.  It shouldn&#39;t take long to make this issue a non-issue by some simple\nclarification in the main <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> to which everyone refers.\n<br /><br />\nYes, I know there&#39;s a bit of clarification at the end of the spec, involving escaping (\n<a href=\"http://tbray.org/ongoing/When/200x/2003/06/28/Learning\" target=\"_top\">not encoding</a>) &lt; and &amp; along\nwith the statement that &quot;A string can be used to encode binary data.&quot;<br><br /><br />\nWell, yeah, I do that\nall the time with <a href=\"http://www.fourmilab.ch/webtools/base64/rfc1341.html\" target=\"_top\">Base64</a>.  And, since\nthe spec earlier had called for &quot;ASCII&quot;, I assume that&#39;s what <a href=\"http://dictionary.reference.com/search?q=encoding\" target=\"_top\">encoding</a>\nbinary data means in the context of this spec.  To me, encoding implies a transformation \nfrom original form to some other form later requiring decoding.\n<br /><br />\nBut, apparently, my interpretation and \n<a href=\"http://www.intertwingly.net/blog/1498.html#c1056921193\" target=\"_top\">the interpretation of others</a>\nis wrong on that score.  But still, I&#39;ve been confused, and so have others.  Consider this a bug report.\n<br /><br />\nI&#39;ve been referred <a href=\"http://www.effbot.org/zone/xmlrpc-ascii.htm\" target=\"_top\">by Fredrik Lundh</a> (<a href=\"http://scriptingnews.userland.com/2003/06/29#When:6:21:27AM\" target=\"_top\">via Dave Winer</a>), \nto &quot;private conversations&quot;,\n&quot;various public fora&quot;, and &quot;early archives for the XML-RPC mailing list&quot;.  And, again by Fredrik Lundh,\n<a href=\"http://www.effbot.org/zone/xmlrpc-ascii.htm\" target=\"_top\">I&#39;m told</a>:</p>\n<p><blockquote><i>But even if you don&#39;t know all this, it&#39;s not that hard to figure it out for\nyourself. Just make sure you read and digest the entire specification, apply some common sense\nto sort out the contradictions, and you&#39;ll find that it&#39;s pretty obvious that the intent is that\nyou can use any character allowed by XML.</i></blockquote>\n<br /><br />\nWell, let&#39;s see.  I read the whole spec, more than once, and what I figured out for myself with my \n&quot;common sense&quot; is what I wrote above.  I thought\nthe spec called for ASCII (as in: <a href=\"http://www.asciitable.com/\" target=\"_top\">ASCII</a>), and assumed that\nencoding binary data called for something like Base64.  Yes, I realize that <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> is XML, but\nwhen a spec calls for ASCII as a particular part, I assume that there&#39;s a reason for it\nsince that&#39;s what the specification specified.<br><br /><br />\nIn my experience, specifications are not about common sense, figuring it out, and\n<a href=\"http://dictionary.reference.com/search?q=connotation\" target=\"_top\">connotation</a>.  Specifications are\nabout declaration, clarity, and \n<a href=\"http://dictionary.reference.com/search?q=denotation\" target=\"_top\">denotation</a>.<br><br /><br />\nYes, I understand that no\nspec is perfect, and that many are steaming piles meeting none of the criteria I just mentioned,\nbut that doesn&#39;t alter the goal.  A spec can always be made better by revising \nwith these things in mind, given the input of consumers of the spec.  This is what a process\nof communication is all about, and specifications are intended as a form of communication.\n<br /><br />\nSo, instead of talking about <i>intent</i> and things that have been talked about somewhere\nat some time, with the implication that I should just go off and search for these things, can \nwe just get a clarifying fix to the <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> spec?  I don&#39;t want to send my clients off to \nmailing list and discussion archives, or present <a href=\"http://www.decafbad.com/twiki/bin/view/Main/XmlRpc\">XmlRpc</a> with any corrections or caveats.  I\nwant to say, as I have been, &quot;Here, go to xmlrpc.com, read the spec, implement to the API\nI emailed you, and get back to me.&quot;  Only, it&#39;d be nice if the first question is about my API, \nnot about character encoding.\n<br /><br />\nI&#39;ve been confused, and so have others.  I consider myself a smart person, and I consider most\nof the others who have been confused as even smarter.  I apologize if my &quot;common sense&quot; is of a\ndifferent sort, but that&#39;s what you have to deal with in the world of people.  As young as I am,\neven I&#39;ve discovered this already.\n<br /><br />\nSo, can we just get a clarifying revision of the spec?  And if not, why not?\n<br /><br />\n<b>Update:</b> Rock on.  After <a href=\"http://www.intertwingly.net/blog/1498.html#c1056890028\" target=\"_top\">catching up</a> \non a bit of banter over at <a href=\"http://www.intertwingly.net/blog/1498.htm\" target=\"_top\">Sam&#39;s place</a>, I see that\nthe same Fredrik Lundh I quoted before has already begun an\n<a href=\"http://effbot.org/zone/xmlrpc-errata.htm\" target=\"_top\">XML-RPC errata</a> page with the goal of clarification.\n(I just missed it in my daily reading thus far.)  As \n<a href=\"http://www.intertwingly.net/blog/1498.html#c1056904400\" target=\"_top\">Mark comments</a>, I fear bumps in the\nroad as any confused implementors find things weren&#39;t what they thought, but I&#39;m happy to see\nthe clarification accepted.\n<br /><br />\n<b>Update again:</b> If you&#39;ve stopped rocking, resume.  Dave Winer \n<a href=\"http://scriptingnews.userland.com/2003/06/30#When:11:41:21AM\" target=\"_top\">updated the XML-RPC spec</a>.\nIt was a small change, could have been more, but had not been done at all until now.  I\ndoubt that my asking please really had much to do with it, but I couldn&#39;t guess that it \nhurt.  Thanks!\n<!--more-->\nshortname=plz_fix_xmlrpc_spec</p>\n<div id=\"comments\" class=\"comments archived-comments\">\n            <h3>Archived Comments</h3>\n\n        <ul class=\"comments\">\n\n        <li class=\"comment\" id=\"comment-221084763\">\n            <div class=\"meta\">\n                <div class=\"author\">\n                    <a class=\"avatar image\" rel=\"nofollow\" \n                       href=\"http://online.effbot.org\"><img src=\"http://www.gravatar.com/avatar.php?gravatar_id=091389371fc39ff470d91c8d72f5fca4&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png\"/></a>\n                    <a class=\"avatar name\" rel=\"nofollow\" \n                       href=\"http://online.effbot.org\">Fredrik Lundh</a>\n                </div>\n                <a href=\"#comment-221084763\" class=\"permalink\"><time datetime=\"2003-06-30T17:48:03\">2003-06-30T17:48:03</time></a>\n            </div>\n            <div class=\"content\">&quot;I consider myself a smart person, and I consider most of the others who have been confused as even smarter.&quot;\n\nOh, I&#39;m really stupid, but I had no problem noticing that the specification wasn&#39;t consistent with itself, and that three out of four references to encodings said that &quot;any XML character&quot; could be used ;-)\n\n&quot;So, can we just get a clarifying revision of the spec?&quot;\n\nSure can; the &quot;ASCII&quot; is gone.\n\n&quot;And if not, why not?&quot;\n\nI don&#39;t have access to Dave&#39;s site ;-)\n\nCheers /F</div>\n\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221084764&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://online.effbot.org&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=091389371fc39ff470d91c8d72f5fca4&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://online.effbot.org&quot;&gt;Fredrik Lundh&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221084764&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2003-06-30T17:50:29&quot;&gt;2003-06-30T17:50:29&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Oops. Looks like your comment tool ate my linefeeds.  Hope it liked them.  I&#39;m sure anyone reading this can figure out where they were.&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221084766&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=2ac2cffd36ada8c734b90e02a1e5c1ac&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com&quot;&gt;l.m.orchard&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221084766&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2003-06-30T20:11:20&quot;&gt;2003-06-30T20:11:20&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Grr, that&#39;s a bug I&#39;ve been meaning to fix for a month or so now.  While we&#39;re in the bug fixing mood...  your linefeeds are restored!\n</code></pre><p>Oh, and since you replied, I&#39;ll take the minute to thank you for your XML-RPC work in Python.  It&#39;s saved my bacon more than once.  :)</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221084767&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=dc59c5ba9a8aa0a6225d9959eea3b7f3&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;&quot;&gt;Dave Winer&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221084767&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2003-06-30T20:35:39&quot;&gt;2003-06-30T20:35:39&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Glad to see we&#39;re back on friendly terms. ;-&gt;&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221084768&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=dc59c5ba9a8aa0a6225d9959eea3b7f3&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;&quot;&gt;Dave Winer&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221084768&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2003-06-30T20:35:49&quot;&gt;2003-06-30T20:35:49&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Glad to see we&#39;re back on friendly terms. ;-&gt;&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;/ul&gt;\n\n    &lt;/div&gt;\n</code></pre>"}