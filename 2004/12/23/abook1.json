{"comments_archived":true,"date":"2004-12-23T00:00:00.000Z","excerpt":"So, in the spirit of pico-projects, I've started building that\naddress book application I mentioned awhile ago and I want to start\nwriting about it as I go.","layout":"post","tags":["hacks","xml"],"title":"Building an Address Book as a Modern Web App","wordpress_id":580,"wordpress_slug":"abook1","wordpress_url":"http://www.decafbad.com/blog/?p=580","url":"/2004/12/23/abook1/","thumbnail":"http://www.decafbad.com/2004/12/abook-architecture.jpg","summary":"<p><img src=\"http://www.decafbad.com/2004/12/abook-architecture.jpg\" align=\"right\"></p>\n<p>So, in the spirit of <a href=\"http://www.decafbad.com/blog/2004/11/30/picoprojects_and_trepanation\">pico-projects</a>, I&apos;ve started building <a href=\"http://www.decafbad.com/blog/2004/11/30/nextgenwebapps\">that address book application</a> I mentioned awhile ago and I want to start writing about it as I go.</p>\n<p>First off, hopefully you&apos;ll notice the quick diagram I threw together in OmniGraffle.  This is a sort of rough sketch of the loosely-joined architecture I want to explore with this thing.  </p>\n<ul>\n<li><em>Data</em>: This is where address book entries live.</li>\n<li><em>Model</em>: A set of objects encapsulating the data, this is how address book entries will be accessed.</li>\n<li><em>REST API</em>: Model objects exposed as resources identified by URI, serialized and deserialized as XML, and manipulated by GET / PUT / POST / DELETE methods.</li>\n<li><em>XSLT Filter</em>: XML data produced by REST API calls can be first passed through XSL at a given URL before being served up as a response.  </li>\n<li><em>HTML, CSS, JavaScript</em>: Thanks to the XSLT filter layer, the XML vocabulary used to describe address book entries can be transformed into user interface presentation.</li>\n<li><em>HTTP</em>: Everything happens via HTTP...</li>\n<li><em>Web Browser Client</em>: ...and everything is viewed in a web browser.</li>\n</ul>\n<p>Now, I call this a loosely-joined architecture because I want to stress that you should be able to swap out just about any part of this whenever you want.  </p>\n<p>Want the <em>Data</em> to be in MySQL?  Fine.  Want it to be in flat files?  Fine.  Just make sure the <em>Model</em> can cope while maintaining a consistent interface for the <em>REST API</em>.  Want to change the user interface in the browser?  Great-- ideally, all you have to do is change some XSLT files.  I&apos;m writing everything from the <em>XSLT Filter</em> down to the <em>Model</em> in Python.  Don&apos;t like that?  Fine.  Rewrite it all in Perl, and hopefully everything from the XSLT up to the browser will still be useful to you.</p>\n<p>At some point, you might even want to ditch the browser for a native desktop client.  Fabulous! Just ignore everything past the <em>REST API</em> and <em>HTTP</em>, don&apos;t use any XSLT in the <em>Filter</em>, and use the API and XML directly.</p>\n<p>I don&apos;t think any of this is particularly revolutionary-- although I thought it was when I first saw Amazon Web Services doing some of this, and I hope to throw a little GMail in as well.  I hope that this will all be useful as I muddle through explaining what I&apos;m doing.  In the meantime, you can see me getting the stage set as I start checking things into my Subversion repository over here:</p>\n<ul>\n<li><a href=\"http://www.decafbad.com/svn/trunk/hacks/abook/\">http://www.decafbad.com/svn/trunk/hacks/abook/</a></li></ul>","path":"2004/12/23/abook1","content":"<p><img src=\"http://www.decafbad.com/2004/12/abook-architecture.jpg\" align=\"right\" /></p>\n<p>So, in the spirit of <a href=\"http://www.decafbad.com/blog/2004/11/30/picoprojects_and_trepanation\">pico-projects</a>, I&#39;ve started building <a href=\"http://www.decafbad.com/blog/2004/11/30/nextgenwebapps\">that address book application</a> I mentioned awhile ago and I want to start writing about it as I go.</p>\n<p>First off, hopefully you&#39;ll notice the quick diagram I threw together in OmniGraffle.  This is a sort of rough sketch of the loosely-joined architecture I want to explore with this thing.  </p>\n<ul>\n<li><em>Data</em>: This is where address book entries live.</li>\n<li><em>Model</em>: A set of objects encapsulating the data, this is how address book entries will be accessed.</li>\n<li><em>REST API</em>: Model objects exposed as resources identified by URI, serialized and deserialized as XML, and manipulated by GET / PUT / POST / DELETE methods.</li>\n<li><em>XSLT Filter</em>: XML data produced by REST API calls can be first passed through XSL at a given URL before being served up as a response.  </li>\n<li><em>HTML, CSS, JavaScript</em>: Thanks to the XSLT filter layer, the XML vocabulary used to describe address book entries can be transformed into user interface presentation.</li>\n<li><em>HTTP</em>: Everything happens via HTTP...</li>\n<li><em>Web Browser Client</em>: ...and everything is viewed in a web browser.</li>\n</ul>\n<p>Now, I call this a loosely-joined architecture because I want to stress that you should be able to swap out just about any part of this whenever you want.  </p>\n<p>Want the <em>Data</em> to be in MySQL?  Fine.  Want it to be in flat files?  Fine.  Just make sure the <em>Model</em> can cope while maintaining a consistent interface for the <em>REST API</em>.  Want to change the user interface in the browser?  Great-- ideally, all you have to do is change some XSLT files.  I&#39;m writing everything from the <em>XSLT Filter</em> down to the <em>Model</em> in Python.  Don&#39;t like that?  Fine.  Rewrite it all in Perl, and hopefully everything from the XSLT up to the browser will still be useful to you.</p>\n<p>At some point, you might even want to ditch the browser for a native desktop client.  Fabulous! Just ignore everything past the <em>REST API</em> and <em>HTTP</em>, don&#39;t use any XSLT in the <em>Filter</em>, and use the API and XML directly.</p>\n<p>I don&#39;t think any of this is particularly revolutionary-- although I thought it was when I first saw Amazon Web Services doing some of this, and I hope to throw a little GMail in as well.  I hope that this will all be useful as I muddle through explaining what I&#39;m doing.  In the meantime, you can see me getting the stage set as I start checking things into my Subversion repository over here:</p>\n<ul>\n<li><a href=\"http://www.decafbad.com/svn/trunk/hacks/abook/\">http://www.decafbad.com/svn/trunk/hacks/abook/</a><!--more-->\nshortname=abook1</li>\n</ul>\n<div id=\"comments\" class=\"comments archived-comments\">\n            <h3>Archived Comments</h3>\n\n        <ul class=\"comments\">\n\n        <li class=\"comment\" id=\"comment-221085892\">\n            <div class=\"meta\">\n                <div class=\"author\">\n                    <a class=\"avatar image\" rel=\"nofollow\" \n                       href=\"http://trikuare.cx/\"><img src=\"http://www.gravatar.com/avatar.php?gravatar_id=7d3d1e46aae8ca19855a6026d404b91d&amp;size=32&amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png\"/></a>\n                    <a class=\"avatar name\" rel=\"nofollow\" \n                       href=\"http://trikuare.cx/\">fluffy</a>\n                </div>\n                <a href=\"#comment-221085892\" class=\"permalink\"><time datetime=\"2004-12-23T07:35:40\">2004-12-23T07:35:40</time></a>\n            </div>\n            <div class=\"content\">Don&#39;t forget that with XSLT you could also rewrite it to SyncML and vCard and so on, so you could also sync it with external devices and iSync (assuming Apple finally opens up a third-party conduit system in Tiger, preferably one which doesn&#39;t require .Mac to function).</div>\n\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085894&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://eliot.landrum.cx&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=8b8f5370253bd0e0030154baa15785ed&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://eliot.landrum.cx&quot;&gt;eliot&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085894&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2004-12-23T09:12:34&quot;&gt;2004-12-23T09:12:34&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;I&#39;m looking forward to what becomes of this little app. Address book apps seem to all be severely lacking (with the possible exception of OS X&#39;s app) and need some fresh thinking. Making the components flexible could be a great way for some change to come about. \n</code></pre><p>Keep us posted!</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085895&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com/&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=2377f34a68801b861c3e54e1301f0dce&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.decafbad.com/&quot;&gt;l.m.orchard&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085895&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2004-12-23T12:41:13&quot;&gt;2004-12-23T12:41:13&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;Well, hopefully it&#39;s not too disappointing, but this address book app will be pretty anemic in terms of use as a serious app.  Implementing an address book is just an excuse to run through the various technologies involved.\n</code></pre><p>However, there&#39;s nothing stopping anyone (including me) from enhancing the thing when I&#39;m done and making it into a serious offering with vCard support and such.</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085896&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://webseitz.fluxent.com/wiki&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=8157a5907b244071cda98ba5aa7a9635&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://webseitz.fluxent.com/wiki&quot;&gt;Bill Seitz&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085896&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2004-12-27T12:23:46&quot;&gt;2004-12-27T12:23:46&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;(Hmm, posted last week but it never showed up...)\n</code></pre><p>What are you thinking in terms of having this data store actually used by, say, your email client?</p>\n<p>Make it look like an LDAP server, maybe?</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085898&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.chuckknows.com&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=6cede7ba6ff803837ba2da9cc6e466b6&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.chuckknows.com&quot;&gt;Chuck Conway&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085898&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2005-01-02T20:37:00&quot;&gt;2005-01-02T20:37:00&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;How Funny! I&#39;ve been thinking about doing the same thing.\n</code></pre><p>The only difference is I was thinking about doing address book, bookmarks and my RSS feeds. </p>\n<p>Those are the things I miss the most when I am away.</div></p>\n<pre><code>    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085900&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.worldwide-sources.com&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=73de6d1640f8cae902843f4a753bcaee&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://www.worldwide-sources.com&quot;&gt;William&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085900&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2005-03-05T05:16:08&quot;&gt;2005-03-05T05:16:08&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;I&#39;m curious to see where this little app is going its still needs more work&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;li class=&quot;comment&quot; id=&quot;comment-221085903&quot;&gt;\n        &lt;div class=&quot;meta&quot;&gt;\n            &lt;div class=&quot;author&quot;&gt;\n                &lt;a class=&quot;avatar image&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://webseitz.fluxent.com/wiki&quot;&gt;&lt;img src=&quot;http://www.gravatar.com/avatar.php?gravatar_id=8157a5907b244071cda98ba5aa7a9635&amp;amp;size=32&amp;amp;default=http://mediacdn.disqus.com/1320279820/images/noavatar32.png&quot;/&gt;&lt;/a&gt;\n                &lt;a class=&quot;avatar name&quot; rel=&quot;nofollow&quot; \n                   href=&quot;http://webseitz.fluxent.com/wiki&quot;&gt;Bill Seitz&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;a href=&quot;#comment-221085903&quot; class=&quot;permalink&quot;&gt;&lt;time datetime=&quot;2006-08-26T13:37:35&quot;&gt;2006-08-26T13:37:35&lt;/time&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;content&quot;&gt;&lt;p&gt;I see you working with Tarawa in there. Did you like it? Is it being worked on at all?&lt;/p&gt;&lt;/div&gt;\n\n    &lt;/li&gt;\n\n    &lt;/ul&gt;\n\n    &lt;/div&gt;\n</code></pre>"}